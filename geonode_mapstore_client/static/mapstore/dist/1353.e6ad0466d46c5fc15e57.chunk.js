(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1353],{53001:(e,t,r)=>{"use strict";r.d(t,{xT:()=>n,H_:()=>o,Wv:()=>a,gC:()=>i,dG:()=>l,oQ:()=>s,Q2:()=>c,R3:()=>u,Zr:()=>p,Op:()=>d,l$:()=>f,uL:()=>m,zg:()=>A,M3:()=>b,st:()=>g,US:()=>h,$c:()=>S,pW:()=>y,$D:()=>v,ke:()=>w,vw:()=>E,r5:()=>x,X1:()=>O,V3:()=>k,p2:()=>P});var n="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",a="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",i="BACKGROUND_SELECTOR:BACKGROUND_ADDED",l="BACKGROUND_SELECTOR:BACKGROUND_EDITED",s="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",c="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",u="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",p="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",d="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",f="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",m="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",A="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function b(e){return{type:d,backgrounds:e}}function g(e){return{type:n,source:e}}function h(e){return{type:s,modalParams:e}}function S(e){return{type:c,modalParams:e}}function y(e){return{type:i,layerId:e}}function v(e){return{type:l,layerId:e}}function w(e){return{type:a,layerId:e}}function E(e){return{type:A,allow:e}}function x(e,t){return{type:u,thumbnailData:e,id:t}}function O(e){return{type:o,backgroundId:e}}function k(){return{type:f}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:m,show:e,layerTitle:t,layerId:r}}},59551:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(8575),o=r(91175),a=r.n(o),i=r(10928),l=r.n(i),s=r(27418),c=r.n(s),u=r(75875),p=r.n(u),d=r(37275),f=r(90183),m=function(e){var t=n.parse(e,!0);return n.format(c()({},t,{search:null},{query:c()({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},A={parseUrl:m,getRecordById:function(e){return new Promise((function(t){Promise.all([r.e(9942),r.e(6372)]).then(function(){t(p().get(e).then((function(e){if(e){var t=r(66372).unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var n=t.value.abstractRecord[0].value.dcElement;if(n){for(var o={references:[]},a=0;a<n.length;a++){var i=n[a],l=i.name.localPart,s={};s="references"===l&&i.value?{value:i.value.content&&(0,d.$F)(i.value.content[0])||i.value.content||i.value,scheme:i.value.scheme}:i.value.content&&i.value.content[0]||i.value.content||i.value,o[l]&&Array.isArray(o[l])?o[l].push(s):o[l]?o[l]=[o[l],s]:o[l]=s}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,r)).catch(r.oe)}))},getRecords:function(e,t,n,o){return new Promise((function(i){Promise.all([r.e(9942),r.e(1269)]).then(function(){var s=r(66372),c=s.CSW,u=s.marshaller,A=s.unmarshaller,b=u.marshalString({name:"csw:GetRecords",value:c.getRecords(t,n,o)});i(p().post(m(e),b,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=A.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var r=t.value,n=r.searchResults.abstractRecord||r.searchResults.any,o={numberOfRecordsMatched:r.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:r.searchResults.numberOfRecordsReturned,nextRecord:r.searchResults.nextRecord},i=[];if(n)for(var s=0;s<n.length;s++){var c=n[s].value,u={dateStamp:c.dateStamp&&c.dateStamp.date,fileIdentifier:c.fileIdentifier&&c.fileIdentifier.characterString&&c.fileIdentifier.characterString.value,identificationInfo:c.abstractMDIdentification&&c.abstractMDIdentification.value};if(c.boundingBox){var p,m=void 0,b=void 0;if((p=Array.isArray(c.boundingBox)?a()(c.boundingBox):c.boundingBox)&&p.value){var g,h,S,y,v=null!==(g=null===(h=p.value)||void 0===h?void 0:h.crs)&&void 0!==g?g:"",w=null===(S=v.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===S?void 0:S[0],E=(0,f.makeNumericEPSG)(null===(y=v.match(/EPSG:[0-9]+/))||void 0===y?void 0:y[0]),x=p.value.lowerCorner,O=p.value.upperCorner,k=E||(0,f.extractCrsFromURN)(w)||l()(v.split(":"));if(k){if("EPSG:"===k.slice(0,5)){if(!(b=(0,f.makeNumericEPSG)(k)))throw new Error('No suitable EPSG numeric conversion found for "'.concat(k,'"'))}else if(!(b=(0,f.makeNumericEPSG)("EPSG:".concat(k))))throw new Error('No suitable EPSG numeric conversion found for "'.concat(k,'"'))}else b="EPSG:4326";"EPSG:4326"===b&&"CRS84"!==k&&"OGC:CRS84"!==k&&(x=[x[1],x[0]],O=[O[1],O[0]]),m=(0,f.makeBboxFromOWS)(x,O)}u.boundingBox={extent:m,crs:b}}var P=c.dcElement;if(P){for(var C={references:[]},R=0;R<P.length;R++){var T=P[R],j=T.name.localPart,B={};B="references"===j&&T.value?{value:T.value.content&&(0,d.$F)(T.value.content[0])||T.value.content||T.value,scheme:T.value.scheme}:T.value.content&&T.value.content[0]||T.value.content||T.value,C[j]&&Array.isArray(C[j])?C[j].push(B):C[j]?C[j]=[C[j],B]:C[j]=B}u.dc=C}i.push(u)}return o.records=i,o}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,r)).catch(r.oe)}))},textSearch:function(e,t,n,o){return new Promise((function(a){Promise.all([r.e(9942),r.e(1269)]).then(function(){var i=r(84454).Filter,l=null;if(o){var s=i.propertyIsLike("csw:AnyText","%"+o+"%");l=i.filter(s)}a(A.getRecords(e,t,n,l))}.bind(null,r)).catch(r.oe)}))},workspaceSearch:function(e,t,n,o,a){return new Promise((function(i){Promise.all([r.e(9942),r.e(1269)]).then(function(){var l=r(84454).Filter,s=a||"%",c=o&&"%"+o+"%"||"%",u=l.propertyIsLike("identifier",s+":"+c),p=l.filter(u);i(A.getRecords(e,t,n,p))}.bind(null,r)).catch(r.oe)}))},reset:function(){}};const b=A},3475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(75875),o=r.n(n),a=r(37275),i=r(8575),l=r(27418),s=r.n(l),c=r(5055),u=r.n(c),p=r(84596),d=r.n(p),f=r(90183),m=r(7294),A={},b=function(e){var t=i.parse(e,!0);return i.format(s()({},t,{search:null},{query:s()({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},g=function(e,t,r,n,o){for(var a=e.Capabilities.Contents,i=(0,m.G6)(e),l=(0,m.s5)(e),c=a.TileMatrixSet&&d()(a.TileMatrixSet)||[],u=[],p=c.length,A=0;A<p;A++)u.push((0,f.getEPSGCode)(c[A]["ows:SupportedCRS"]));var b=a.Layer,g=d()(b).filter((function(e){return!n||-1!==e["ows:Identifier"].toLowerCase().indexOf(n.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:g.length,numberOfRecordsReturned:Math.min(r,g.length),nextRecord:t+Math.min(r,g.length)+1,records:g.filter((function(e,n){return n>=t-1&&n<t-1+r})).map((function(e){return s()({},e,{SRS:u,TileMatrixSet:c,queryable:!!(0,m.b4)(i,"GetFeatureInfo","KVP"),requestEncoding:l,style:(0,m.EN)(e),format:(0,m.JY)(e),GetTileURL:(0,m.b4)(i,"GetTile",l),capabilitiesURL:o})}))}},h={parseUrl:b,getRecords:function(e,t,r,n){var i=A[e];return i&&(new Date).getTime()<i.timestamp+1e3*((0,a.u8)("cacheExpire")||60)?new Promise((function(o){o(g(i.data,t,r,n,e))})):o().get(b(e)).then((function(o){var a;return u().parseString(o.data,{explicitArray:!1},(function(e,t){a=t})),A[e]={timestamp:(new Date).getTime(),data:a},g(a,t,r,n,e)}))},getCapabilities:function(e){var t=A[e];return t&&(new Date).getTime()<t.timestamp+1e3*((0,a.u8)("cacheExpire")||60)?new Promise((function(e){e(t.data)})):o().get(b(e)).then((function(t){var r;return u().parseString(t.data,{explicitArray:!1},(function(e,t){r=t})),A[e]={timestamp:(new Date).getTime(),data:r},r}))},textSearch:function(e,t,r,n){return h.getRecords(e,t,r,n)},reset:function(){Object.keys(A).forEach((function(e){delete A[e]}))}};const S=h},32354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(27361),o=r.n(n),a=r(37275),i=function(e,t,r,n){var i=o()(a.ZP.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!n||e.title.indexOf(n)>-1})),l=i.filter((function(e,n){return n>=t-1&&n<r+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:i.length,numberOfRecordsReturned:l.length,records:l,service:{Name:"Background Provider"}})}))};const l={getRecords:i,reset:function(){},textSearch:function(e,t,r,n){return i(0,t,r,n)}}},2220:(e,t,r)=>{"use strict";r.d(t,{Z:()=>rt});var n=r(5053),o=r.n(n),a=r(27418),i=r.n(a),l=r(5346),s=r(45697),c=r.n(s),u=r(80717);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(2349);var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(a){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return A(this,e)});function l(){return d(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this;return o().createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},o().createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?o().createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},o().createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,o().createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},o().createElement("img",{src:this.props.src}))),this.props.labelHeight>0?o().createElement(u.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}])&&f(t.prototype,r),l}(o().Component);g(h,"propTypes",{src:c().string,side:c().number,frame:c().number,margin:c().number,labelHeight:c().number,label:c().string,showLabel:c().bool,onToggle:c().func,onAdd:c().func,showAdd:c().bool}),g(h,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){},onAdd:function(){}});const S=h;var y=r(30294);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(n);if(a){var r=k(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return O(this,e)});function l(){return w(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",r=this.props.vertical?{width:this.props.side}:{height:this.props.side};return o().createElement("div",{className:t+" text-primary",style:r,onClick:this.props.onClick},o().createElement(y.Glyphicon,{glyph:e}))}}])&&E(t.prototype,r),l}(o().Component);P(C,"propTypes",{side:c().number,direction:c().bool,vertical:c().bool,glyphs:c().object,onClick:c().func}),P(C,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}});const R=C;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(n);if(a){var r=N(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return I(this,e)});function l(){return j(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(o().createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(o().createElement(R,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(o().createElement(R,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var r=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return o().createElement("div",{style:r},t)}}])&&B(t.prototype,r),l}(o().Component);L(_,"propTypes",{bottom:c().number,width:c().number,height:c().number,length:c().number,start:c().number,pagination:c().bool,vertical:c().bool,icons:c().array,onStartChange:c().func}),L(_,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}});const U=_;var M=r(3651),z=r.n(M),F=r(18721),G=r.n(F),Q=r(64721),Z=r.n(Q);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(29080);var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(n);if(a){var r=V(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return W(this,e)});function l(){return H(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this,t=z()(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,r="wmts"===this.props.layer.type&&G()(this.props.layer.allowedSRS,this.props.projection),n=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",a=this.props.layer.visibility?" bg-primary":" bg-body",i=(t||r||Z()(["wms","empty","osm"],this.props.layer.type))&&!this.props.layer.invalid,l=i?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return o().createElement("div",{className:n+a+(i?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},o().createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},o().createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:l,src:this.props.src})))}}])&&q(t.prototype,r),l}(o().Component);X(Y,"propTypes",{side:c().number,frame:c().number,margin:c().number,src:c().string,vertical:c().bool,layer:c().object,currentLayer:c().object,onPropertiesChange:c().func,onToggle:c().func,onLayerChange:c().func,setCurrentBackgroundLayer:c().func,projection:c().string}),X(Y,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}});const J=Y;var ee=r(90085),te=r(4116),re=r(24261),ne=r.n(re),oe=r(78718),ae=r.n(oe),ie=r(57557),le=r.n(ie),se=r(27361),ce=r.n(se),ue=r(3674),pe=r.n(ue),de=r(81763),fe=r.n(de),me=r(51584),Ae=r.n(me),be=r(94745),ge=r(38560),he=r(13718),Se=r(14068);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?Oe(e):t}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ce={FORMAT:o().createElement(l.Z,{msgId:"map.errorFormat"}),SIZE:o().createElement(l.Z,{msgId:"map.errorSize"})},Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(s,e);var t,r,n,a,i=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(n);if(a){var r=ke(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return xe(this,e)});function s(){var e;ve(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pe(Oe(e=i.call.apply(i,[this].concat(r))),"state",{}),Pe(Oe(e),"getThumbnailUrl",(function(){return e.props.map&&e.props.map.newThumbnail&&"NODATA"!==e.props.map.newThumbnail?decodeURIComponent(e.props.map.newThumbnail):null})),Pe(Oe(e),"getDataUri",(function(e,t){var r=e;if(r&&r.length>0){var n=r[0],o=new FileReader;return o.onload=function(e){return t(e.target.result,n.size)},o.readAsDataURL(n)}return t(null)})),Pe(Oe(e),"getThumbnailDataUri",(function(t){e.getDataUri(e.files,t)})),Pe(Oe(e),"generateUUID",(function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))})),Pe(Oe(e),"processUpdateThumbnail",(function(t,r,n){var o=e.generateUUID(),a="THUMBNAIL";!e.props.map||n||!e.props.map.thumbnail||e.refs.imgThumbnail||r||e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!0),e.props.map&&!n&&e.props.map.newThumbnail&&!e.refs.imgThumbnail&&r&&(e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,r,o,n,a,e.props.map.id)),e.props.map.newThumbnail&&n&&e.refs.imgThumbnail&&(e.deleteThumbnail(e.props.map.thumbnail,null,!1),e.props.onSaveAll(t,r,o,n,a,e.props.map.id)),e.props.map.newThumbnail&&!n&&e.refs.imgThumbnail&&e.props.onSaveAll(t,r,o,n,a,e.props.map.id),e.props.map.newThumbnail||n||e.refs.imgThumbnail||(e.props.map.thumbnail&&r&&e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,r,o,n,a,e.props.map.id))})),Pe(Oe(e),"updateThumbnail",(function(t,r){e.props.map.errors&&e.props.map.errors.length||e.getDataUri(e.files,(function(n){return e.processUpdateThumbnail(t,r,n),n}))})),Pe(Oe(e),"deleteThumbnail",(function(t,r){if(t&&-1!==t.indexOf("geostore")){var n=(0,he.C)(t);n&&e.props.onDeleteThumbnail(n,r)}})),e}return t=s,(r=[{key:"renderThumbnailErrors",value:function(){return this.props.thumbnailErrors&&this.props.thumbnailErrors.length>0?o().createElement("div",{className:"dropzone-errorBox alert-danger"},o().createElement("p",null,o().createElement(l.Z,{msgId:"map.error"})),this.props.thumbnailErrors.map((function(e){return o().createElement("div",{id:"error"+e,key:"error"+e,className:"error"+e},Ce[e])}))):null}},{key:"render",value:function(){var e=this;return o().createElement(Se.Z,{ref:"imgThumbnail",thumbnail:this.getThumbnailUrl(),className:null,dropZoneProps:{className:"dropzone alert alert-info",rejectClassName:"alert-danger"},loading:this.props.loading,maxFileSize:this.props.maxFileSize,style:{pointerEvents:this.props.map.saving?"none":"auto"},label:this.props.withLabel&&o().createElement("label",{className:"control-label"},o().createElement(l.Z,{msgId:"map.thumbnail"})),ù:!0,message:o().createElement(o().Fragment,null,this.props.message,o().createElement("br",null),this.props.suggestion),error:this.renderThumbnailErrors(),onUpdate:function(t,r){var n;e.props.onError([],e.props.map.id),e.files=r,e.props.onUpdate(t,null==r||null===(n=r[0])||void 0===n?void 0:n.preview)},onError:function(t,r){e.props.onError(t,e.props.map.id),e.files=r,e.props.onUpdate(null,null)},onRemove:function(){e.files=null,e.props.onUpdate(null,null),e.props.onRemoveThumbnail(),e.props.onError([],e.props.map.id)}})}}])&&we(t.prototype,r),s}(o().Component);Pe(Re,"propTypes",{glyphiconRemove:c().string,style:c().object,thumbnailErrors:c().array,loading:c().bool,withLabel:c().bool,map:c().object,maxFileSize:c().number,onDrop:c().func,onError:c().func,onUpdate:c().func,onSaveAll:c().func,onCreateThumbnail:c().func,onDeleteThumbnail:c().func,onRemoveThumbnail:c().func,message:c().oneOfType([c().string,c().element]),suggestion:c().oneOfType([c().string,c().element])}),Pe(Re,"contextTypes",{messages:c().object}),Pe(Re,"defaultProps",{loading:!1,withLabel:!0,glyphiconRemove:"remove-circle",maxFileSize:5e5,onDrop:function(){},onError:function(){},onUpdate:function(){},onSaveAll:function(){},onRemoveThumbnail:function(){},onCreateThumbnail:function(){},onDeleteThumbnail:function(){},message:o().createElement(l.Z,{msgId:"map.message"}),suggestion:o().createElement(l.Z,{msgId:"map.suggestion"}),map:{},thumbnailErrors:[]});const Te=Re;var je=r(86638);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){Ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ne(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Le(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qe=(0,r(15135).Z)(ge.Z),Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(c,e);var t,r,n,a,s=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(n);if(a){var r=Fe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Me(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Ge(ze(t=s.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[]}),Ge(ze(t),"assignParameters",(function(e){return pe()(e).map((function(t,r){var n=e[t],o=fe()(n)?"number":Ae()(n)?"boolean":"string";return{id:r,param:t,type:o,val:"string"===o?n.toString():n}}))})),Ge(ze(t),"addAdditionalParameter",(function(e,r,n,o){t.setState({additionalParameters:t.state.additionalParameters.map((function(t){if(t.id===n){var a,l;if("val"===r)switch(o){case"number":(l=Number(e))&&!isNaN(l)||(l=0);break;case"boolean":l=!Ae()(e)||e;break;default:l=e?e.toString():""}else l=e;return i()({},t,(Ge(a={},r,l),Ge(a,"type",o),a))}return t}))})})),Ge(ze(t),"resetParameters",(function(){return t.setState({additionalParameters:[]})}));var r=ae()(t.props,"title","format","style","thumbnail"),n=i()({},r,{additionalParameters:t.assignParameters(t.props.additionalParameters)});return t.state=n,t}return t=c,(r=[{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?o().createElement(y.FormGroup,null,o().createElement(y.ControlLabel,null,o().createElement(l.Z,{msgId:"layerProperties.style"})),o().createElement(te.ZP,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:o().createElement(l.Z,{msgId:"map.errorFormat"}),SIZE:o().createElement(l.Z,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?o().createElement("div",{className:"dropzone-errorBox alert-danger"},o().createElement("p",null,o().createElement(l.Z,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return o().createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?o().createElement(o().Fragment,null,o().createElement(y.FormGroup,{controlId:"formControlsSelect"},o().createElement(y.ControlLabel,null,o().createElement(l.Z,{msgId:"layerProperties.format"})),o().createElement(te.ZP,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),o().createElement(Qe,null,o().createElement("div",{style:{display:"flex",alignItems:"center"}},o().createElement(y.ControlLabel,{style:{flex:1}},o().createElement(l.Z,{msgId:"backgroundDialog.additionalParameters"})),o().createElement(Qe,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,Ne(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(Ne(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},o().createElement(y.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return o().createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},o().createElement("div",{style:{display:"flex",flex:1,marginRight:8}},o().createElement(y.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:(0,je.S$)(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(r){return e.addAdditionalParameter(r.target.value,"param",t.id,t.type)}}),"boolean"===t.type?o().createElement("div",{style:{width:"50%"}},o().createElement(te.ZP,{onChange:function(r){return e.addAdditionalParameter(r.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):o().createElement(y.FormControl,{style:{width:"50%",minWidth:0},placeholder:(0,je.S$)(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(r){return e.addAdditionalParameter(r.target.value,"val",t.id,t.type)}})),o().createElement(te.ZP,{style:{flex:1,width:90},onChange:function(r){return e.addAdditionalParameter(t.val,"val",t.id,r.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var r=t.label;return Ie(Ie({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["label"])),{},{label:(0,je.S$)(e.context.messages,r)})}))}),o().createElement(Qe,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},o().createElement(y.Glyphicon,{glyph:"trash"})))})))):null}},{key:"render",value:function(){var e=this;return o().createElement(be.Z,{fitContent:!0,title:o().createElement(l.Z,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:o().createElement(l.Z,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:ne()(),r=e.props.layer.thumbURL||"",n=e.state.format||e.props.defaultFormat;e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(i()({},e.props.layer,le()(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:le()(e.state.additionalParameters.reduce((function(e,t){return i()(e,Ge({},t.param,t.val))}),{}),["source","title"]),format:n,group:"background"},r||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},o().createElement(y.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),o().createElement(Te,{onUpdate:function(t,r){return e.setState({thumbnail:{data:t,url:r}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:o().createElement(l.Z,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:ce()(this.state.thumbnail,"url")||"NODATA"}}),o().createElement(y.FormGroup,null,o().createElement(y.ControlLabel,null,o().createElement(l.Z,{msgId:"layerProperties.title"})),o().createElement(y.FormControl,{value:this.state.title,placeholder:(0,je.S$)(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&_e(t.prototype,r),c}(o().Component);Ge(Ze,"propTypes",{loading:c().bool,editing:c().bool,layer:c().object,capabilities:c().object,onAdd:c().func,onClose:c().func,source:c().string,onSave:c().func,addParameters:c().func,updateThumbnail:c().func,thumbURL:c().string,title:c().string,format:c().string,style:c().string,thumbnail:c().object,additionalParameters:c().object,addParameter:c().func,defaultFormat:c().string,formatOptions:c().array,parameterTypeOptions:c().array,booleanOptions:c().array}),Ge(Ze,"contextTypes",{messages:c().object}),Ge(Ze,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]});var Ke=r(1262);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?Ye(e):t}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(c,e);var t,r,n,a,s=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Je(n);if(a){var r=Je(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Xe(this,e)});function c(){var e;$e(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return et(Ye(e=s.call.apply(s,[this].concat(r))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),et(Ye(e),"getIcons",(function(t,r,n,a){return e.props.enabled?e.props.layers.map((function(i,l){var s=e.getThumb(i);return o().createElement("div",{style:{width:(a?n:0)+(a?0:n)+t+r,height:n+t+r},className:"background-preview-container"},"mobile"!==e.props.mode&&o().createElement("div",{style:{width:(a?n:0)+t+r},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&o().createElement(ee.Z,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,i.title||i.name||"",i.id)}}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==i.type&&"wmts"!==i.type&&"tms"!==i.type&&"tileprovider"!==i.type)&&o().createElement(ee.Z,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:i,editing:!0})}})),o().createElement(J,{projection:e.props.projection,vertical:a,key:l,src:s,currentLayer:e.props.currentLayer,margin:n,side:t,frame:r,layer:i,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),et(Ye(e),"getDimensions",(function(t,r,n,o,a,i){var l=a/2-(t+2*r+2*n)-o,s=t+2*r+2*n+(t+2*r+n)*i+o>a/2,c=Math.floor(l/(t+2*r+n));return c=c>i?i:c,{pagination:s,listSize:e.props.enabled?(t+r+n)*c+52:0,visibleIconsLength:c}})),et(Ye(e),"renderBackgroundSelector",(function(){var t=i()({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),r=2*t.frame,n=t.side-r,a=e.props.enabled?t.sidePreview-r:n,s=t.margin,c=e.props.enabled?a-2*r:0,u=e.props.enabled?e.props.tempLayer:e.props.currentLayer,p=e.getIcons(n,r,s,t.vertical),d=e.getDimensions(n,r,s,0,t.vertical?e.props.size.height:e.props.size.width,p.length),f=d.pagination,m=d.listSize,A=d.visibleIconsLength,b=n+r+s,g=n+r+2*s,h=t.vertical?{bottom:g,left:0,width:g,height:m}:{left:a+2*s+r,width:m,height:b},y=t.vertical?{height:b*A,width:b}:{height:b,width:b*A},v=e.props.modalParams&&e.props.modalParams.layer||{},w=(e.props.backgroundList||[]).find((function(e){return e.id===v.id})),E={title:v.title,format:v.format,style:v.style,additionalParameters:v.params,thumbnail:{data:w&&w.thumbnail,url:e.getThumb(v)}},x=e.props.confirmDeleteBackgroundModal||{show:!1},O=x.show,k=x.layerId,P=x.layerTitle;return A<=0&&!e.props.alwaysVisible&&e.props.enabled?null:o().createElement("span",null,o().createElement(Ke.Z,{draggable:!1,modal:!0,show:O,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(k),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:o().createElement(l.Z,{msgId:"confirm"}),closeText:o().createElement(l.Z,{msgId:"cancel"}),closeGlyph:"1-close"},o().createElement(l.Z,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:P}})),e.props.modalParams&&o().createElement(Ze,qe({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},E,e.props.modalParams)),o().createElement("div",{className:"background-plugin-position",style:e.props.style},o().createElement(S,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(u),side:a,frame:r,margin:s,labelHeight:c,label:u.title,onToggle:e.props.onToggle}),o().createElement("div",{className:"background-list-container",style:h},o().createElement(U,{vertical:t.vertical,start:e.props.start,bottom:0,height:y.height,width:y.width,icons:p,pagination:f,length:A,onStartChange:e.props.onStartChange}))))})),e}return t=c,(r=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&We(t.prototype,r),c}(o().Component);et(tt,"propTypes",{mode:c().string,backgroundList:c().array,backgrounds:c().array,start:c().number,style:c().object,enabled:c().bool,layers:c().array,currentLayer:c().object,tempLayer:c().object,size:c().object,dimensions:c().object,thumbs:c().object,mapIsEditable:c().bool,onPropertiesChange:c().func,onToggle:c().func,onLayerChange:c().func,onStartChange:c().func,onAdd:c().func,hasCatalog:c().bool,alwaysVisible:c().bool,enabledCatalog:c().bool,onRemove:c().func,onBackgroundEdit:c().func,source:c().string,addBackgroundProperties:c().func,onUpdateThumbnail:c().func,removeBackground:c().func,onRemoveBackground:c().func,setCurrentBackgroundLayer:c().func,confirmDeleteBackgroundModal:c().object,deletedId:c().string,modalParams:c().object,updateNode:c().func,clearModal:c().func,allowDeletion:c().bool,projection:c().string}),et(tt,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:r(2750)},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}});const rt=tt},75480:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(5053),o=r.n(n);const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:r,className:"mapstore-inline-loader"})}},94745:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(5053),o=r.n(n),a=r(30294),i=r(7472),l=r(80717),s=r(49848),c=r(36786),u=r.n(c),p=r(75480),d={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},f={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};const m=(0,s.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,r=void 0!==t&&t,n=e.loading,s=e.loadingText,c=e.onClose,m=void 0===c?function(){}:c,A=e.title,b=void 0===A?"":A,g=e.clickOutEnabled,h=void 0===g||g,S=e.showClose,y=void 0===S||S,v=e.disabledClose,w=void 0!==v&&v,E=e.showFullscreen,x=void 0!==E&&E,O=e.fullscreenType,k=void 0===O?"full":O,P=e.buttons,C=void 0===P?[]:P,R=e.size,T=void 0===R?"":R,j=e.bodyClassName,B=void 0===j?"":j,D=e.children,I=e.draggable,N=void 0!==I&&I,L=e.fullscreenState,_=e.onFullscreen,U=e.fade,M=void 0!==U&&U,z=e.fitContent,F=e.modalClassName,G=void 0===F?"":F,Q=e.dialogClassName,Z=void 0===Q?"":Q,K=e.enableFooter,H=void 0===K||K,q=d[T]||"",$=x&&"expanded"===L&&f.className[k]||"",W=r?o().createElement("div",{className:"modal-fixed ".concat(G," ")+(N?"ms-draggable":"")},o().createElement(i.Z,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:h?m:function(){},containerClassName:"ms-resizable-modal",draggable:N,modal:!0,className:"modal-dialog modal-content"+q+$+Z+(z?" ms-fit-content":"")},o().createElement("span",{role:"header"},o().createElement("h4",{className:"modal-title"},o().createElement("div",{className:"ms-title"},b),x&&f.className[k]&&o().createElement(a.Glyphicon,{className:"ms-header-btn",onClick:function(){return _("expanded"===L?"collapsed":"expanded")},glyph:f.glyph[L][k]}),y&&m&&o().createElement(a.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:m,disabled:w}))),o().createElement("div",{role:"body",className:B},D),H&&o().createElement("div",{style:{display:"flex"},role:"footer"},o().createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},n?o().createElement(p.Z,null):null),o().createElement("div",{className:"ms-resizable-modal-loading-text"},n?s:null),o().createElement(l.Z,{buttons:C})))):null;return M?o().createElement(u(),{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},W):W}))},14068:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(5053),o=r.n(n),a=r(57210),i=r.n(a),l=r(32425),s=r(83139),c=r(80717);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const m=(0,n.forwardRef)((function(e,t){var r,a,f=e.className,m=void 0===f?"ms-thumbnail":f,A=e.label,b=e.loading,g=e.message,h=e.error,S=e.thumbnail,y=e.removeGlyph,v=void 0===y?"trash":y,w=e.removeTooltipId,E=void 0===w?"removeThumbnail":w,x=e.style,O=void 0===x?{}:x,k=e.maxFileSize,P=void 0===k?5e5:k,C=e.supportedImageTypes,R=void 0===C?["image/png","image/jpeg","image/jpg"]:C,T=e.thumbnailOptions,j=e.dropZoneProps,B=void 0===j?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:j,D=e.onUpdate,I=void 0===D?function(){}:D,N=e.onError,L=void 0===N?function(){}:N,_=e.onRemove,U=e.toolbarButtons,M=(0,n.useRef)(),z=(r=(0,n.useState)(),a=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(r,a)||d(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=z[0],G=z[1];if((0,n.useEffect)((function(){return M.current=!0,function(){M.current=!1}}),[]),b||F)return o().createElement("div",{className:"dropzone-thumbnail-container".concat(m?" ".concat(m):""," ms-loading")},o().createElement(l.Z,{size:70}));var Q=o().createElement(c.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:U||[{glyph:v,visible:!(!_||!S),tooltipId:E,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==_||_()}}]});return o().createElement("div",{className:"dropzone-thumbnail-container".concat(m?" ".concat(m):""),style:O},A,o().createElement(i(),u({},B,{multiple:!1,onDrop:function(e){var t,r=null==e||null===(t=e[0])||void 0===t?void 0:t.type,n=-1!==R.indexOf(r);G(!0),function(e,t){return new Promise((function(r){var n=e;if(null!=n&&n[0]){var o=n[0],a=new FileReader;return a.onload=function(e){return r(t?(0,s.Xq)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},a.readAsDataURL(o)}return r({data:null})}))}(e,T).then((function(t){var r=t.data,o=t.size;return M.current?(G(!1),n&&r&&o<P?I(r,e):L([].concat(p(n?[]:["FORMAT"]),p(r&&o>=P?["SIZE"]:[])),e)):null})).catch((function(e){return M.current?(G(!1),L(e)):null}))}}),S?o().createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o().createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(S,")"),backgroundSize:null!=T&&T.contain?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o().createElement("div",{className:"dropzone-content-image-added"},g),Q):o().createElement("div",{className:"dropzone-content-image"},g,Q,h&&o().createElement("div",{className:"dropzone-errors"},h))))}))},79504:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(89255),o=r(91175),a=r.n(o),i=r(53001),l=r(82904),s=r(81808),c=r(31273),u=r(80416),p=r(75110),d=r(31935),f=r(80833),m=r(24262);function A(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const y={accessMetadataExplorer:function(e){return e.ofType(i.xT).switchMap((function(){return n.Observable.of((0,l.Xg)("metadataexplorer","enabled",!0),(0,i.vw)(!1),(0,c.Dw)("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(i.oQ).switchMap((function(e){var t=e.modalParams,r=n.Observable.of((0,i.$c)(h(h({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?n.Observable.of((0,i.$c)(h(h({},t),{},{loading:!0}))).concat((0,f.kB)(t.layer).switchMap((function(e){return n.Observable.of((0,i.$c)(h(h({},t),{},{loading:!1,capabilities:(0,m.IA)(e)})))})).catch((function(){return r}))):r}))},backgroundsListInit:function(e){return e.ofType(s.ok).switchMap((function(e){var t,r=e.config,o=r.map&&r.map.backgrounds||[],l=(r.map&&r.map.layers||[]).filter((function(e){return"background"===e.group})),s=o.filter((function(e){return!!e.thumbnail})).map((function(e){return(0,u.He)(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);return URL.createObjectURL(new Blob([n],{type:r}))}(e.thumbnail)})})),c=a()(l.filter((function(e){return e.visibility})));return(t=n.Observable).of.apply(t,A(s.concat((0,i.M3)(o))).concat(A(c?[(0,i.ke)(c.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(i.Wv).switchMap((function(e){var r,o=e.layerId,a=t.getState(),i=(0,p.CA)(a,o);return(r=n.Observable).of.apply(r,A(i&&"background"===i.group?[(0,l.Xg)("backgroundSelector","tempLayer",i),(0,l.Xg)("backgroundSelector","currentLayer",i)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(i.gC).mergeMap((function(e){var r=e.layerId,o=t.getState(),a=(0,p.CA)(o,r);return a?n.Observable.of((0,u.He)(a.id,{visibility:!0}),(0,i.ke)(a.id),(0,i.V3)()):n.Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(i.dG).mergeMap((function(e){var r=e.layerId,o=t.getState();return(0,p.CA)(o,r)?n.Observable.of((0,i.V3)()):n.Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(i.H_).mergeMap((function(e){var r=e.backgroundId,o=t.getState(),l=(0,p.CA)(o,r),s=(0,d.TP)(o)||[],c=(0,p.DP)(o)||{},f=r===c.id?a()(s.filter((function(e){return e.id!==r&&!e.invalid}))):c;return l?n.Observable.of((0,u.ZF)(r,"layers"),(0,u.He)(f.id,{visibility:!0}),(0,i.ke)(f.id)):n.Observable.empty()}))}}},7872:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var n=r(70570),o=r.n(n),a=r(4925),i=r.n(a),l=r(50277),s=r.n(l),c=r(25518),u=r.n(c),p=r(64322),d=r.n(p),f=r(35339),m=r.n(f),A=r(7790),b=r.n(A),g=r(28753),h=r.n(g),S=r(78465),y=r.n(S),v=r(28424),w=r.n(v),E=r(76886),x=r.n(E),O=r(37679),k=r.n(O),P=r(7909),C=r.n(P);const R={google:{HYBRID:k(),ROADMAP:o(),TERRAIN:i(),SATELLITE:s()},bing:{Aerial:u(),AerialWithLabels:w()},osm:{mapnik:d()},mapquest:{osm:C()},ol:{undefined:b()},nasagibs:{Night2012:y()},OpenTopoMap:{OpenTopoMap:x()},unknown:h(),s2cloudless:{"s2cloudless:s2cloudless":m()}}},62632:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(53001),o=r(31273),a=r(27418),i=r.n(a);const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.xT:return i()({},e,{source:t.source});case o.xi:return i()({},e,{source:"metadataExplorer"});case n.Q2:return i()({},e,{modalParams:t.modalParams});case n.Zr:return i()({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case n.R3:if(t.id){var r=e.backgrounds||[],a=-1===r.findIndex((function(e){return e.id===t.id})),l=a?r.concat({id:t.id}):r,s=l.map((function(e){return e.id===t.id?i()({},e,{id:t.id,thumbnail:t.thumbnailData}):i()({},e)}));return i()({},e,{backgrounds:s})}return e;case n.l$:return i()({},e,{modalParams:void 0});case n.H_:var c=e.backgrounds||[],u=e.removedBackgroundsThumbIds||[],p=c.filter((function(e){return e.id!==t.backgroundId})),d=c.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return i()({},e,{backgrounds:p,removedBackgroundsThumbIds:u.concat(d),lastRemovedId:t.backgroundId});case n.Op:return i()({},e,{backgrounds:t.backgrounds});case n.uL:return i()({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case n.zg:return i()({},e,{allowDeletion:t.allow||!1});default:return e}}},31935:(e,t,r)=>{"use strict";r.d(t,{YL:()=>l,B0:()=>s,Mz:()=>c,TC:()=>u,qS:()=>p,Pe:()=>d,TP:()=>f});var n=r(22222),o=r(75110),a=r(93152),i=r(24262),l=function(e){return e.backgroundSelector&&e.backgroundSelector.source},s=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},c=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},u=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},p=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},d=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},f=(0,n.P1)(o.l2,a.$v,(function(e,t){return e.filter((function(e){return e&&"background"===e.group})).map((function(e){return(0,i.kf)(e,t)}))||[]}))},25258:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,"\n.msgapi .background-preview-button-label {\n    position: absolute;\n    overflow: hidden;\n    font-weight: bold;\n    font-size: 12px;\n    text-align: center;\n    -webkit-transition: all 0.0s;\n    -moz-transition: all 0.0s;\n    -o-transition: all 0.0s;\n    transition: all 0.0s;\n\n}\n\n.msgapi .background-preview-button-label div {\n    overflow: hidden;\n    opacity: 0.8;\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n}\n\n.msgapi .background-preview-button-container {\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-button-frame {\n    overflow: hidden;\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n}\n\n.msgapi .background-preview-button-frame img{\n    width: 100%;\n    height: 100%;\n}\n\n.msgapi .background-preview-button-container:hover {\n    cursor: pointer;\n    box-shadow: none;\n}\n\n.msgapi .background-preview-button-container:active {\n    opacity: 0.6;\n}\n",""])},10501:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,"\n.msgapi .background-preview-icon-frame {\n    overflow: hidden;\n}\n\n.msgapi .background-preview-icon-frame img{\n    width: 100%;\n    height: 100%;\n}\n\n.msgapi .background-preview-icon-container-horizontal {\n    cursor: pointer;\n    float: left;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-horizontal:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-horizontal:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\n    cursor: not-allowed;\n    float: left;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical {\n    cursor: pointer;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-vertical:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\n    cursor: not-allowed;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n",""])},2349:(e,t,r)=>{var n=r(25258);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)},29080:(e,t,r)=>{var n=r(10501);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)},2750:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/components/background/img/default.jpg"},25518:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},28424:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},37679:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},78465:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},76886:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},70570:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},50277:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},4925:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},28753:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},64322:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},7909:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},7790:e=>{e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},35339:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"}}]);