(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4339],{62187:(e,t,n)=>{"use strict";n.d(t,{NH:()=>r,E7:()=>o,N7:()=>a,L9:()=>i,hQ:()=>c,NC:()=>u,c9:()=>l,up:()=>s,FZ:()=>f,Fi:()=>p,KB:()=>m,E0:()=>y,Q_:()=>d,hY:()=>b,wO:()=>v,sT:()=>h,wR:()=>g,h1:()=>P,hS:()=>O,zK:()=>S,VS:()=>k,oz:()=>E,FH:()=>w,XN:()=>T,Ym:()=>A});var r="PLAYBACK:START",o="PLAYBACK:PAUSE",a="PLAYBACK:STOP",i="PLAYBACK:SET_FRAMES",c="PLAYBACK:APPEND_FRAMES",u="PLAYBACK:FRAMES_LOADING",l="PLAYBACK:SET_CURRENT_FRAME",s="PLAYBACK:SELECT_PLAYBACK_RANGE",f="PLAYBACK:SETTINGS_CHANGE",p="PLAYBACK:TOGGLE_ANIMATION_MODE",m="PLAYBACK:ANIMATION_STEP_MOVE",y="PLAYBACK:UPDATE_METADATA",d={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},b=function(){return{type:r}},v=function(){return{type:o}},h=function(){return{type:a}},g=function(e){return{type:i,frames:e}},P=function(e){return{type:l,frame:e}},O=function(e){return{type:c,frames:e}},S=function(e){return{type:u,loading:e}},k=function(e){return{type:s,range:e}},E=function(e,t){return{type:f,name:e,value:t}},w=function(){return{type:p}},T=function(e){return{type:m,direction:e}},A=function(e){var t=e.next,n=e.previous,r=e.forTime;return{type:y,forTime:r,next:t,previous:n}}},45869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(5053),o=n.n(r),a=n(45697),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(a){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(){return u(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this;return o().createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o().createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),o().createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&l(t.prototype,n),c}(o().Component);m(y,"propTypes",{disabled:i().bool,className:i().string,checked:i().bool,onChange:i().func,onClick:i().func}),m(y,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}});const d=y},12346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(5053),o=n.n(r),a=n(45697),i=n.n(a),c=n(30294),u=n(45869),l=n(80717),s=n(5346);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(a){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function c(){return p(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this;return o().createElement(l.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o().createElement(s.Z,{msgId:"collapse"}):o().createElement(s.Z,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&m(t.prototype,n),c}(o().Component);v(h,"propTypes",{checked:i().bool,onClick:i().func}),v(h,"defaultProps",{checked:!1,onClick:function(){}});const g=h;var P=n(38560),O=n(82110);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(){return o().createElement(P.Z,{className:"square-button-sm no-border switch-error"},o().createElement(c.Glyphicon,{glyph:"exclamation-mark",className:"text-danger"}))},_=function(){return o().createElement("div",{className:"switch-loading"},o().createElement(O.Z,{size:"small"}))},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,e);var t,n,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(a){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function s(){var e;k(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(A(e=i.call.apply(i,[this].concat(n))),"state",{}),e}return t=s,(n=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?g:u.Z;return o().createElement("div",null,o().createElement("div",{className:"pull-left"},this.props.title||this.props.header),o().createElement("div",{className:"pull-right"},this.props.locked?null:o().createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?o().createElement(I,null):null,this.props.loading?o().createElement(_,null):null,this.props.buttons.length>0&&this.props.expanded&&o().createElement(l.Z,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return o().createElement(c.Panel,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&E(t.prototype,n),s}(o().Component);j(x,"propTypes",{header:i().node,title:i().oneOfType([i().string,i().node]),defaultExpanded:i().string,expanded:i().bool,onSwitch:i().func,locked:i().bool,buttons:i().array,loading:i().bool,error:i().any,errorMsgId:i().string,transitionProps:i().object,useToolbar:i().bool}),j(x,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1});const R=x},65295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(5053),o=n.n(r),a=n(32475),i=n.n(a),c=n(14293),u=n.n(c),l=n(45697),s=n.n(l),f=n(30381),p=n.n(f),m=n(30294),y=n(15135),d=n(38560);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,y.Z)(m.Glyphicon),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,r,a,c=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(a){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function l(){var e;v(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(O(e=c.call.apply(c,[this].concat(n))),"onUpdate",(function(t,n){var r=p()(e.props.date).utc(),o=n?p()(r).add(1,t):p()(r).subtract(1,t);o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())})),k(O(e),"onChange",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(""!==n){var o=p()(e.props.date).utc(),a=o["day"===t?"date":t]&&p()(o)["day"===t?"date":t](r(n));a.isValid()&&!isNaN(a.toDate().getTime())&&e.props.onUpdate(a.toISOString())}})),k(O(e),"getForm",(function(){var t=e.props.date&&p()(e.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(e){return!u()(e)&&""!==e&&p().monthsShort(e)},parseValue:function(e){return e-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(e){return"UTC "+(e>=0?"+":"-")+i()(e/60,2,0)}}]})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.getForm();return o().createElement(m.Form,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},o().createElement(m.FormGroup,{controlId:"inlineDateTime"},this.props.glyph&&o().createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return e.props.clickable&&e.props.onIconClick(e.props.date,e.props.glyph)}},o().createElement(E,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),t.map((function(t){return"icon"===t.type&&o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},o().createElement(E,{glyph:t.value}))||"separator"===t.type&&o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},t.format&&t.format(t.value)||t.value)||o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},e.props.showButtons&&o().createElement(d.Z,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name,!0)}},o().createElement(E,{glyph:"chevron-up"})),o().createElement(m.FormControl,{type:"text",readOnly:t.readOnly,placeholder:t.placeholder||t.name,disabled:!e.props.date,value:t.format&&t.format(t.value)||t.value,onChange:function(n){return e.onChange(t.name,n.target.value,t.parseValue)}}),e.props.showButtons&&o().createElement(d.Z,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name)}},o().createElement(E,{glyph:"chevron-down"})))}))))}}])&&h(t.prototype,n),l}(o().Component);k(w,"propTypes",{date:s().string,clickable:s().bool,onUpdate:s().func,onIconClick:s().func,glyph:s().string,style:s().object,className:s().string,tooltip:s().string,tooltipId:s().string,showButtons:s().bool}),k(w,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""});const T=w},2576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(5053),o=n.n(r),a=n(64386),i=n.n(a),c=n(45697),u=n.n(c),l=n(30294),s=n(52595),f=n(50966);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,e);var t,n,r,a,c=(r=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(a){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function u(){return m(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"renderPopover",value:function(){return o().createElement(l.Popover,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return o().createElement(l.Glyphicon,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o().createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o().createElement(f.Z,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o().createElement(s.Z,{placement:this.props.placement,show:!0,target:function(){return i().findDOMNode(e.target)}},this.renderPopover())])}}])&&y(t.prototype,n),u}(o().Component);h(g,"propTypes",{id:u().string,title:u().string,text:u().string,glyph:u().string,bsStyle:u().string,placement:u().string,left:u().number,top:u().number,trigger:u().oneOfType([u().array,u().bool])}),h(g,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]});const P=g},2001:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>L});var r=n(30381),o=n.n(r),a=n(27361),i=n.n(a),c=n(62187),u=n(57604),l=n(57676),s=n(80416),f=n(97395),p=n(85148),m=n(87392),y=n(76843),d=n(97291);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const h=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(r){return r.withLatestFrom(e.startWith(t)).filter((function(e){var t=b(e,2)[1];return n(t)})).map((function(e){return b(e,1)[0]}))}};var g=n(89919),P=n(96361),O=n(89255);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=20,I=function(e,t){return"".concat(e,"/").concat(t)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,d.Li)(e()),r=(0,d.uy)(e()),o=(0,d.Ry)(e()),a=(0,y.KC)(e())||{},i=a.startPlaybackTime,u=a.endPlaybackTime,l=(0,y.dS)(e())===c.Q_.PLAY||(0,y.dS)(e())===c.Q_.PAUSE;return[o,r,"time",A({limit:j,time:i&&u&&l?I(i,u):void 0},t),(0,d.F3)(n)(e())]},x=function(e,t){if((0,d.uy)(e())){var n=(0,p.aK)((0,d.fP)(e()))(e()),r=(0,d.gB)(e());return"multidim-extension"!==i()(r,"source.type")&&n&&n.length>0?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromValue,a=n.limit,i=void 0===a?j:a,c=(0,y.KC)(t())||{},u=c.startPlaybackTime,l=c.endPlaybackTime;return O.Observable.of(e.filter((function(e){return!u||!l||o()(e).isSameOrAfter(u)&&o()(e).isSameOrBefore(l)})).filter((function(e){return!r||o()(e).isAfter(r)})).slice(0,i))}(n,e,t):P.Ci.apply(void 0,k(_(e,t))).map((function(e){return e.DomainValues.Domain.split(",")}))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fromValue,r=t.limit,a=void 0===r?j:r,i=t.sort,c=void 0===i?"asc":i,u=(0,y.z2)(e()),l=u.timeStep,s=u.stepUnit,f=o().duration(l,s),m=(0,y.KC)(e())||{},d=m.startPlaybackTime,b=m.endPlaybackTime,v=void 0!==n?n:d||(0,p.WT)(e())||(new Date).toString(),h=[];v!==n&&h.push(o()(v).toISOString());for(var g=0;g<a&&(v=o()(v).add("asc"===c?f:-1*f),!b||v.isBefore(b));g++)h.push(v.toISOString());return O.Observable.of(h)}(e,t)},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var n=(0,p.AF)(e());return O.Observable.from(n.map((function(e){return(0,s.He)(e.id,{singleTile:!0})}))).concat(t).concat(O.Observable.from(n.map((function(e){return(0,s.He)(e.id,{singleTile:e.singleTile})}))))}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=t.end;return n&&r&&(o()(e).isBefore(n)||o()(e).isAfter(r))};const L={retrieveFramesForPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.NH).exhaustMap((function(){return x(r,{fromValue:(0,y.KC)(r())&&(0,y.KC)(r()).startPlaybackTime&&(0,y.KC)(r()).endPlaybackTime?void 0:(0,p.WT)(r())}).map((function(e){return(0,c.wR)(e)})).let((0,g.hP)((0,c.zK)(!0),(0,c.zK)(!1)),(function(){return O.Observable.of((0,f.vU)({title:"There was an error retrieving animation",message:"Please contact the administrator"}),(0,c.sT)())})).let((0,g.hP)((0,l.aA)(!1,!0),(0,l.aA)(!1,!1))).concat(e.ofType(c.c9).filter((function(e){return e.frame%j==10})).switchMap((function(){return x(r,{fromValue:(0,y.yt)(r())}).map(c.hS).let((0,g.hP)((0,c.zK)(!0),(0,c.zK)(!1)))}))).takeUntil(e.ofType(c.N7,m.nk)).concat(O.Observable.of((0,l.aA)(!1,!1))).let(R(r))}))},updateCurrentTimeFromAnimation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.c9).map((function(){return(0,y.Wq)(r())})).map((function(e){return e?(0,u.PZ)(e):(0,c.sT)()}))},timeDimensionPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.L9).exhaustMap((function(){return O.Observable.interval(1e3*(0,y.V3)(r())).startWith(0).let(h(e.ofType(c.NH,c.E7).map((function(e){return e.type===c.NH})))).map((function(){return(0,c.h1)((0,y.Np)(r())+1)})).merge(e.ofType(c.KB).map((function(e){var t=e.direction;return(0,c.h1)(Math.max(0,(0,y.Np)(r())+t))}))).concat(O.Observable.of((0,c.sT)())).takeUntil(e.ofType(c.N7,m.nk))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.Fi).exhaustMap((function(){return(0,d.uy)(r())?O.Observable.of((0,l.kq)(void 0)):O.Observable.of((0,l.kq)(i()((0,d.rV)(r()),"[0].id")))}))},playbackMoveStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.KB).filter((function(){return(0,y.dS)(r())!==c.Q_.PLAY})).switchMap((function(e){var t=e.direction,n=void 0===t?1:t,o=(0,y.rp)(r())||{},a=(0,p.WT)(r());return a&&o.forTime===a?O.Observable.of(n>0?o.next:o.previous):x(r,{limit:1,sort:n>0?"asc":"desc",fromValue:(0,p.WT)(r())}).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=S(e,1),n=t[0];return n}))})).filter((function(e){return!!e})).map((function(e){return(0,u.PZ)(e)}))},playbackCacheNextPreviousTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(u.mE,u.mD,l._V,c.N7,l.w).filter((function(){return(0,y.dS)(r())!==c.Q_.PLAY&&(0,y.dS)(r())!==c.Q_.PAUSE})).filter((function(){return(0,d.Li)(r())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||(0,p.WT)(r());return O.Observable.forkJoin(P.Ci.apply(void 0,k(_(r,{sort:"asc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return S(e,1)[0]})).catch((function(e){return e&&O.Observable.of(null)})),P.Ci.apply(void 0,k(_(r,{sort:"desc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return S(e,1)[0]})).catch((function(e){return e&&O.Observable.of(null)}))).map((function(e){var n=S(e,2),r=n[0],o=n[1];return(0,c.Ym)({forTime:t,next:r,previous:o})}))}))},playbackFollowCursor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(u.mD).filter((function(e){return(e.type===u.mD||(0,y.dS)(r())===c.Q_.PLAY)&&N((0,p.WT)(r()),(0,d.YK)(r()))})).filter((function(){return i()((0,y.z2)(r()),"following")})).switchMap((function(){return O.Observable.of((0,l.y3)((e=(0,p.WT)(r()),n=(t=(0,d.YK)(r())).start,a=t.end,i=o()(a).diff(o()(n)),{start:e,end:o()(e).add(i).toISOString()})));var e,t,n,a,i}))},playbackStopWhenDeleteLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(s.sb).filter((function(){return!(0,d.Li)(r())&&"PLAY"===(0,y.dS)(r())})).switchMap((function(){return O.Observable.of((0,c.sT)())}))}}},79860:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(5053),o=n.n(r),a=n(89208),i=n(22222),c=n(49848),u=n(97291),l=n(76843),s=n(62187),f=n(5346),p=n(80717),m=n(30381),y=n.n(m),d=n(57676),b=n(7654),v=n.n(b),h=n(30294),g=n(2576),P=n(65295),O=n(45869),S=n(12346),k=n(73333);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!v()(parseInt(e,10))){var r=parseInt(e,10);return t(r<1?1:r)}return n()}catch(e){return n(e)}},C=function(e){var t=e.startPlaybackTime,n=e.endPlaybackTime,r=y()(t).diff(n);return{startPlaybackTime:r>=0?n:t,endPlaybackTime:r>=0?t:n}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=(0,c.compose)((0,a.connect)((0,i.P1)(l.z2,u.Li,l.KC,(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fixedStep:!t,playbackRange:n},e)})),{setPlaybackRange:s.VS,onSettingChange:s.oz,toggleAnimationMode:s.FH}),(0,c.compose)((0,a.connect)((0,i.P1)(u.YK,u.dJ,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:d.y3}),(0,c.withHandlers)({toggleAnimationRange:function(e){var t=e.fixedStep,n=e.layerRange,r=e.viewRange,o=void 0===r?{}:r,a=e.setPlaybackRange,i=void 0===a?function(){}:a;return function(e){var r=t?o:n;r={startPlaybackTime:y()(r&&r.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:y()(r&&r.end||new Date).add(1,"days").toISOString()},i(e?r:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,n=void 0===t?{}:t,r=e.setPlaybackRange,o=void 0===r?function(){}:r;return function(){n.start&&n.end&&o({startPlaybackTime:y()(n.start).toISOString(),endPlaybackTime:y()(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,n=void 0===t?function(){}:t,r=e.layerRange;return function(){return r&&n({startPlaybackTime:r.start,endPlaybackTime:r.end})}}}),(0,c.withProps)((function(e){var t=e.playbackRange,n=e.fixedStep,r=e.moveTo,o=void 0===r?function(){}:r,a=e.setPlaybackToCurrentViewRange,i=void 0===a?function(){}:a,c=e.setPlaybackToCurrentLayerDataRange,u=void 0===c?function(){}:c;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return i()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return u()}}]}}))))((function(e){var t=e.following,n=e.frameDuration,r=e.timeStep,a=e.stepUnit,i=e.onSettingChange,c=void 0===i?function(){}:i,u=e.toggleAnimationMode,l=void 0===u?function(){}:u,s=e.toggleAnimationRange,p=void 0===s?function(){}:s,m=e.fixedStep,y=void 0!==m&&m,d=e.playbackRange,b=void 0===d?{}:d,v=e.setPlaybackRange,E=void 0===v?function(){}:v,T=e.playbackButtons,j=e.dateSelectorStyle,I=void 0===j?{padding:0,margin:0,border:"none"}:j,_=e.style,x=void 0===_?{}:_;return o().createElement("div",{className:"ms-playback-settings",style:x},o().createElement("h4",null,o().createElement(f.Z,{msgId:"timeline.settings.title"})),o().createElement(h.FormGroup,{controlId:"timelineSettings"},o().createElement(h.Form,{componentClass:"fieldset",inline:!0},o().createElement(h.ControlLabel,null,o().createElement(f.Z,{msgId:"timeline.settings.snapToGuideLayer"})," ",o().createElement(g.Z,{text:o().createElement(f.Z,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),o().createElement("span",null,o().createElement(O.Z,{checked:!y,onChange:function(){return l()}})))),o().createElement("h4",null,o().createElement(f.Z,{msgId:"playback.settings.title"})),o().createElement(h.FormGroup,{controlId:"frameDuration"},o().createElement(h.ControlLabel,null,o().createElement(f.Z,{msgId:"playback.settings.frameDuration"})),o().createElement(h.InputGroup,null,o().createElement(k.Z,{componentClass:"input",type:"number",value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return A(e,(function(e){c("frameDuration",e)}))}}),o().createElement(h.InputGroup.Addon,null,"s"))),o().createElement(h.ControlLabel,null,o().createElement(f.Z,{msgId:"playback.settings.step.label"})," ",o().createElement(g.Z,{text:o().createElement(f.Z,{msgId:"playback.settings.step.tooltip"})})),o().createElement(h.FormGroup,{controlId:"formPlaybackStep"},o().createElement(h.Form,{componentClass:"fieldset",inline:!0},o().createElement(k.Z,{disabled:!y,componentClass:"input",type:"number",style:{input:{maxWidth:120}},value:r,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return A(e,(function(e){c("timeStep",e)}))}}),o().createElement(h.FormControl,{disabled:!y,componentClass:"select",value:a,onChange:function(e){var t=e.target;return c("stepUnit",(void 0===t?{}:t).value)}},o().createElement(f.Z,{msgId:"playback.settings.step.year",msgParams:{number:r||1}},(function(e){return o().createElement("option",{value:"years"},e)})),o().createElement(f.Z,{msgId:"playback.settings.step.week",msgParams:{number:r||1}},(function(e){return o().createElement("option",{value:"weeks"},e)})),o().createElement(f.Z,{msgId:"playback.settings.step.day",msgParams:{number:r||1}},(function(e){return o().createElement("option",{value:"days"},e)})),o().createElement(f.Z,{msgId:"playback.settings.step.hour",msgParams:{number:r||1}},(function(e){return o().createElement("option",{value:"hour"},e)})),o().createElement(f.Z,{msgId:"playback.settings.step.minute",msgParams:{number:r||1}},(function(e){return o().createElement("option",{value:"minutes"},e)})),o().createElement(f.Z,{msgId:"playback.settings.step.second",msgParams:{number:r||1}},(function(e){return o().createElement("option",{value:"seconds"},e)}))))),o().createElement(S.Z,{onSwitch:function(e){return p(e)},expanded:b.startPlaybackTime&&b.endPlaybackTime,title:o().createElement(f.Z,{msgId:"playback.settings.range.title"}),buttons:T},o().createElement(h.FormGroup,{controlId:"formPlaybackMode",style:{margin:10}},o().createElement(P.Z,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:b.startPlaybackTime,onUpdate:function(e){return E(C(w(w({},b),{},{startPlaybackTime:e})))},style:I,showButtons:!0}),o().createElement(P.Z,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:b.endPlaybackTime,onUpdate:function(e){return E(C(w(w({},b),{},{endPlaybackTime:e})))},style:I,showButtons:!0}))),o().createElement(h.FormGroup,{controlId:"formPlaybackFollowingMode"},o().createElement(h.Form,{componentClass:"fieldset",inline:!0},o().createElement(h.ControlLabel,null,o().createElement(f.Z,{msgId:"playback.settings.mode.following"})," ",o().createElement(g.Z,{text:o().createElement(f.Z,{msgId:"playback.settings.mode.followingDescription"})})),o().createElement("span",null,o().createElement(O.Z,{checked:t,onChange:function(e){return c("following",e)}})))))}));var x=(0,c.compose)((0,c.withState)("showSettings","onShowSettings",!1),(0,c.withState)("collapsed","setCollapsed",!0),(0,c.withProps)((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),R=(0,i.P1)(l.dS,u.Li,l.rp,l.PF,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return t?e===s.Q_.PLAY||e===s.Q_.PAUSE?r:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}})),N=(0,c.compose)((0,a.connect)(R,{stepMove:s.XN}),(0,c.withHandlers)({forward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(1)}},backward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(-1)}}}));const L=(0,c.compose)(x,N)((function(e){var t=e.status,n=e.statusMap,r=e.play,a=void 0===r?function(){}:r,i=e.forward,c=void 0===i?function(){}:i,u=e.backward,l=void 0===u?function(){}:u,s=e.pause,m=void 0===s?function(){}:s,y=e.stop,d=void 0===y?function(){}:y,b=e.hasPrevious,v=e.hasNext,h=e.showSettings,g=e.onShowSettings,P=void 0===g?function(){}:g,O=e.settingsStyle,S=void 0===O?{}:O;return o().createElement("div",{style:{display:"flex"}},t!==n.PLAY&&t!==n.PAUSE&&h&&o().createElement(_,{style:S}),o().createElement(p.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:l,disabled:!b,tooltip:o().createElement(f.Z,{msgId:"playback.backwardStep"})},{glyph:t===n.PLAY?"pause":"play",key:"play",active:t===n.PLAY||t===n.PAUSE,disabled:!v,bsStyle:t===n.PLAY||t===n.PAUSE?"success":"primary",onClick:function(){return t===n.PLAY?m():a()},tooltipId:v&&(t===n.PLAY?"playback.pause":t===n.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==n.PLAY&&t!==n.PAUSE,onClick:d,tooltip:!(t!==n.PLAY&&t!==n.PAUSE)&&o().createElement(f.Z,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:c,disabled:!v,tooltip:v&&o().createElement(f.Z,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==n.PLAY&&t!==n.PAUSE&&h?"success":"primary",active:(t!==n.PLAY||t!==n.PAUSE)&&!!h,disabled:t===n.PLAY||t===n.PAUSE,onClick:function(){return t!==n.PLAY&&P(!h)},tooltip:!(t===n.PLAY||t===n.PAUSE)&&o().createElement(f.Z,{msgId:"playback.settings.tooltip"})}]}))}))},37307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(57604),o=n(80416),a=n(82904),i=n(61868),c=n(30381),u=n.n(c),l=n(66604),s=n.n(l),f=n(35937),p=n.n(f);const m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.XV:return(0,i.t8)("data[".concat(t.dimension,"][").concat(t.layerId,"]"),t.data,e);case r.mE:return(0,i.t8)("currentTime",t.time,e);case r.at:return(0,i.t8)("offsetTime",t.offsetTime,e);case r.mD:if(e.offsetTime&&e.currentTime){var n=u()(e.offsetTime).diff(e.currentTime),c=u()(t.time).add(n);return(0,i.t8)("currentTime",t.time,(0,i.t8)("offsetTime",c.toISOString(),e))}return(0,i.t8)("currentTime",t.time,e);case o.sb:var l=s()(e.data,(function(e){return p()(e,(function(e,n){return n!==t.node}))}));return(0,i.t8)("data",l,e);case a.l:return(0,i.t8)("data",void 0,(0,i.t8)("currentTime",void 0,(0,i.t8)("offsetTime",void 0,e)));default:return e}}},32215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(62187),o=n(82904),a=n(61868);function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:r.Q_.STOP,currentFrame:-1,settings:u},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.NH:return(0,a.t8)("status",r.Q_.PLAY,e);case r.E7:return(0,a.t8)("status",r.Q_.PAUSE,e);case r.N7:return(0,a.t8)("status",r.Q_.STOP,(0,a.t8)("currentFrame",-1,e));case r.L9:return(0,a.t8)("frames",t.frames,(0,a.t8)("currentFrame",-1,e));case r.NC:return(0,a.t8)("framesLoading",t.loading,e);case r.hQ:return(0,a.t8)("frames",[].concat(i(e.frames||[]),i(t.frames)),e);case r.c9:return(0,a.t8)("currentFrame",t.frame,e);case r.up:return(0,a.t8)("playbackRange",t.range,e);case r.FZ:return(0,a.t8)("settings[".concat(t.name,"]"),t.value,e);case r.E0:return(0,a.t8)("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case o.l:return(0,a.t8)("metadata",void 0,(0,a.t8)("framesLoading",void 0,(0,a.t8)("playbackRange",void 0,(0,a.t8)("frames",void 0,(0,a.t8)("currentFrame",-1,(0,a.t8)("status","STOP",(0,a.t8)("settings",u,e)))))));default:return e}}},76843:(e,t,n)=>{"use strict";n.d(t,{z2:()=>o,V3:()=>a,dS:()=>i,yt:()=>u,E2:()=>l,Np:()=>s,KC:()=>f,Wq:()=>p,rp:()=>m,PF:()=>y});var r=n(22222),o=function(e){return e&&e.playback&&e.playback.settings},a=function(e){return(o(e)||{}).frameDuration||5},i=function(e){return e&&e.playback&&e.playback.status},c=function(e){return e&&e.playback&&e.playback.frames},u=function(e){var t=c(e)||[];return t[t.length-1]},l=function(e){return e&&e.playback&&e.playback.framesLoading},s=function(e){return e&&e.playback&&e.playback.currentFrame},f=function(e){return function(e){return e&&e.playback&&e.playback.playbackRange}(e)},p=function(e){return(c(e)||[])[s(e)]},m=function(e){return e&&e.playback&&e.playback.metadata},y=(0,r.P1)(c,s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}))},97291:(e,t,n)=>{"use strict";n.d(t,{YK:()=>O,zb:()=>S,en:()=>k,cX:()=>E,__:()=>C,E2:()=>j,Li:()=>I,fP:()=>_,uy:()=>x,gB:()=>R,Ry:()=>N,m_:()=>L,dJ:()=>D,rV:()=>Z,qJ:()=>Y,pn:()=>F,F3:()=>U});var r=n(27361),o=n.n(r),a=n(91175),i=n.n(a),c=n(22222),u=n(84715),l=n(90183),s=n(55237),f=n(85148),p=n(827),m=n(75110);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){return o()(e,"timeline.range")},S=function(e){return o()(e,"timeline.settings.collapsed")},k=function(e){return o()(e,"timeline.settings.autoSelect")},E=function(e){return o()(e,"timeline.settings.mapSync")},w=function(e,t){return(e||[]).reduce((function(e,n){return[].concat(v(e),v(function(e,t){var n=h(e.split("/"),3),r=n[0],o=n[1],a=n[2];if(a&&"0"!==a){var i=(0,s.Xu)({start:r,end:o,duration:a},t),c=i.count,u=i.start,l=i.end;return c>50?[{start:r,end:o,duration:a,type:"range",content:"".concat(c," items")}]:(0,s.tr)({start:u,end:l,duration:a}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(r).getTime())?null:[{start:new Date(r),end:new Date(o||r),type:o?"range":"point"}]}(n,t)))}),[]).filter((function(e){return e&&e.start}))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return w(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var n=e.histogram.domain.split("/"),r=h(n,3),o=r[0],a=r[1],i=r[2],c=Math.max.apply(Math,v(e.histogram.values)),u=(0,s.jb)({start:o,end:a,duration:i});return e.histogram.values.map((function(e,t){return d(d({},u[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/c,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e&&e.values||e&&e.domain&&!(0,s._q)(e.domain)?w(e.values||e.domain.split(","),t):n&&n.histogram?T(n,t):[]},C=(0,u.y)(f.m$,O,(function(e){return o()(e,"timeline.rangeData")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v(Object.keys(e).map((function(r){return A(e[r],t,n[r]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(d({content:" "},e),{},{group:r})}))})).reduce((function(e,t){return[].concat(v(e),v(t))}),[]))})),j=function(e){return o()(e,"timeline.loading")},I=function(e){return o()(e,"timeline.selectedLayer")},_=function(e){return(0,m.CA)(e,I(e))},x=function(e){return _(e)&&_(e).name},R=function(e){return _(e)&&_(e).dimensions&&i()(_(e).dimensions.filter((function(e){return"time"===e.name})))},N=function(e){return o()(R(e),"source.url")},L=(0,c.P1)(f.WT,f.ns,(function(e,t){return{start:e,end:t}})),D=function(e){return(0,f.oP)(e,I(e))},Z=f.AF,Y=(0,c.P1)(Z,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0})),F=function(e){return!S(e)&&Y(e)},U=function(e){return function(t){var n=((0,p.Od)(t)||{}).bbox;if(!n)return{};var r=(0,f.Qw)(e,"time")(t),a=o()(r,"source.version"),i=Object.keys(n.bounds).reduce((function(e,t){return d(d({},e),{},b({},t,parseFloat(n.bounds[t])))}),{});if(!i||!E(t))return{};if("1.1"!==a){var c=(0,f.Qw)(e,"space")(t),u=o()(c,"domain.CRS");if(!u||!i||!E(t))return{};var s=h((0,l.reprojectBbox)(i,(0,p.uy)(t),u),4),m=s[0],y=s[1],v=s[2],g=s[3];return v<m&&"EPSG:4326"===u&&(v+=360),{bbox:"".concat(m,",").concat(y,",").concat(v,",").concat(g),crs:u}}var P=i.minx,O=i.miny,S=i.maxx,k=i.maxy,w=n.crs;return{bbox:"".concat(P,",").concat(O,",").concat(S,",").concat(k,",").concat(w)}}}},84715:(e,t,n)=>{"use strict";n.d(t,{y:()=>s,o:()=>f});var r=n(28368),o=n.n(r),a=n(13218),i=n.n(a),c=n(22222),u=function(e,t){return e===t},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(t,n){return Array.isArray(t)&&Array.isArray(n)?t===n||t.length===n.length&&t.reduce((function(t,r,o){return t&&e(r,n[o])}),!0):i()(t)&&i()(n)?t===n||Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce((function(r,o){return r&&e(t[o],n[o])}),!0):t===n}},s=(0,c.wN)(c.PW,(function(e,t){return o()(e,t,l())})),f=function(e){return(0,c.wN)(c.PW,(function(t,n){return o()(t,n,l(e))}))}}}]);