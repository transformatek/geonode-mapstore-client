(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7004,9528,1273],{62769:(e,t,n)=>{var r={"./cesium/plugins/index":[33219,9,7414,4743,7112,4492,6882,5407,3219,252,4262,8143],"./leaflet/plugins/index":[35701,7,7414,4743,5053,4558,7112,4492,4176,6882,5407,252,4262,5875,5701,4918],"./openlayers/plugins/index":[3498,9,5030,336,3645,3317,7414,7324,6995,4743,5053,6591,7112,6565,4492,4176,2742,6882,5407,844,1868,3498,252,8698,4262,5875,2265]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((()=>n.t(o,16|t[1])))}o.keys=()=>Object.keys(r),o.id=62769,e.exports=o},19137:(e,t,n)=>{var r={"./cesium/index":[91726,7414,5053,4386,5407,5794,5095],"./leaflet/index":[97611,622,5030,7414,6995,4743,5053,1399,6565,4386,3428,4226,5407,1868,3991,8698,6118,8310,1996],"./openlayers/index":[64385,622,5030,336,3645,3317,7414,7324,6995,4743,5053,9898,7112,2628,6565,4176,4386,3428,2742,5522,5517,4226,5407,844,1868,407,252,4907,8698,5875,6118,5516,691]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(o)))}o.keys=()=>Object.keys(r),o.id=19137,e.exports=o},60604:(e,t,n)=>{"use strict";n.d(t,{jJ:()=>r,oy:()=>o,yg:()=>i,vD:()=>a,W:()=>u,B1:()=>c,fU:()=>l,cY:()=>s});var r="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",i="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",o=arguments.length>3?arguments[3]:void 0;return{type:r,id:e,owner:t,actionType:n,options:o}},c=function(e,t){return{type:o,owner:e,options:t}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:i,id:t,owner:n}},s=function(){return{type:a}}},42780:(e,t,n)=>{"use strict";n.d(t,{aS:()=>r,A9:()=>o,r1:()=>i,Rx:()=>a,g:()=>u,yg:()=>c}),n(91175);var r=function(e){return{type:"ANNOTATIONS:HIGHLIGHT_POINT",point:e}},o=function(){return{type:"ANNOTATIONS:NEW"}},i=function(e,t){return{type:"ANNOTATIONS:VISIBILITY",id:e,visibility:t}},a=function(){return{type:"ANNOTATIONS:CLEAN_HIGHLIGHT"}},u=function(){return{type:"ANNOTATIONS:CLOSE"}},c=function(e){return{type:"ANNOTATIONS:SET_EDITING_FEATURE",feature:e}}},41156:(e,t,n)=>{"use strict";n.d(t,{fy:()=>r,gd:()=>o,zZ:()=>i,ZR:()=>a});var r="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:r,boxEndInfo:e}}function a(e){return{type:o,status:e}}},31273:(e,t,n)=>{"use strict";n.d(t,{WX:()=>O,V3:()=>E,HR:()=>S,xi:()=>T,ur:()=>w,vK:()=>P,nm:()=>j,QF:()=>x,zZ:()=>A,uN:()=>R,Bz:()=>_,im:()=>C,CO:()=>I,$X:()=>D,Mt:()=>L,Oq:()=>N,YO:()=>M,PR:()=>F,wI:()=>k,bv:()=>G,mh:()=>U,$Y:()=>B,eA:()=>z,UT:()=>Z,cS:()=>W,l3:()=>Y,Kz:()=>H,vg:()=>V,xM:()=>q,do:()=>$,lb:()=>X,tt:()=>K,nX:()=>Q,BG:()=>J,Rc:()=>ee,K4:()=>te,Dw:()=>ne,dL:()=>re,In:()=>oe,r1:()=>ie,XW:()=>ae,L8:()=>ue,i3:()=>ce,XM:()=>le,X7:()=>se,M3:()=>pe,N3:()=>fe,SU:()=>ye,wo:()=>de,ye:()=>me,m:()=>be,wl:()=>ge,A4:()=>ve,vG:()=>Oe,ky:()=>Ee,Wf:()=>Se,Ts:()=>Te,IT:()=>we,XS:()=>Pe,tx:()=>je,We:()=>xe,nx:()=>Ae,E9:()=>Re});var r=n(59551),o=n(67007),i=n(3475),a=n(32354),u=n(80416),c=n(1550),l=n(24262),s=n(37275),p=n(13311),f=n.n(p),y=n(88113),d=n(75110),m=n(97395);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={csw:r.Z,wms:o.ZP,wmts:i.Z,backgrounds:a.Z},O="CATALOG:ADD_LAYERS_FROM_CATALOGS",E="CATALOG:TEXT_SEARCH",S="CATALOG:RECORD_LIST_LOADED",T="CATALOG:RESET_CATALOG",w="CATALOG:CATALOG_CLOSE",P="CATALOG:RECORD_LIST_LOAD_ERROR",j="CATALOG:CHANGE_CATALOG_FORMAT",x="CATALOG:ADD_LAYER_ERROR",A="CATALOG:CHANGE_SELECTED_SERVICE",R="CATALOG:CHANGE_CATALOG_MODE",_="CATALOG:CHANGE_METADATA_TEMPLATE",C="CATALOG:CHANGE_TITLE",I="CATALOG:CHANGE_TEXT",D="CATALOG:CHANGE_TYPE",L="CATALOG:CHANGE_SERVICE_PROPERTY",N="CATALOG:CHANGE_SERVICE_FORMAT",M="CATALOG:FOCUS_SERVICES_LIST",F="CATALOG:CHANGE_URL",k="CATALOG:ADD_CATALOG_SERVICE",G="CATALOG:DELETE_CATALOG_SERVICE",U="CATALOG:ADD_SERVICE",B="CATALOG:DELETE_SERVICE",z="CATALOG:SAVING_SERVICE",Z="CATALOG:GET_METADATA_RECORD_BY_ID",W="CATALOG:SET_LOADING",Y="CATALOG:TOGGLE_TEMPLATE",H="CATALOG:TOGGLE_THUMBNAIL",V="CATALOG:TOGGLE_ADVANCED_SETTINGS",q="CATALOG:FORMAT_OPTIONS_FETCH",$="CATALOG:FORMAT_OPTIONS_LOADING",X="CATALOG:SET_FORMAT_OPTIONS";function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=e.url,r=e.startPosition,o=e.maxRecords,i=e.text,a=e.options,u=void 0===a?{}:a;return{type:E,format:t,url:n,startPosition:r,maxRecords:o,text:i,options:u}}function Q(e,t){return{type:S,searchOptions:e,result:t}}function J(e){return{type:j,format:e}}function ee(e){return{type:z,status:e}}function te(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:W,loading:e}}function ne(e){return{type:A,service:e}}function re(e){return{type:M,status:e}}function oe(e,t){return{type:R,mode:e,isNew:t}}function ie(e){return{type:C,title:e}}function ae(e){return{type:I,text:e}}function ue(e,t){return{type:L,property:e,value:t}}function ce(e){return{type:N,format:e}}function le(e){return{type:D,newType:e}}function se(e){return{type:F,url:e}}function pe(){return{type:U}}function fe(e){return{type:k,service:e}}function ye(e){return{type:G,service:e}}function de(){return{type:B}}function me(){return{type:T}}function be(e){return{type:P,error:e}}function ge(){return{type:w}}function he(e,t){return{type:"CATALOG:DESCRIBE_ERROR",layer:e,error:t}}var ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoomToLayer,r=void 0!==n&&n;return function(t,n){var o=n(),i=(0,d.l2)(o),a=(0,l.R8)(e,i||[]);return t((0,u.A4)(g(g({},e),{},{id:a}))),r&&e.bbox&&t((0,c.Px)(e.bbox.bounds,e.bbox.crs)),"wms"===e.type?v.wms.describeLayers((0,l.Hi)(e),e.name).then((function(n){if(n){var r=f()(n,(function(t){return t.name===e.name}));if(r&&"WFS"===r.owsType){var i=s.jQ(s.$F(r.owsURL),(0,y.kS)(o));t((0,u.He)(a,{search:{url:i,type:"wfs"}}))}}})).catch((function(n){return t(he(e,n))})):null}};function Oe(e){return{type:x,error:e}}function Ee(e){return{type:Z,metadataOptions:e}}var Se=function(e){return{type:_,metadataTemplate:e}},Te=function(){return{type:V}},we=function(){return{type:Y}},Pe=function(){return{type:H}},je=function(e){return{type:q,url:e}},xe=function(e){return{type:$,loading:e}},Ae=function(e,t){return{type:X,formats:e,url:t}};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,m.vU)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},55736:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>r});var r=function(e){return{type:"CONTENT_TABS:SET_TABS_HIDDEN",tabs:e}}},44541:(e,t,n)=>{"use strict";n.d(t,{nl:()=>r});var r="DASHBOARDS:DASHBOARD_DELETED"},4206:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>u,Vw:()=>s,KD:()=>p,uj:()=>f,lo:()=>y,Yf:()=>d,fo:()=>m,PY:()=>b,bp:()=>g});var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",u="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",l="DRAW:DRAWING_FEATURES";function s(e,t,n,r,o){return{type:a,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c,features:e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:l,features:e}}function y(){return{type:u}}function d(e,t,n,o,i,a){return{type:r,status:e,method:t,owner:n,features:o,options:i,style:a}}function m(e,t){return{type:o,geometry:e,owner:t}}function b(e){return{type:i,currentStyle:e}}var g=function(e){return d("clean","",e,[],{})}},33528:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>r,Oj:()=>o,jp:()=>i,CM:()=>a,DU:()=>u,aO:()=>c,v6:()=>l,K8:()=>s,IN:()=>p,zh:()=>f,AH:()=>y,Ub:()=>d,_9:()=>m,JB:()=>b,oh:()=>g,AY:()=>h,yi:()=>v,SW:()=>O,Hk:()=>E,iQ:()=>S,dY:()=>T,$:()=>w,_u:()=>P,gG:()=>j,DI:()=>x,dZ:()=>A,qw:()=>R,f$:()=>_,bZ:()=>C,$O:()=>I,sF:()=>D,Gk:()=>L,vO:()=>N,ut:()=>M,MK:()=>F,VV:()=>k,B8:()=>G,VM:()=>U,a3:()=>B,Xp:()=>z,DA:()=>Z,sK:()=>W,yA:()=>Y,r:()=>H,iB:()=>V,EH:()=>q,Yd:()=>$,Hg:()=>X,Lz:()=>K,ye:()=>Q,Jb:()=>J,d:()=>ee,fT:()=>te,Ib:()=>ne,Pl:()=>re,UB:()=>oe,Uh:()=>ie,QT:()=>ae,oL:()=>ue,Ap:()=>ce,KD:()=>le,Z_:()=>se,Vw:()=>pe,sY:()=>fe,kA:()=>ye,gr:()=>de,pX:()=>me,F5:()=>be,MO:()=>ge,dq:()=>he,DY:()=>ve,oO:()=>Oe,uF:()=>Ee,a8:()=>Se,Pv:()=>Te,an:()=>we,lg:()=>Pe,nY:()=>je,nG:()=>xe,lx:()=>Ae,$S:()=>Re,gc:()=>_e,Uz:()=>Ce,fO:()=>Ie,$E:()=>De,cE:()=>Le,JK:()=>Ne,YV:()=>Me,t9:()=>Fe,YG:()=>ke,HT:()=>Ge,MY:()=>Ue,ve:()=>Be,hB:()=>ze,Ox:()=>Ze,zd:()=>We,aT:()=>Ye,VH:()=>He,Yb:()=>Ve,Jr:()=>qe,pP:()=>$e});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",u="FEATUREGRID:SET_SELECTION_OPTIONS",c="FEATUREGRID:TOGGLE_MODE",l="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",y="FEATUREGRID:SAVING",d="FEATUREGRID:START_EDITING_FEATURE",m="FEATUREGRID:START_DRAWING_FEATURE",b="FEATUREGRID:DELETE_GEOMETRY",g="FEATUREGRID:DELETE_GEOMETRY_FEATURE",h="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",O="FEATUREGRID:SAVE_ERROR",E="FEATUREGRID:DELETE_SELECTED_FEATURES",S="SET_FEATURES",T="FEATUREGRID:SORT_BY",w="FEATUREGRID:SET_LAYER",P="QUERY:UPDATE_FILTER",j="FEATUREGRID:CHANGE_PAGE",x="FEATUREGRID:GEOMETRY_CHANGED",A="DOCK_SIZE_FEATURES",R="FEATUREGRID:TOGGLE_TOOL",_="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",C="ASK_CLOSE_FEATURE_GRID_CONFIRM",I="FEATUREGRID:OPEN_GRID",D="FEATUREGRID:CLOSE_GRID",L="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",N="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",M="FEATUREGRID:SET_PERMISSION",F="FEATUREGRID:DISABLE_TOOLBAR",k="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",G="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",U="FEATUREGRID:ADVANCED_SEARCH",B="FEATUREGRID:ZOOM_ALL",z="FEATUREGRID:INIT_PLUGIN",Z="FEATUREGRID:SIZE_CHANGE",W="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",Y="FEATUREGRID:HIDE_SYNC_POPOVER",H="FEATUREGRID:UPDATE_EDITORS_OPTIONS",V="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",q={EDIT:"EDIT",VIEW:"VIEW"},$="FEATUREGRID:START_SYNC_WMS",X="FEATUREGRID:STOP_SYNC_WMS",K="STORE_ADVANCED_SEARCH_FILTER",Q="LOAD_MORE_FEATURES",J="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function ne(){return{type:W}}function re(){return{type:Y}}function oe(e,t){return{type:J,features:e,pages:t}}function ie(e){return{type:K,filterObj:e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:z,options:e}}function ue(){return{type:L}}function ce(){return{type:N}}function le(e,t){return{type:o,features:e,append:t}}function se(e){return{type:r,options:e}}function pe(e){return{type:x,features:e}}function fe(){return{type:d}}function ye(){return{type:m}}function de(e){return{type:i,features:e}}function me(){return{type:b}}function be(e){return{type:g,features:e}}function ge(){return{type:a}}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:u,multiselect:n}}function ve(e,t){return{type:T,sortBy:e,sortOrder:t}}function Oe(e,t){return{type:j,page:e,size:t}}function Ee(e){return{type:w,id:e}}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:P,update:e,append:t}}function Te(e,t){return{type:R,tool:e,value:t}}function we(e,t,n){return{type:_,name:e,key:t,value:n}}function Pe(){return{type:c,mode:q.EDIT}}function je(){return{type:c,mode:q.VIEW}}function xe(e,t){return{type:s,features:e,updated:t}}function Ae(e){return{type:p,features:e}}function Re(){return{type:f}}function _e(){return{type:h}}function Ce(){return{type:E}}function Ie(){return{type:y}}function De(){return{type:v}}function Le(){return{type:O}}function Ne(){return{type:C}}function Me(){return{type:D}}function Fe(){return{type:I}}function ke(e){return{type:F,disabled:e}}function Ge(e){return{type:M,permission:e}}function Ue(){return{type:U}}function Be(){return{type:B}}function ze(){return{type:$}}function Ze(e,t){return{type:Z,size:e,dockProps:t}}var We=function(e){return{type:Q,pages:e}},Ye=function(e){return{type:k,activated:e}},He=function(e){return{type:G,deactivated:e}},Ve=function(e){return{type:ee,value:e}},qe=function(e){return{type:te,size:e}},$e=function(e){return{type:V,updateFilterAction:e}}},29386:(e,t,n)=>{"use strict";n.d(t,{F2:()=>r,fu:()=>o,NF:()=>i,WP:()=>a,_E:()=>u});var r="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function u(e,t){return{type:o,features:e,status:t}}},62520:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,F:()=>o});var r="MAP_LAYOUT:UPDATE_MAP_LAYOUT";function o(e){return{type:r,layout:e}}},89602:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{lD:()=>i,yK:()=>a,gf:()=>u,Qr:()=>c,Kx:()=>l,V:()=>s,Wt:()=>p,Qw:()=>f,GI:()=>y,MT:()=>d,XX:()=>m,sc:()=>b,qg:()=>g,Kf:()=>h,ES:()=>v,ud:()=>O,Bd:()=>E,Gd:()=>S,$3:()=>T,el:()=>w,CG:()=>P,h2:()=>j,NR:()=>x,RM:()=>A,dD:()=>R,wB:()=>_,Y_:()=>C,nl:()=>I,S1:()=>D});var i="CHANGE_MEASUREMENT_TOOL",a="CHANGE_MEASUREMENT_STATE",u="MEASUREMENT:CHANGE_UOM",c="MEASUREMENT:CHANGED_GEOMETRY",l="MEASUREMENT:SET_TEXT_LABELS",s="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",f="MEASUREMENT:RESET_GEOMETRY",y="MEASUREMENT:CHANGE_FORMAT",d="MEASUREMENT:CHANGE_COORDINATES",m="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",b="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",h="MEASUREMENT:SET_MEASUREMENT_CONFIG",v="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function O(e,t,n,r,o){return{type:m,features:e,textLabels:t,uom:n,save:r,properties:o}}function E(e){return function(t){t(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:i},e)}(e))}}function S(e,t,n){return{type:u,uom:e,value:t,previousUom:n}}function T(e){return{type:c,features:e}}function w(e,t){return{type:h,property:e,value:t}}function P(e){return{type:l,textLabels:e}}function j(e){return{type:s,featureIndex:e}}function x(e,t,n){return{type:p,features:e,textLabels:t,uom:n}}function A(e){return{type:y,format:e}}function R(e){return{type:d,coordinates:e}}function _(){return{type:f}}function C(e){return{type:b,measures:e}}function I(e){return{type:a,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g,defaultOptions:e}}},96909:(e,t,n)=>{"use strict";n.d(t,{vZ:()=>r,TB:()=>o,gF:()=>i,g$:()=>a,dJ:()=>u,uz:()=>c,vA:()=>l,lX:()=>s,E2:()=>p,mF:()=>f,ch:()=>y,DX:()=>d,j1:()=>m,wL:()=>b,Nm:()=>g,rb:()=>h,dk:()=>v,Wv:()=>O,Nf:()=>E,FU:()=>S,k5:()=>T,pt:()=>w,Wm:()=>P,wj:()=>j,l1:()=>x,cu:()=>A,Fe:()=>R,Lc:()=>_,p2:()=>C,WQ:()=>I,E0:()=>D,xR:()=>L,WB:()=>N,bB:()=>M});var r="STYLEEDITOR:TOGGLE_STYLE_EDITOR",o="STYLEEDITOR:SELECT_STYLE_TEMPLATE",i="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",a="STYLEEDITOR:UPDATE_STATUS",u="STYLEEDITOR:RESET_STYLE_EDITOR",c="STYLEEDITOR:ADD_STYLE",l="STYLEEDITOR:CREATE_STYLE",s="STYLEEDITOR:LOADING_STYLE",p="STYLEEDITOR:LOADED_STYLE",f="STYLEEDITOR:ERROR_STYLE",y="STYLEEDITOR:UPDATE_STYLE_CODE",d="STYLEEDITOR:EDIT_STYLE_CODE",m="STYLEEDITOR:DELETE_STYLE",b="STYLEEDITOR:INIT_STYLE_SERVICE",g="STYLEEDITOR:SET_EDIT_PERMISSION",h="STYLEEDITOR:SET_DEFAULT_STYLE",v="STYLEEDITOR:UPDATE_EDITOR_METADATA";function O(e,t){return{type:r,layer:e,enabled:t}}function E(e){return{type:a,status:e}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.templateId,r=e.format,i=e.languageVersion,a=e.init;return{type:o,code:t,templateId:n,format:r,init:a,languageVersion:i}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,n=e.templateId,r=e.code,o=e.format,a=e.languageVersion,u=e.init;return{type:i,temporaryId:t,templateId:n,code:r,format:o,init:u,languageVersion:a}}function w(e){return{type:s,status:e}}function P(){return{type:p}}function j(e){return{type:l,settings:e}}function x(){return{type:u}}function A(e){return{type:c,add:e}}function R(e,t){return{type:f,status:e,error:t}}function _(){return{type:y}}function C(e){return{type:d,code:e}}function I(e){return{type:m,styleName:e}}function D(e,t){return{type:b,service:e,canEdit:t}}function L(e){return{type:g,canEdit:e}}function N(){return{type:h}}function M(e){return{type:v,metadata:e}}},95797:(e,t,n)=>{"use strict";n.d(t,{DR:()=>r,S0:()=>o,u7:()=>i,lj:()=>a,yz:()=>u,lN:()=>c,zW:()=>l,Yx:()=>s,VN:()=>p,Hu:()=>f,VT:()=>y,RD:()=>d,Qq:()=>m,R1:()=>b,_T:()=>g,vO:()=>h,XO:()=>v,jG:()=>O,Xc:()=>E,gT:()=>S,rG:()=>T,t3:()=>w,Fs:()=>P,w_:()=>j,Lm:()=>x,rh:()=>A,rP:()=>R,IO:()=>_}),n(75875);var r="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",a="FEATURE_LOADED",u="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",l="FEATURE_ERROR",s="QUERY_CREATE",p="QUERY:UPDATE_QUERY",f="QUERY_RESULT",y="QUERY_ERROR",d="RESET_QUERY",m="QUERY",b="INIT_QUERY_PANEL",g="QUERY:TOGGLE_SYNC_WMS",h="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:g}}function O(){return{type:h}}function E(){return{type:b}}function S(e,t){return{type:o,url:e,typeName:t}}function T(e,t){return{type:i,typeName:e,featureType:t}}function w(e,t){return{type:c,typeName:e,error:t}}function P(e){return{type:u,isLoading:e}}function j(e,t,n,r,o){return{type:f,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}}function x(e){return{type:y,error:e}}function A(e,t){return{type:p,updates:e,reason:t}}function R(e,t){return{type:s,searchUrl:e,filterObj:t}}function _(e,t,n,r){return{type:m,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(75875),o=n.n(r),i=n(8575),a=n(27418),u=n.n(a),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const l={geocode:function(e,t){var n=u()({q:e},c,t||{}),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=u()({lat:e.lat,lon:e.lng},t||{},c),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},5346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(5053),o=n.n(r),i=n(69175),a=n(45697),u=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=i.FormattedMessage,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(y(e=a.call.apply(a,[this].concat(n))),"renderFormattedMsg",(function(e){var t=e.msgId,n=e.msgParams,r=e.children;return r&&"function"==typeof r?o().createElement(b,{id:t,values:n},(function(e){return r(e)})):o().createElement(b,{id:t,values:n})})),m(y(e),"renderMsg",(function(e){var t=e.msgId,n=e.children;return n&&"function"==typeof n?n(t):o().createElement("span",null,t||"")})),e}return t=u,(n=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&s(t.prototype,n),u}(o().Component);m(g,"propTypes",{msgId:u().string.isRequired,msgParams:u().object}),m(g,"contextTypes",{intl:u().object});const h=g},75140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(5053),o=n.n(r),i=n(45697),a=n.n(i),u=n(30294),c=n(50966),l=n(38560),s=n(27418),p=n.n(s);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(i){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function u(){var e;y(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=a.call.apply(a,[this].concat(n))),"getStyle",(function(){var t={cursor:e.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return e.props.image?p()(t,{overflow:"hidden"}):p()(t,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),p()(t,e.props.style),t})),e}return t=u,(n=[{key:"render",value:function(){return o().createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&d(t.prototype,n),u}(o().Component);v(O,"propTypes",{id:a().string,image:a().string,onClick:a().func,style:a().object,disabled:a().bool,tooltip:a().string,className:a().string}),v(O,"defaultProps",{disabled:!1,tooltip:null,className:void 0});const E=O;function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(i){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function s(){var e;w(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(A(e=a.call.apply(a,[this].concat(n))),"onClick",(function(){e.props.onClick(!e.props.pressed,e.props.options)})),_(A(e),"renderNormalButton",(function(){return o().createElement(l.Z,T({id:e.props.id},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.pressed?e.props.pressedStyle:e.props.defaultStyle,style:e.props.style}),e.props.glyphicon?o().createElement(u.Glyphicon,{glyph:e.props.glyphicon}):null,e.props.glyphicon&&e.props.text&&!o().isValidElement(e.props.text)?" ":null,e.props.text,e.props.help)})),_(A(e),"renderImageButton",(function(){return o().createElement(E,{id:e.props.id,image:e.props.image,onClick:e.onClick,style:e.props.style})})),_(A(e),"addTooltip",(function(t){return o().createElement(c.Z,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:e.props.tooltip},t)})),e}return t=s,(n=[{key:"render",value:function(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}])&&P(t.prototype,n),s}(o().Component);_(C,"propTypes",{id:a().string,btnConfig:a().object,options:a().object,text:a().oneOfType([a().string,a().element]),help:a().oneOfType([a().string,a().element]),glyphicon:a().string,pressed:a().bool,onClick:a().func,tooltip:a().element,tooltipPlace:a().string,style:a().object,btnType:a().oneOf(["normal","image"]),image:a().string,pressedStyle:a().string,defaultStyle:a().string}),_(C,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"});const I=C},9192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(45697),o=n.n(r),i=n(5053),a=n.n(i),u=n(38560),c=n(30294),l=n(50966);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function s(){var e;p(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(m(e=i.call.apply(i,[this].concat(n))),"addTooltip",(function(t){if(!e.props.tooltip)return t;var n=a().createElement(c.Tooltip,{id:"locate-tooltip"},e.props.tooltip);return a().createElement(l.Z,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),e}return t=s,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(a().createElement(u.Z,{id:this.props.id,style:this.props.style,onClick:function(){return e.props.onZoom(e.props.currentZoom+e.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?a().createElement(c.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&f(t.prototype,n),s}(a().Component);g(h,"propTypes",{id:o().string,style:o().object,glyphicon:o().string,text:o().string,btnSize:o().oneOf(["large","small","xsmall"]),className:o().string,help:o().oneOfType([o().string,o().element]),step:o().number,currentZoom:o().number,minZoom:o().number,maxZoom:o().number,onZoom:o().func,tooltip:o().element,tooltipPlace:o().string,bsStyle:o().string}),g(h,"defaultProps",{id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}});const v=h},83606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(47037),o=n.n(r),i=n(45697),a=n.n(i),u=n(5053),c=n.n(u),l=n(30294),s=n(86638);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(i){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function u(){var e;f(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(b(e=a.call.apply(a,[this].concat(n))),"onMouseOver",(function(){var t=o()(e.props.helpText)?e.props.helpText:(0,s.S$)(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=u,(n=[{key:"render",value:function(){return c().createElement(l.Badge,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&y(t.prototype,n),u}(c().Component);h(v,"propTypes",{id:a().string,helpText:a().oneOfType([a().string,a().element]),isVisible:a().bool,changeHelpText:a().func,changeHelpwinVisibility:a().func,className:a().string}),h(v,"contextTypes",{messages:a().object}),h(v,"defaultProps",{helpText:"",isVisible:!1});const O=v},65539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(5053),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=function(e){var t=e.id,n=e.children,r=e.header,i=e.footer,u=e.columns,c=e.height,l=e.style,s=void 0===l?{}:l,p=e.className,f=e.bodyClassName,y=void 0===f?"ms2-border-layout-body":f;return o().createElement("div",{id:t,className:p,style:a({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},s)},r,o().createElement("div",{className:y,style:{display:"flex",flex:1,overflowY:"auto"}},o().createElement("main",{className:"ms2-border-layout-content",style:{flex:1}},c?o().createElement("div",{style:{height:c}},n):n),c?o().createElement("div",{style:{height:c}},u):u),i)}},52887:(e,t,n)=>{"use strict";n.d(t,{Xl:()=>_});var r=n(89255),o=n(27418),i=n.n(o),a=n(87392),u=n(31398),c=(n(24384),n(81808)),l=n(27361),s=n.n(l),p=(n(1469),n(18446),n(13218)),f=n.n(p),y=n(14293),d=n.n(y),m=(n(78718),n(57557),n(3674)),b=n.n(m),g=(n(4788),n(66604)),h=n.n(g),v=n(69293),O=(n(44541),n(82904)),E=(n(55736),n(10365),n(93152)),S=(n(74621),n(63516),n(10284),n(52259),n(86638)),T=n(91312);function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(89919);var _=function(e,t){return e.ofType(v.Vm).exhaustMap((function(e){var n,o=e.resource,l=h()(o.attributes,(function(e){if(f()(e)){var t=null;try{t=JSON.stringify(e)}catch(e){t=null}return t}return e})),p=b()(l).filter((function(e){return"thumbnail"!==e&&"details"!==e&&!d()(l[e])}));return r.Observable.forkJoin((n=s()(o,"attributes.context"),n?(0,T.RX)(n,{withData:!1}):r.Observable.of(null)),o.id?(0,T.id)(o):(0,T.SN)(o)).switchMap((function(e){var n,s,f=(s=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n,s)||P(n,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=f[0],d=f[1];return(p.length>0?r.Observable.forkJoin(p.map((function(e){return(0,T.rX)({id:d,name:e,value:l[e]})}))):r.Observable.of([])).switchMap((function(){return r.Observable.from([].concat(w(o.id?[(0,c.I6)(d)]:[]),w(o.id?[(0,c.H0)(o.data,d)]:[]),[o.id?(0,O.Xi)("mapSave"):(0,O.Xi)("mapSaveAs"),(0,c.SI)(o.id)],w(o.id?[]:[(0,v.sK)(d,i()({id:d,canDelete:!0,canEdit:!0,canCopy:!0},o.metadata),o.data),(0,a.VF)(y?"/context/".concat(y.name,"/").concat(d):"/viewer/".concat((0,E.$v)(t.getState()),"/").concat(d))]))).merge(r.Observable.of((0,u.c)({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"})))}))})).catch((function(e){var t=e.status,n=e.statusText,o=e.data,i=e.message,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["status","statusText","data","message"]);return r.Observable.of((0,c.$D)(t?{status:t,statusText:n,data:o}:i||a),(0,u.d)(A(A({},(0,S.e$)(e,"geostore","mapsError")),{},{autoDismiss:6,position:"tc"})))})).startWith(o.id?(0,v.AS)(o.metadata):(0,v.jD)(o.metadata))}))}},80833:(e,t,n)=>{"use strict";n.d(t,{kB:()=>m,HI:()=>b});var r=n(8575),o=(n(91175),n(90173)),i=n(89255),a=n(67007),u=n(75875),c=n.n(u),l=(n(90183),n(24262)),s=n(10284),p=n(33044);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default;var m=function(e){return i.Observable.defer((function(){return a.ZP.getCapabilities((0,l.Fh)(e))})).let(s.oB).map((function(t){return a.ZP.parseLayerCapabilities(t,e)}))},b=function(e){return function(e){return i.Observable.defer((function(){return c().get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.search,o=void 0===n?{}:n,i=e.url,a=r.parse(o.url||i,!0);return r.format(y(y({},a),{},{search:void 0,query:y(y({},a.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(s.oB)}(e).map((function(e){var t=e.data,n=void 0===t?{}:t;return n&&n.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.owsURL;return y(y({},e),{},{params:{},search:n?{type:"wfs",url:(0,p.cleanAuthParamsFromURL)(n)}:void 0})}))}},23634:(e,t,n)=>{"use strict";n.d(t,{default:()=>j});var r=n(89208),o=n(49848),i=n(13311),a=n.n(i),u=n(82904),c=n(80416),l=n(53001),s=n(22222),p=n(75110),f=n(827),y=n(31935),d=n(55105),m=n(7872),b=n(22843),g=n(25108),h=n(62632),v=n(79504),O=n(2220);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,s.P1)([f.uy,y.B0,y.Mz,y.TC,p.pV,f.Od,f.HJ,y.TP,p.X_,p.DP,p.qh,function(e){return(0,d.ic)(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},y.qS,y.Pe],(function(e,t,n,r,o,i,a,u,c,l,s,p,f,y,d,m){return{mode:y,modalParams:t,backgroundList:n,deletedId:r,backgrounds:o,size:i&&i.size||{width:0,height:0},mapIsEditable:a,layers:u,tempLayer:s,currentLayer:l,start:c.start||0,enabled:c.enabled,style:p,enabledCatalog:f,confirmDeleteBackgroundModal:d,allowDeletion:m,projection:e}})),P=(0,o.compose)((0,r.connect)(w,{onPropertiesChange:c.He,onToggle:u.Xi.bind(null,"backgroundSelector",null),onLayerChange:u.Xg.bind(null,"backgroundSelector"),onStartChange:u.Xg.bind(null,"backgroundSelector","start"),onAdd:l.st,addLayer:c.A4,backgroundAdded:l.pW,onRemove:c.ZF,onBackgroundEdit:l.$D,updateNode:c.tV,onUpdateThumbnail:l.r5,removeBackground:l.X1,clearModal:l.V3,addBackgroundProperties:l.US,onRemoveBackground:l.p2,setCurrentBackgroundLayer:l.ke},(function(e,t,n){return S(S(S(S({},e),t),n),{},{thumbs:S(S({},m.Z),n.thumbs)})})),(0,o.withProps)((function(e){var t=e.items,n=void 0===t?[]:t;return{hasCatalog:!!a()(n,{name:"MetadataExplorer"})}})))(O.Z);const j=(0,b.rx)("BackgroundSelector",{component:P,reducers:{controls:g.Z,backgroundSelector:h.Z},epics:v.Z})},57668:(e,t,n)=>{"use strict";n.d(t,{default:()=>R});var r=n(5053),o=n.n(r),i=n(45697),a=n.n(i),u=n(89208),c=n(27418),l=n.n(c),s=n(30294),p=n(58252),f=n(81756),y=n(22843);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(20533);var j=(0,u.connect)((function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:o().createElement(s.Glyphicon,{glyph:"menu-hamburger"})}}))(s.DropdownButton),x=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children"]);return o().createElement("div",n,t)},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(i){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(){var e;v(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(T(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(e){return e.filter((function(e){return e.panel})).map((function(e){return l()({},e,{panel:!0===e.panel?e.plugin:e.panel})})).concat(e.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[]))})),P(T(e),"getTools",(function(){var t=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=n.map((function(e){return h(h({},e),t(e.children))})).sort((function(e,t){return e.position-t.position})),o={container:x,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:s.MenuItem,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return n.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:r,childPanels:e.getPanels(n),innerProps:o}:{}};return[{element:o().createElement("span",{key:"burger-menu-title"},e.props.title)}].concat(m(e.props.items.map((function(e){return h(h({},e),t(e.children))})).sort((function(e,t){return e.position-t.position}))))})),e}return t=u,(n=[{key:"render",value:function(){return o().createElement(p.Z,{id:this.props.id,className:"square-button",container:j,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:s.MenuItem,tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}])&&O(t.prototype,n),u}(o().Component);P(A,"propTypes",{id:a().string,dispatch:a().func,items:a().array,title:a().node,onItemClick:a().func,controls:a().object,mapType:a().string,panelStyle:a().object,panelClassName:a().string}),P(A,"contextTypes",{messages:a().object,router:a().object}),P(A,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:o().createElement(s.MenuItem,{header:!0},o().createElement(f.Z,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"});const R=(0,y.rx)("BurgerMenu",{component:(0,u.connect)((function(e){return{controls:e.controls}}))(A),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},63277:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n(5053),o=n.n(r),i=n(30294),a=n(27418),u=n.n(a),c=n(75140);const l={ExpanderPlugin:u()(c.Z,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",showWhen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,n=void 0===t?[]:t;return n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"expand"!==!e.name&&!e.alwaysVisible})).length>1},icon:o().createElement(i.Glyphicon,{glyph:"option-horizontal"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}},9842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(89208),o="TOGGLE_FULLSCREEN",i=n(10577),a=n.n(i),u=n(91175),c=n.n(u),l=n(10928),s=n.n(l),p=n(82904),f=n(37275),y=n(89255),d=n(27418),m=n.n(d),b=n(45697),g=n.n(b),h=n(5053),v=n.n(h),O=n(75140),E=n(30294),S=n(5346);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function a(){var e;P(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(R(e=i.call.apply(i,[this].concat(n))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(t,n){return t[n]=e.props[n],t}),{})})),e}return t=a,(n=[{key:"render",value:function(){return v().createElement(O.Z,w({},this.getButtonProperties(),{pressed:this.props.active,tooltip:v().createElement(E.Tooltip,{id:"full-screen-button-tip"},v().createElement(S.Z,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&j(t.prototype,n),a}(v().Component);C(I,"propTypes",{id:g().string,btnConfig:g().object,options:g().object,text:g().oneOfType([g().string,g().element]),help:g().oneOfType([g().string,g().element]),glyphicon:g().string,active:g().bool,onClick:g().func,activeTooltip:g().string,notActiveTooltip:g().string,tooltipPlace:g().string,style:g().object,btnType:g().oneOf(["normal","image"]),image:g().string,pressedStyle:g().string,defaultStyle:g().string}),C(I,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}});const D=I;var L=(0,r.connect)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.controls,n=void 0===t?{}:t;return{active:n.fullscreen&&n.fullscreen.enabled}}),{onClick:function(e,t){return n=e,r=t.querySelector,{type:o,enable:n,elementSelector:r};var n,r}})(D);const N={FullScreenPlugin:m()(L,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:function(e){return e.ofType(o).switchMap((function(e){var t=document.querySelector(e&&e.querySelector||"."+(f.ZP.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&a().enabled?a().request(t):t&&!e.enable&&a().exit(),y.Observable.merge(y.Observable.fromEvent(document,s()(c()([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((function(e){return document[e[0]]}))))).filter((function(){return a().element!==t})).map((function(){return(0,p.Xg)("fullscreen","enabled",!1)})),y.Observable.of((0,p.Xg)("fullscreen","enabled",e.enable)),y.Observable.fromEvent(window,"hashchange").do((function(){return a().exit()})).map((function(){return(0,p.Xg)("fullscreen","enabled",!1)})))}))}}}},9825:(e,t,n)=>{"use strict";n.d(t,{default:()=>V}),n(17097);var r=n(52353),o=n.n(r),i=n(27418),a=n.n(i),u=n(5053),c=n.n(u),l=n(30294),s=n(89208),p=n(49848),f=n(22222),y=n(1550),d=n(21914),m=n(42872),b=n(11196),g=n(96207),h=n(12587),v=n(57945),O=n(73014),E=n(87320),S=n(22694),T=n(46116),w=n(26125),P=n(31255),j=n(75110),x=n(8316),A=n(827),R=n(7877),_=n(55105),C=n(93152),I=n(37275),D=n(88798),L=n(4361),N=n(77674),M=n(81756);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=(0,f.zB)({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:R.q7,validResponses:R.o9,requests:R.OK,format:R.us,map:A.Od,layers:j.l2,point:R.Bz,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:x.Pz,dockStyle:function(e){return(0,_.ic)(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord||I.ZP.getConfigProp("defaultCoordinateFormat")},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return(0,R.x0)(e)},isEditingAllowed:P.nq,isCesium:C.c0,floatingIdentifyEnabled:function(e){return(0,A.Mc)(e)}}),B=(0,p.compose)((0,s.connect)((0,f.P1)(R.Qf,R.vR,(function(e){return e.browser&&e.browser.mobile}),(function(e,t,n){return{index:e,loaded:t,isMobile:n}})),{setIndex:d.oO})),z=(0,p.compose)(B,b.Yy,b.mI,(0,O.Z)((function(e){var t=e.loaded;return o()(t)})))(m.Z),Z=(0,p.defaultProps)({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:(0,D.wR)(),requests:[],responses:[],viewerOptions:{},viewer:z,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:N.Z,getFeatureButtons:L.Z,showFullscreen:!1,validResponses:[],validator:D.Te,zIndex:1050}),W=(0,p.compose)((0,s.connect)(U,{purgeResults:d.g,closeIdentify:d.Mc,onSubmitClickPoint:d.sv,onToggleShowCoordinateEditor:d.RA,onChangeFormat:d.Zw,changeMousePointer:y.Mo,clearWarning:d.XP,hideMarker:d.aN,showRevGeocode:d.Pg,hideRevGeocode:d.u0,onEnableCenterToMarker:d.PM.bind(null,"enabled"),onEdit:d.am},(function(e,t,n){return k(k(k(k({},n),e),t),{},{enabled:e.enabled&&(e.isCesium||!n.showInMapPopup)&&!e.floatingIdentifyEnabled})})),(0,p.compose)((0,s.connect)((0,f.zB)({highlight:R.hs,currentFeature:R.IA,currentFeatureCrs:R.Kc}),{toggleHighlightFeature:d.MO,zoomToExtent:y.Px}),h.Z),(0,s.connect)((0,f.P1)(C.$v,(function(e){return{mapType:e}})),{},(function(e,t,n){var r=e.mapType,o=n.showHighlightFeatureButton;return k(k({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===r&&o})})),Z,B,b.mI,(0,s.connect)((function(){}),{setShowInMapPopup:d.Y$}),g.P_)(v.Z),Y=(0,s.connect)((function(e){return{infoFormat:(0,R.us)(e)}}),{onInfoFormatChange:d.ws})(E.Z),H=(0,s.connect)((function(e){return{trigger:(0,A.Mc)(e)?"hover":"click",hoverEnabled:(0,R.qK)(e)}}),{onSetMapTrigger:d.wm})(S.Z);const V={IdentifyPlugin:a()(W,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:c().createElement(l.Glyphicon,{glyph:"map-marker"}),help:c().createElement(M.Z,{msgId:"helptexts.infoButton"}),action:d.TM,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[c().createElement(Y,{key:"featureinfoformat",label:c().createElement(M.Z,{msgId:"infoFormatLbl"})}),c().createElement(H,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:w.Z},epics:T.ZP}},55368:(e,t,n)=>{"use strict";n.d(t,{default:()=>He});var r=n(45697),o=n.n(r),i=n(5053),a=n.n(i),u=n(22843),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=e,a=r,u=o,c=i;if({NODE_ENV:"production"}.isTest){var l={},s=function(e){return l[e]=l[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},l[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){s(e).rootCount+=t},iframesCreated:function(e){s(e).iframesCreated=!0},timedOut:function(e){s(e).timedOut=!0},fontLoaded:function(e){s(e).fontLoaded=!0},requiredExtraTimeout:function(e){s(e).requiredExtraTimeout=!0},getTests:function(){return l}}}n.timeoutAfter&&setTimeout((function(){a&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(c,-1),document.body.removeChild(a),a=0,n.onTimeout&&({NODE_ENV:"production"}.isTest&&window.reporter.timedOut(c),n.onTimeout()))}),n.timeoutAfter),u=function(){a&&a.firstChild.clientWidth===a.lastChild.clientWidth&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(c,-1),document.body.removeChild(a),a=0,{NODE_ENV:"production"}.isTest&&window.reporter.fontLoaded(c),t())},{NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(c,1),{NODE_ENV:"production"}.isLegacy||u(document.body.appendChild(a=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</div>"),{NODE_ENV:"production"}.isLegacy&&u(document.body.appendChild(a=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</span>.</table>"),a&&({NODE_ENV:"production"}.isTest&&window.reporter.iframesCreated(c),{NODE_ENV:"production"}.isLegacy||(a.firstChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=u,a.lastChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=u),{NODE_ENV:"production"}.isLegacy&&(a.firstChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",u):i.contentWindow.onresize=u,a.lastChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",u):i.contentWindow.onresize=u),{NODE_ENV:"production"}.isTest||(i=setTimeout(u)),{NODE_ENV:"production"}.isTest&&(i=setTimeout((function(){a&&(window.reporter.requiredExtraTimeout(c),u())}))))},l=n(27418),s=n.n(l),p=n(72986),f=n.n(p),y=(n(41738),n(5346)),d=n(37275),m=n(1550),b=n(47037),g=n.n(b),h=n(22222),v=n(827),O=n(93152),E=n(75110),S=n(27361),T=n.n(S),w=n(90183);function P(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){return T()(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},A=function(e){return x(e)&&x(e).geometry},R=(0,h.P1)([function(e){return A(e)&&A(e).coordinates||[]},function(e){return A(e)&&A(e).type||"Polygon"},function(e){return A(e)&&A(e).id||"spatial_object"},function(e){return A(e)&&A(e).projection||"EPSG:3857"}],(function(e,t,n,r){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:n}]};return e.length>0&&t?(0,w.reprojectGeoJson)(o,r,"EPSG:4326").features:[]})),_=(0,h.P1)([R,function(e){return T()(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(P(t),P(e))})),C=n(74621),I=n(8316),D=n(38842);const L=(0,h.zB)({projectionDefs:v.pb,map:v.Od,mapType:O.$v,layers:E.Hi,features:_,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:C.y8,elevationEnabled:v.zT,shouldLoadFont:O.m6,isLocalizedLayerStylesEnabled:D.wk,localizedLayerStylesName:D.c3,currentLocaleLanguage:I.KV});var N=n(1321),M=n(45304),F=n(4206),k={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};var G=n(41156),U={status:null};var B=n(29386);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var H=n(56874),V=n(60604),q=n(91175),$=n.n(q),X=n(35937),K=n.n(X),Q=n(6557),J=n.n(Q),ee=n(13218),te=n.n(ee),ne=n(1469),re=n.n(ne);function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=n(89255),se=n(80416),pe=n(81808),fe=n(63516),ye=n(55105),de=n(82904),me=n(24262),be=n(52259),ge=n(97395),he=n(21914),ve=n(66604),Oe=n.n(ve);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const we={checkMapPermissions:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(fe.XP).filter((function(){return(0,v.J9)(r())})).map((function(){var e=(0,v.J9)(r());return(0,pe.I6)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(m.TF).delay(500).switchMap((function(e){var n=(0,O.$v)(t.getState()),r=(0,E.CA)(t.getState(),e.options.id);return r&&(0,me.yJ)(r,n)?le.Observable.from([(0,se.He)(e.options.id,{invalid:!0})]):le.Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(m.TF).delay(500).filter((function(e){var n=(0,E.x)(t.getState());return n&&e.options.id===n.id&&"background"===e.options.group})).switchMap((function(e){var n=(0,O.$v)(t.getState()),r=$()((0,E.pV)(t.getState()).filter((function(t){return(0,me.yJ)(t,n)&&t.id!==e.options.id})));return r?le.Observable.from([(0,se.He)(r.id,{visibility:!0}),(0,de.Xg)("backgroundSelector","currentLayer",r),(0,de.Xg)("backgroundSelector","tempLayer",r),(0,ge.Kp)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):le.Observable.of((0,ge.Kp)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(m.Ec).switchMap((function(){return le.Observable.of((0,V.cY)(),(0,de.fV)(),(0,se.nN)(),(0,he.XP)())}))},resetLimitsOnInit:function(e,t){return e.ofType(pe.ok,m.Li).switchMap((function(){var e=(0,v.A0)(t.getState()),n=(0,v.zj)(t.getState()),r=(0,v.S)(t.getState());return le.Observable.of((0,m.BV)({restrictedExtent:n,crs:e,minZoom:r}))}))},zoomToExtentEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(m.Qy).switchMap((function(e){var t=function(e){if(re()(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(te()(e)){var t=Oe()(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return le.Observable.empty();var n=be.default.getHook(be.default.ZOOM_TO_EXTENT_HOOK),o=(0,ye.CF)(r());return n?(n(t,{crs:e.crs,padding:o,maxZoom:e.maxZoom}),le.Observable.empty()):function(e,t){var n=0,r=e.extent,o=void 0===r?[]:r,i=w.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(i){var a=w.default.reproject(be.default.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)n=1;else{var u=w.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");n=be.default.getZoomForExtent(u,t.size,0,21,null)}e.maxZoom&&n>e.maxZoom&&(n=e.maxZoom);var c={minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},l=Se(Se({},t.bbox),{},{bounds:c});return le.Observable.of((0,m.o6)(a,n,l,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return le.Observable.empty()}(Se(Se({},e),{},{extent:t}),(0,v.Od)(r()))}))}};var Pe=n(73814),je=n(89602),xe=n(97266);function Ae(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var Re=n(89208);function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=function(){return a().createElement("span",null)};const Ie=function(e,t){return Promise.all([n(19137)("./"+e+"/index"),n(62769)("./"+e+"/plugins/index")]).then((function(e){var n,r,o=(n=e,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,i=(0,Re.connect)((function(e){return{projectionDefs:(0,v.pb)(e),mousePosition:(0,v.x9)(e)}}),s()({},{onMapViewChanges:m.o6,onClick:m.FP,onMouseMove:m.ou,onLayerLoading:se.Yz,onLayerLoad:se.kI,onLayerError:se.XG,onWarning:ge.Kp,onMouseOut:m.NE},t),(function(e,t,n){return s()({},n,e,s()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(o.LMap),a=(0,Re.connect)((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:(0,xe.VH)(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}}),{changeMeasurementState:je.nl,updateMeasures:je.Y_,resetGeometry:je.wB,changeGeometry:je.$3,setTextLabels:je.CG,changeMeasurement:je.Bd})(o.MeasurementSupport||Ce),u=(0,Re.connect)((function(e){return e.draw||{}}),{onChangeDrawingStatus:F.Yf,onEndDrawing:F.fo,onGeometryChanged:F.Vw,onSelectFeatures:F.KD,onDrawingFeatures:F.uj,onDrawStopped:F.lo,setCurrentStyle:F.PY})(o.DrawSupport||Ce),c=(0,Re.connect)((0,h.P1)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:G.zZ})(o.BoxSelectionSupport||Ce),l=(0,Re.connect)((function(e){return e.highlight||{}}),{updateHighlighted:B._E})(o.HighlightFeatureSupport||Ce),p=(0,Re.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:Ae})(o.SelectionSupport||Ce),f=(0,Re.connect)(null,{onWarning:ge.Kp})(o.Layer||Ce),y=[],d=(0,Re.connect)((0,h.P1)((function(e){return e.mapPopups&&e.mapPopups.popups||y}),(function(e){return{popups:e}})),{onPopupClose:Pe.hC})(o.PopupSupport||Ce);return{Map:i,Layer:f,Feature:o.Feature||Ce,tools:{measurement:a,overview:o.Overview||Ce,scalebar:o.ScaleBar||Ce,draw:u,highlight:l,selection:p,popup:d,box:c}}}))};var De=n(19983);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ze(r);if(o){var n=Ze(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Be(this,e)});function u(){var e;ke(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return We(ze(e=i.call.apply(i,[this].concat(n))),"state",{canRender:!0}),We(ze(e),"getHighlightLayer",(function(t,n,r){var o=e.state.plugins;return a().createElement(o.Layer,{type:"vector",srs:t,position:n,key:"highlight",options:{name:"highlight"},env:r},e.props.features.map((function(e){return a().createElement(o.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),We(ze(e),"getTool",(function(t){return g()(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),We(ze(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||d.ZP.getConfigProp("defaultMapOptions")&&d.ZP.getConfigProp("defaultMapOptions")[e.props.mapType]})),We(ze(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",n=[];e.props.isLocalizedLayerStylesEnabled&&n.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var r=e.state.plugins;return[].concat(Me(e.props.layers),Me(e.props.additionalLayers)).filter(e.filterLayer).map((function(o,i){return a().createElement(r.Layer,{type:o.type,srs:t,position:i,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:n},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,n)||[])})),We(ze(e),"renderLayerContent",(function(t,n){var r=e.state.plugins;return t.features&&"vector"===t.type?t.features.map((function(e){return a().createElement(r.Feature,{key:e.id,msId:e.id,type:e.type,crs:n,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})})):null})),We(ze(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(t){var n=t.Tool,r=t.name,o=t.cfg;return a().createElement(n,Ne({},o,{key:r,mapType:e.props.mapType}))}));return e.props.tools.map((function(t){var n=e.getTool(t),r=e.props.toolsOptions[n.name]&&e.props.toolsOptions[n.name][e.props.mapType]||e.props.toolsOptions[n.name]||{};return a().createElement(n.impl,Ne({key:n.name},r))})).concat(t)})),We(ze(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),We(ze(e),"updatePlugins",(function(t){t.onLoadingMapPlugins(!0),e.setState({plugins:void 0}),Ie(t.mapType,t.actions).then((function(n){e.setState({plugins:n}),t.onLoadingMapPlugins(!1,t.mapType)}))})),e}return t=u,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.shouldLoadFont,r=t.fonts;n&&r&&(this.setState({canRender:!1}),Promise.all(r.map((function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){c(e,n,{timeoutAfter:t.timeoutAfter,onTimeout:r,sampleText:t.sampleText,generic:t.generic})}))}(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return a().createElement(this.state.plugins.Map,Ne({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:s()({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},a().createElement(y.Z,{msgId:"map.loadingerror"}),":",this.props.loadingError):a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?a().createElement(f(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,a().createElement(y.Z,{msgId:this.props.mapLoadingMessage}))}}])&&Ge(t.prototype,n),u}(a().Component);We(Ye,"propTypes",{mapType:o().string,map:o().object,layers:o().array,additionalLayers:o().array,zoomControl:o().bool,mapLoadingMessage:o().string,loadingSpinner:o().bool,loadingError:o().string,tools:o().array,fonts:o().array,options:o().object,mapOptions:o().object,projectionDefs:o().array,toolsOptions:o().object,onFontError:o().func,onResolutionsChange:o().func,actions:o().object,features:o().array,securityToken:o().string,shouldLoadFont:o().bool,elevationEnabled:o().bool,isLocalizedLayerStylesEnabled:o().bool,localizedLayerStylesName:o().string,currentLocaleLanguage:o().string,items:o().array,onLoadingMapPlugins:o().func}),We(Ye,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){}});const He=(0,u.rx)("Map",{component:(0,u.$j)(L,{onFontError:m.LP,onResolutionsChange:m.SO})((0,De.Z)(Ye)),reducers:{map:N.Z,layers:M.Z,draw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.hZ:return s()({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case F.kD:return s()({},e,{currentStyle:t.currentStyle});case F.DI:return s()({},e,{tempFeatures:t.features});case F.IC:return s()({},e,{tempFeatures:[]});default:return e}},box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.gd:return s()({},e,{status:t.status});default:return e}},highlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.NF:return s()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case B.F2:return Z(Z({},e),{},{status:t.status});case B.fu:return Z(Z({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},maptype:H.Z,additionallayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.jJ:var n=K()({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},J()),r=$()(e.filter((function(e){return e.id===n.id})));return r?e.map((function(e){return e.id===n.id?ue(ue({},r),n):ue({},e)})):[].concat(oe(e),[n]);case V.oy:var o=t.options,i=t.owner;return e.map((function(e,t){return e.owner===i?ue(ue({},e),{},{options:te()(o)&&o[e.id]||re()(o)&&o[t]||{}}):ue({},e)}));case V.yg:var a=t.id,u=t.owner;return u?e.filter((function(e){return e.owner!==u})):e.filter((function(e){return e.id!==a}));case V.vD:return[];default:return e}}},epics:we})},43526:(e,t,n)=>{"use strict";n.d(t,{default:()=>T});var r=n(5053),o=n.n(r),i=n(45697),a=n.n(i),u=n(58252),c=n(49848);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={},O=(0,c.lifecycle)({componentDidMount:function(){if(v[this.props.id]){var e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(v[this.props.id],e)}},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){v[this.props.id]=document.getElementById(this.props.id)}})((function(e){var t=e.id;return o().createElement("div",{id:t})})),E=[{element:o().createElement(O,{key:"attribution",id:"footer-attribution-container"})},{element:o().createElement(O,{key:"scalebar",id:"footer-scalebar-container"})}],S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(i){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function c(){var e;f(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(b(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[])})),h(b(e),"getTools",(function(){return[E[0]].concat(s(e.props.items.sort((function(e,t){return t.position-e.position}))),[E[1]])})),e}return t=c,(n=[{key:"render",value:function(){return o().createElement(u.Z,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return o().createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(e){return o().createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&y(t.prototype,n),c}(o().Component);h(S,"propTypes",{className:a().string,style:a().object,items:a().array,id:a().string,mapType:a().string}),h(S,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"});const T={MapFooterPlugin:S,reducers:{}}},95605:(e,t,n)=>{"use strict";n.d(t,{default:()=>P}),n(77890);var r=n(27418),o=n.n(r),i=n(89208),a=n(22222),u=n(45697),c=n.n(u),l=n(5053),s=n.n(l),p=n(72986),f=n.n(p);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.e(2620).then(n.t.bind(n,22620,23));var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(){return d(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return this.props.loading?s().createElement("div",{className:this.props.className,id:this.props.id},s().createElement(f(),{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&m(t.prototype,n),a}(s().Component);v(O,"propTypes",{id:c().string,loading:c().bool,className:c().string,spinner:c().string}),v(O,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"});const E=O;var S=n(75110),T=(0,a.P1)([S.l2],(function(e){return{loading:e&&e.some((function(e){return e.loading}))}})),w=(0,i.connect)(T)(E);const P={MapLoadingPlugin:o()(w,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},9860:(e,t,n)=>{"use strict";n.d(t,{default:()=>v});var r=n(5053),o=n.n(r),i=n(45697),a=n.n(i),u=(n(78998),n(27418)),c=n.n(u),l=n(58252);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(m(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){var r,o;return{name:t.name+n,panel:e,cfg:(null==t||null===(r=t.cfg)||void 0===r||null===(o=r.toolsCfg)||void 0===o?void 0:o[n])||{}}})))}),[])})),g(m(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=u,(n=[{key:"render",value:function(){return o().createElement(l.Z,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return o().createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return o().createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&f(t.prototype,n),u}(o().Component);g(h,"propTypes",{className:a().string,style:a().object,items:a().array,id:a().string,mapType:a().string}),g(h,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"});const v={OmniBarPlugin:c()(h,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},48401:(e,t,n)=>{"use strict";n.d(t,{default:()=>P});var r=n(27418),o=n.n(r),i=n(5053),a=n.n(i),u=n(89208),c=n(49848),l=n(22222),s=n(62187),p=n(2001),f=n(37307),y=n(32215),d=n(85148),m=n(76843),b=n(79860);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=(0,c.compose)((0,c.defaultProps)({statusMap:s.Q_}),(0,u.connect)((0,l.P1)(m.dS,d.WT,m.E2,(function(e,t,n){return{loading:n,currentTime:t,status:e}})),{play:s.hY,pause:s.wO,stop:s.sT}))(b.Z),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(){return h(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return a().createElement("div",{className:"playback-plugin"},a().createElement(T,this.props))}}])&&v(t.prototype,n),u}(a().Component);const P={PlaybackPlugin:o()(w,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:p.ZP,reducers:{playback:y.Z,dimension:f.Z}}},59224:(e,t,n)=>{"use strict";n.d(t,{default:()=>B}),n(97142);var r=n(91175),o=n.n(r),i=n(27418),a=n.n(i),u=n(45697),c=n.n(u),l=n(5053),s=n.n(l),p=n(30294),f=n(89208),y=n(22222),d=n(82904),m=n(86069),b=n(5346),g=n(7472),h=n(45959),v=n(75110),O=n(8316),E=n(38842),S=n(827),T=n(93152),w=n(90183),P=n(86638),j=n(52259),x=n(24262);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B={PrintPlugin:a()({loadPlugin:function(e){Promise.resolve().then(function(){var t=n(10947).default,r=t.Name,i=t.Description,u=t.Resolution,l=t.DefaultBackgroundOption,h=t.Sheet,A=t.LegendOption,R=t.MultiPageOption,I=t.LandscapeOption,B=t.ForceLabelsOption,z=t.AntiAliasingOption,Z=t.IconSizeOption,W=t.LegendDpiOption,Y=t.Font,H=t.MapPreview,V=t.PrintSubmit,q=t.PrintPreview,$=n(34049),X=$.preloadData,K=$.getMapfishPrintSpecification,Q=$.getLayoutName,J=$.getPrintScales,ee=$.getNearestZoom,te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(d,e);var t,n,c,f,y=(c=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=G(c);if(f){var n=G(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function d(){var e;L(this,d);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return U(k(e=y.call.apply(y,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),U(k(e),"getLayout",(function(t){var n=t||e.props,r=n.getLayoutName,i=n.printSpec,a=n.capabilities,u=r(i);return o()(a.layouts.filter((function(e){return e.name===u})))})),U(k(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return s().createElement(t.component,{key:"printoption_"+t.name,label:(0,P.S$)(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),U(k(e),"renderPreviewPanel",(function(){return s().createElement(q,D({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),U(k(e),"renderError",(function(){return e.props.error?s().createElement(p.Row,null,s().createElement(p.Col,{xs:12},s().createElement("div",{className:"print-error"},s().createElement("span",null,e.props.error)))):null})),U(k(e),"renderWarning",(function(e){return e?null:s().createElement(p.Row,null,s().createElement(p.Col,{xs:12},s().createElement("div",{className:"print-warning"},s().createElement("span",null,s().createElement(b.Z,{msgId:"print.layoutWarning"})))))})),U(k(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),o=e.getMapSize(t);return s().createElement(p.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),s().createElement(p.Row,null,s().createElement(p.Col,{xs:12,md:6},s().createElement(r,{label:(0,P.S$)(e.context.messages,"print.title"),placeholder:(0,P.S$)(e.context.messages,"print.titleplaceholder")}),s().createElement(i,{label:(0,P.S$)(e.context.messages,"print.description"),placeholder:(0,P.S$)(e.context.messages,"print.descriptionplaceholder")}),s().createElement(p.Accordion,{defaultActiveKey:"1"},s().createElement(p.Panel,{className:"print-layout",header:(0,P.S$)(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},s().createElement(h,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:(0,P.S$)(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),s().createElement(p.Panel,{className:"print-legend-options",header:(0,P.S$)(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},s().createElement(Y,{label:(0,P.S$)(e.context.messages,"print.legend.font")}),s().createElement(B,{label:(0,P.S$)(e.context.messages,"print.legend.forceLabels")}),s().createElement(z,{label:(0,P.S$)(e.context.messages,"print.legend.antiAliasing")}),s().createElement(Z,{label:(0,P.S$)(e.context.messages,"print.legend.iconsSize")}),s().createElement(W,{label:(0,P.S$)(e.context.messages,"print.legend.dpi")})))),s().createElement(p.Col,{xs:12,md:6,style:{textAlign:"center"}},s().createElement(u,{label:(0,P.S$)(e.context.messages,"print.resolution")}),s().createElement(H,D({width:o.width,height:o.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:(0,j.getResolutions)(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?s().createElement(l,{label:(0,P.S$)(e.context.messages,"print.defaultBackground")}):null,s().createElement(V,D({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),U(k(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?s().createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),U(k(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),U(k(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),U(k(e),"isBackgroundIgnored",(function(t){return(t||e.props.layers).filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),U(k(e),"filterLayers",(function(t,n){var r=t||e.props,o=r.printSpec,i=r.layers,u=r.defaultBackground,c=i.filter((function(t){return t.visibility&&(0,x.T4)(t,n)&&e.isAllowed(t)}));if(e.isBackgroundIgnored(i)&&u&&o.defaultBackground){var l=i.filter((function(e){return e.type===u}))[0];return[a()({},l,{visibility:!0})].concat(C(c))}return c})),U(k(e),"configurePrintMap",(function(t){var n=t||e.props,r=n.map,o=n.capabilities,i=n.minZoom,a=n.configurePrintMap,u=n.useFixedScales,c=n.getZoomForExtent,l=n.maxZoom,s=n.currentLocale,p=n.scales;if(r&&r.bbox&&o){var f=(0,j.dpi2dpu)(j.DEFAULT_SCREEN_DPI,r.projection),y=(0,w.reprojectBbox)([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),d=e.getMapSize();if(u){var m=c(y,d,i,l),b=J(o),g=ee(r.zoom,b),h=b[g],v=h/f;a(r.center,m,g,h,e.filterLayers(t,v),r.projection,s)}else{var O=p[r.zoom],E=O/f;a(r.center,r.zoom,r.zoom,O,e.filterLayers(t,E),r.projection,s)}}})),U(k(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=_(_({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,_(_({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=d,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&(0,j.mapUpdated)(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?s().createElement(p.Panel,{className:"mapstore-print-panel",header:s().createElement("span",null,s().createElement("span",{className:"print-panel-title"},s().createElement(b.Z,{msgId:"print.paneltitle"})),s().createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):s().createElement(g.Z,{id:"mapstore-print-panel",style:_({left:"17%",top:"50px",zIndex:1990},this.props.style)},s().createElement("span",{role:"header"},s().createElement("span",{className:"print-panel-title"},s().createElement(b.Z,{msgId:"print.paneltitle"})),s().createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?s().createElement(p.Glyphicon,{glyph:this.props.closeGlyph}):s().createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&N(t.prototype,n),d}(s().Component);U(te,"propTypes",{map:c().object,layers:c().array,capabilities:c().object,printSpec:c().object,printSpecTemplate:c().object,withContainer:c().bool,withPanelAsContainer:c().bool,open:c().bool,pdfUrl:c().string,title:c().string,style:c().object,mapWidth:c().number,mapType:c().string,alternatives:c().array,toggleControl:c().func,onBeforePrint:c().func,setPage:c().func,onPrint:c().func,printError:c().func,configurePrintMap:c().func,preloadData:c().func,getPrintSpecification:c().func,getLayoutName:c().func,error:c().string,getZoomForExtent:c().func,minZoom:c().number,maxZoom:c().number,usePreview:c().bool,mapPreviewOptions:c().object,syncMapPreview:c().bool,useFixedScales:c().bool,scales:c().array,ignoreLayers:c().array,defaultBackground:c().string,closeGlyph:c().string,submitConfig:c().object,previewOptions:c().object,currentLocale:c().string,currentLocaleLanguage:c().string,overrideOptions:c().object,isLocalizedLayerStylesEnabled:c().bool,localizedLayerStylesEnv:c().object}),U(te,"contextTypes",{messages:c().object}),U(te,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:X,getPrintSpecification:K,getLayoutName:Q,getZoomForExtent:j.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:A,regex:/legend/},{name:"2pages",component:R,regex:/2_pages/},{name:"landscape",component:I,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var ne=(0,y.P1)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&a()({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},S.Od,v.l2,S.up,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},O.Pz,O.KV,T.$v,E.wk,E.fY],(function(e,t,n,r,o,i,a,u,c,l,s,p,f,y){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:u,usePreview:c,currentLocale:l,currentLocaleLanguage:s,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:y}})),re=(0,f.connect)(ne,{toggleControl:d.Xi.bind(null,"print",null),onPrint:m.gV,printError:m.OS,onBeforePrint:m.MW,setPage:d.Xg.bind(null,"print","currentPage"),configurePrintMap:m.h9})(te);e(re)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:s().createElement(b.Z,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:s().createElement(p.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:s().createElement(b.Z,{msgId:"printbutton"}),icon:s().createElement(p.Glyphicon,{glyph:"print"}),action:d.Xi.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:h.Z}}},58888:(e,t,n)=>{"use strict";n.d(t,{default:()=>B});var r=n(5053),o=n.n(r),i=n(22843),a=n(22222),u=n(827),c=n(1550),l=n(89208),s=n(98939),p=n(45697),f=n.n(p),y=n(83606);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(41165);var O,E,S,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(i){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function u(){return m(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return o().createElement("div",{id:this.props.id},o().createElement(y.Z,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&b(t.prototype,n),u}(o().Component);O=T,E="propTypes",S={id:f().string,helpText:f().oneOfType([f().string,f().element]),helpEnabled:f().bool,changeHelpText:f().func,changeHelpwinVisibility:f().func},E in O?Object.defineProperty(O,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):O[E]=S;const w=T,P=(0,l.connect)((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:s.n2,changeHelpwinVisibility:s.SA})(w);var j=n(81756),x=n(75964),A=n(52259),R=n(27418),_=n.n(R);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(87231);var k=(0,a.P1)([u.Od,u._e],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:(0,A.getScales)(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}})),G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(i){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function u(){return D(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return o().createElement(P,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:o().createElement(j.Z,{msgId:"helptexts.scaleBox"})},o().createElement(x.Z,I({key:"scaleBox",label:o().createElement(j.Z,{msgId:"mapScale"})},this.props)))}}])&&L(t.prototype,n),u}(o().Component),U=(0,i.$j)(k,{onChange:c.sO})(G);const B={ScaleBoxPlugin:_()(U,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:2,tool:!0,priority:1}}),reducers:{}}},70335:(e,t,n)=>{"use strict";n.d(t,{default:()=>B});var r=n(91175),o=n.n(r),i=n(47037),a=n.n(i),u=n(30381),c=n.n(u),l=n(27418),s=n.n(l),p=n(5053),f=n.n(p),y=n(30294),d=n(89208),m=n(49848),b=n(22222),g=n(57604),h=n(62187),v=n(57676),O=n(5346),E=n(15135),S=n(38482),T=n(80717),w=n(65295),P=n(85148),j=n(55105),x=n(76843),A=n(97291),R=n(42850),_=n(89168),C=n(38560);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=(0,E.Z)(C.Z),F=function(e){return a()(e)&&-1!==e.indexOf("%")},k=function(e){return parseInt(e,10)/100},G=function(e,t){return c()(t).diff(e)>0},U=(0,m.compose)((0,d.connect)((0,b.P1)(A.pn,A.rV,P.WT,A.m_,P.RP,x.KC,x.dS,A.YK,(function(e,t,n,r,o,i,a,u){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:i,status:a,viewRange:u}})),{setCurrentTime:v.HM,onOffsetEnabled:v.PQ,setOffset:g.pF,setPlaybackRange:h.VS,moveRangeTo:v.y3,onInit:v._e}),(0,m.branch)((function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),m.renderNothing),(0,m.withState)("options","setOptions",{collapsed:!0}),(0,d.connect)((0,b.P1)(A.cX,(function(e){return{mapSync:e}})),{toggleMapSync:v.Z7}),(0,m.compose)((0,m.compose)((0,m.withStateHandlers)((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),(0,S.Z)({querySelector:".ms2",closest:!0,debounceTime:100})),(0,m.defaultProps)({showHiddenLayers:!1,style:{marginBottom:35,marginLeft:100,marginRight:80}}),(0,d.connect)((0,b.P1)((function(e){return(0,j.ic)(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),(0,m.withProps)((function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},i=o.marginLeft,a=o.marginRight,u=r.left,c=void 0===u?0:u,l=r.right,s=void 0===l?0:l;if(s=F(s)&&k(s)*t||s,c=F(c)&&k(c)*t||c,t){var p=t-s-c-i-a;return{hide:p<410,compactToolbar:p<880,style:L(L(L({},n),r),{},{minWidth:410})}}return{style:L(L(L({},n),r),{},{minWidth:410})}})),(0,m.branch)((function(e){return e.hide}),m.renderNothing),(0,m.setDisplayName)("TimelinePlugin")))((function(e){var t=e.items,n=e.options,r=e.setOptions,i=e.mapSync,a=e.toggleMapSync,u=void 0===a?function(){}:a,l=e.currentTime,s=e.setCurrentTime,d=e.offsetEnabled,m=e.onOffsetEnabled,b=e.currentTimeRange,g=e.setOffset,h=e.style,v=e.status,E=e.viewRange,S=e.moveRangeTo,P=e.compactToolbar,j=e.showHiddenLayers,x=e.onInit,A=void 0===x?function(){}:x;(0,p.useEffect)((function(){A(j)}),[A]);var _=n.hideLayersName,C=n.collapsed,D=o()(t&&t.filter((function(e){return"playback"===e.name}))),N=D&&D.plugin,F=function(e,t,n,r){var o=c()(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==c()(e).add(-1*o).toString()&&n.end.toString()!==c()(e).add(o).toString()&&S({start:c()(e).add(-1*o),end:c()(e).add(o)}),"range-start"===t||"range-end"===t){var i=c()(r.end).diff(r.start),a=c()(r.start).add(i/2);S(i/2<=o?{start:c()(a).add(-1*o),end:c()(a).add(o)}:{start:c()(a).add(-1*i*5/2),end:c()(a).add(5*i/2)})}};return f().createElement("div",{style:L(L({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},h),{},{right:C?"auto":h.right||0}),className:"timeline-plugin".concat(_?" hide-layers-name":"").concat(d?" with-time-offset":"")},d&&f().createElement(w.Z,{clickable:!C,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==v&&F(e,t,E,b)},tooltip:f().createElement(O.Z,{msgId:"timeline.rangeStart"}),showButtons:!0,date:l||b&&b.start,onUpdate:function(e){return(b&&G(e,b.end)||!b)&&"PLAY"!==v&&s(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),f().createElement("div",{className:"timeline-plugin-toolbar".concat(P?" ms-collapsed":"")},d&&b?f().createElement(w.Z,{clickable:!C,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==v&&F(e,t,E,b)},tooltip:f().createElement(O.Z,{msgId:"timeline.rangeEnd"}),date:b.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==v&&G(l,e)&&g(e)}}):f().createElement(w.Z,{clickable:!C,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==v&&F(e,t,E)},tooltip:f().createElement(O.Z,{msgId:"timeline.currentTime"}),date:l||b&&b.start,onUpdate:function(e){return(b&&G(e,b.end)||!b)&&"PLAY"!==v&&s(e)}}),f().createElement("div",{className:"timeline-plugin-btn-group"},f().createElement(T.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:f().createElement(O.Z,{msgId:_?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:_?"primary":"success",visible:!C,active:!_,onClick:function(){return r(L(L({},n),{},{hideLayersName:!_}))}},{glyph:"time-offset",bsStyle:d?"success":"primary",active:d,disabled:"PLAY"===v,tooltip:f().createElement(O.Z,{msgId:d?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==v&&m(!d)}},{glyph:"map-synch",tooltip:f().createElement(O.Z,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return u(!i)}}]}),N&&f().createElement(N,I({},D,{settingsStyle:{right:C||P?40:"unset"}}))),f().createElement(M,{onClick:function(){return r(L(L({},n),{},{collapsed:!C}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:f().createElement(O.Z,{msgId:C?"timeline.expand":"timeline.collapse"})},f().createElement(y.Glyphicon,{glyph:C?"chevron-up":"chevron-down"}))),!C&&f().createElement(R.Z,{offsetEnabled:d,playbackEnabled:!0,hideLayersName:_}))}));const B={TimelinePlugin:s()(U,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:f().createElement(_.Z,null),position:0}}),reducers:{dimension:n(37307).Z,timeline:n(55545).Z},epics:n(26325).ZP}},83520:(e,t,n)=>{"use strict";n.d(t,{default:()=>I});var r=n(5053),o=n.n(r),i=n(45697),a=n.n(i),u=n(89208),c=(n(50329),n(44892)),l=n(31255),s=n(55105),p=n(22222),f=n(27418),y=n.n(f),d=n(58252);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){S(n,e);var t=w(n);function n(){return v(this,n),t.apply(this,arguments)}return E(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=h(e,["children"]);return o().createElement(c.CSSTransitionGroup,g({},n,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),t)}}]),n}(o().Component),R=function(e){S(n,e);var t=w(n);function n(){return v(this,n),t.apply(this,arguments)}return E(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=h(e,["children"]);return o().createElement("div",n,t)}}]),n}(o().Component),_=function(e){S(n,e);var t=w(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b(j(e=t.call.apply(t,[this].concat(o))),"getPanel",(function(e){return!0===e.panel?e.plugin:e.panel})),b(j(e),"getPanels",(function(){return e.getTools().filter((function(e){return e.panel})).map((function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:e.getPanel(t),items:t.items,wrap:t.wrap||!1}}))})),b(j(e),"getTools",(function(){var t=e.props.items.filter((function(e){return!e.alwaysVisible}))||[];return e.props.items.filter((function(n){return n.alwaysVisible||1===t.length||e.props.allVisible})).filter((function(t){return!t.showWhen||t.showWhen(e.props)})).map((function(e,t){return y()({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),e}return E(n,[{key:"render",value:function(){var e=this.props.disableAnimation?R:A;return o().createElement(d.Z,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),n}(o().Component);b(_,"propTypes",{id:a().string,tools:a().array,mapType:a().string,style:a().object,panelStyle:a().object,panelClassName:a().string,disableAnimation:a().bool,active:a().string,items:a().array,allVisible:a().bool,layout:a().string,stateSelector:a().string,buttonStyle:a().string,buttonSize:a().string,pressedButtonStyle:a().string,btnConfig:a().object}),b(_,"contextTypes",{messages:a().object,router:a().object}),b(_,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var C=function(e){return(0,p.P1)([function(t){return t.controls&&t.controls[e]&&t.controls[e].active},function(t){return t.controls&&t.controls[e]&&t.controls[e].expanded},l.Rd,function(e){return(0,s.ic)(e,{right:!0,bottom:!0})}],(function(t,n,r,o){return{active:t,allVisible:n,stateSelector:e,layout:r?"horizontal":"vertical",style:o}}))};const I={ToolbarPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return(0,u.connect)(C(e))(_)},reducers:{controls:n(25108).Z}}},19461:(e,t,n)=>{"use strict";n.d(t,{default:()=>G}),n(48966);var r=n(27418),o=n.n(r),i=n(5053),a=n.n(i),u=n(30294),c=n(89208),l=n(22222),s=n(1550),p=n(45697),f=n.n(p),y=n(38560),d=n(50966),m=n(52259),b=n(37275);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function c(){var e;h(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(S(e=i.call.apply(i,[this].concat(n))),"addTooltip",(function(t){var n=a().createElement(u.Tooltip,{id:"locate-tooltip"},e.props.tooltip);return a().createElement(d.Z,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),w(S(e),"zoomToMaxExtent",(function(){var t=e.props.mapConfig.maxExtent,n=e.props.mapConfig.size,r=1,o=e.props.mapConfig.center,i=e.props.mapConfig.projection||"EPSG:3857";t&&"[object Array]"===Object.prototype.toString.call(t)&&(r=(0,m.getZoomForExtent)(t,n,0,21),0===(o=(0,m.getCenterForExtent)(t,i)).x&&0===o.y||(o=(0,b.qg)(o,"EPSG:4326")));var a=(0,m.getBbox)(o,r,n);e.props.changeMapView(o,r,a,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),w(S(e),"zoomToInitialExtent",(function(){var t=e.props.mapInitialConfig,n=(0,m.getBbox)(t.center,t.zoom,e.props.mapConfig.size);e.props.changeMapView(t.center,t.zoom,n,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),e}return t=c,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(a().createElement(y.Z,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return e.props.useInitialExtent?e.zoomToInitialExtent():e.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?a().createElement(u.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&v(t.prototype,n),c}(a().Component);w(P,"propTypes",{id:f().string,image:f().string,glyphicon:f().string,text:f().string,btnSize:f().oneOf(["large","small","xsmall"]),mapConfig:f().object,mapInitialConfig:f().object,changeMapView:f().func,btnType:f().oneOf(["normal","image"]),help:f().oneOfType([f().string,f().element]),tooltip:f().element,tooltipPlace:f().string,className:f().string,useInitialExtent:f().bool,bsStyle:f().string,style:f().object}),w(P,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"});const j=P;var x=n(5346),A=n(827);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=(0,l.P1)([A.Od,function(e){return e.mapInitialConfig}],(function(e,t){return{mapConfig:e,mapInitialConfig:t}})),F=(0,c.connect)(M,{changeMapView:s.o6})(j),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(o){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(){return C(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return a().createElement(F,_({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}])&&I(t.prototype,n),u}(a().Component);const G={ZoomAllPlugin:o()(k,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:a().createElement(u.Glyphicon,{glyph:"resize-full"}),help:a().createElement(x.Z,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},68783:(e,t,n)=>{"use strict";n.d(t,{default:()=>m}),n(7594);var r=n(27418),o=n.n(r),i=n(5053),a=n.n(i),u=n(89208),c=n(22222),l=n(1550),s=n(9192),p=n(5346),f=n(827),y=(0,c.P1)([f.Od],(function(e){return{currentZoom:e&&e.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}})),d=(0,u.connect)(y,{onZoom:l.sO})(s.Z);const m={ZoomInPlugin:o()(d,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:a().createElement(p.Z,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}},13573:(e,t,n)=>{"use strict";n.d(t,{default:()=>h}),n(7594);var r=n(27418),o=n.n(r),i=n(5053),a=n.n(i),u=n(89208),c=n(22222),l=n(1550),s=n(9192),p=n(5346),f=n(827);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,c.P1)([f.Od,f._e],(function(e,t){return{currentZoom:e&&e.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:t}})),g=(0,u.connect)(b,{onZoom:l.sO},(function(e,t,n){return d(d(d({},e),t),n)}))(s.Z);const h={ZoomOutPlugin:o()(g,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:a().createElement(p.Z,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}},58252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(53131),o=n.n(r),i=n(27418),a=n.n(i),u=n(45697),c=n.n(u),l=n(5053),s=n.n(l),p=n(30294),f=n(89208),y=n(3523),d=n(82904),m=n(98939),b=n(83606),g=n(5346),h=n(50966),v=n(38560);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=(0,f.connect)((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:m.n2,changeHelpwinVisibility:m.SA})(b.Z),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(c,e);var t,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(i){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function c(){var e;w(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(A(e=u.call.apply(u,[this].concat(n))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),_(A(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var n=function(){return{}},r={};return t.exclusive?(n=function(n){return{active:n.controls&&n.controls[e.props.stateSelector]&&n.controls[e.props.stateSelector].active===t.name}},r[e.props.eventSelector]=d.Xg.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(n=function(n){return{bsStyle:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},r[e.props.eventSelector]=d.Xi.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(r[e.props.eventSelector]=o()(t.action,e.context),n=t.selector||n),(0,f.connect)(n,r,(function(t,n,r){return e.mergeHandlers(T(T({},r),t),n)}))(e.props.tool)})),_(A(e),"renderTool",(function(t,n){if(t.element)return t.element;var r=t.help?s().createElement(C,{className:"mapstore-helpbadge",helpText:t.help}):s().createElement("span",null),o=t.tooltip?s().createElement(g.Z,{msgId:t.tooltip}):null,i=e.getTool(t),a=e.getToolConfig(t),u=t.childTools||[];return e.addTooltip(s().createElement(i,E({},a,{pluginCfg:t.cfg,tooltip:o,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:r,key:t.name||"tool"+n,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?s().createElement(p.Glyphicon,{glyph:t.cfg.glyph}):t.icon,r," ",t.text,u.length>0&&s().createElement(c,E({},t.innerProps,{mapType:e.props.mapType,tools:u,panels:t.childPanels}))),t)})),_(A(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),_(A(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var n=t.panel,r=s().createElement(n,E({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),o=t.title?s().createElement(g.Z,{msgId:t.title}):null;return t.wrap?s().createElement(p.Collapse,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},s().createElement(p.Panel,{header:o,style:e.props.panelStyle,className:e.props.panelClassName},r)):r}))})),_(A(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(n,r){return a()(n,_({},r,e[r]?(0,y.qC)(e[r],t[r]):t[r]))}),e)})),_(A(e),"addTooltip",(function(t,n){if(n.tooltip){var r=s().createElement(p.Tooltip,{id:e.props.id+"-"+n.name+"-tooltip"},s().createElement(g.Z,{msgId:n.tooltip}));return s().createElement(h.Z,{key:e.props.id+"-"+n.name+"-overlay",rootClose:!0,placement:"left",overlay:r},t)}return t})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props.container;return s().createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},s().createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&P(t.prototype,n),c}(s().Component);_(I,"propTypes",{id:c().string.isRequired,container:c().func,containerWrapperStyle:c().object,tool:c().func,className:c().string,style:c().object,tools:c().array,panels:c().array,mapType:c().string,toolStyle:c().string,activeStyle:c().string,toolSize:c().string,stateSelector:c().string.isRequired,eventSelector:c().string,panelStyle:c().object,panelClassName:c().string,activePanel:c().string,toolCfg:c().object}),_(I,"contextTypes",{messages:c().object,router:c().object}),_(I,"defaultProps",{container:p.Panel,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:v.Z,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}});const D=I},46618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(62520),o=n(27418),i=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.d:var n=t.layout,o=n.boundingMapRect,a=void 0===o?{}:o,c=l(n,["boundingMapRect"]);return i()({},e,{layout:i()({},c,c),boundingMapRect:u({},a)});default:return e}}},75751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(69293),o=n(27418),i=n.n(o),a=n(14293),u=n.n(a);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchFilter:{},searchText:"",results:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.h6:return i()({},e,{searchText:t.text});case r.r:return i()({},e,{searchFilter:p(p({},e.searchFilter),{},f({},t.filter,t.filterData))});case r.MJ:return i()({},e,{searchFilter:t.searchFilter});case r.sj:return i()({},e,{contexts:t.contexts});case r.br:return i()({},e,{loading:t.value,loadFlags:p(p({},e.loadFlags||{}),"loading"!==t.name?f({},t.name,t.value):{})});case r.qF:return i()({},e,{metadata:i()({},e.metadata,f({},t.prop,t.value))});case r.hU:return i()({},e,{loading:!0,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});case r.IL:if(t.maps&&t.maps.results&&Array.isArray(t.maps.results))return i()({},e,t.maps,{loading:!1,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});var n=""!==t.maps.results?[t.maps.results]:[];return i()({},e,t.maps,{results:n,loading:!1});case r.qA:return{loadingError:t.error};case r.Xh:for(var o=""===e.results||u()(e.results)?[]:c(e.results),a=0;a<o.length;a++)o[a].id&&o[a].id===t.resourceId&&(o[a]=i()({},o[a],{updating:!0}));return i()({},e,{results:o});case r.vY:for(var l=""===e.results?[]:c(e.results),s=0;s<l.length;s++){var y;l[s].id&&l[s].id===t.resourceId&&(l[s]=i()({},l[s],(f(y={},t.name,decodeURIComponent(t.value)),f(y,"updating",!1),f(y,"loadingError",t.error?t.error:null),y)))}return i()({},e,{results:l});case r.zg:for(var d=""===e.results?[]:c(e.results),m=0;m<d.length;m++)d[m].id&&d[m].id===t.resourceId&&(d[m]=i()({},d[m],{deleting:!0}));return i()({},e,{results:d});case r.a3:var b=""===e.results?[]:c(e.results),g={results:[].concat(c(b),[t.metadata]),totalCount:e.totalCount+1};return i()({},e,g);case r.n8:case r.W5:for(var h=""===e.results?[]:c(e.results),v=0;v<h.length;v++)h[v].id&&h[v].id===t.resourceId&&(h[v]=i()({},h[v],{updating:!1}));return i()({},e,{results:h});case r.QB:var O=""===e.results?[]:c(e.results),E=i()({},e,{results:O.map((function(e){return e.id===t.mapId?i()({},e,{permissionLoading:!0}):e}))});return E;default:return e}}},56874:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(13652);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.Wz:return i(i({},e),{},{mapType:t.mapType,last2dMapType:t.mapType&&"cesium"!==t.mapType?t.mapType:"cesium"!==e.mapType?e.mapType:e.last2dMapType});case r.v2:return t.mapType&&"cesium"!==t.mapType&&t.mapType!==e.last2dMapType?i(i({},e),{},{last2dMapType:t.mapType}):e;default:return e}}},88113:(e,t,n)=>{"use strict";n.d(t,{b6:()=>y,PG:()=>d,_x:()=>m,Mm:()=>b,dP:()=>g,SX:()=>h,ZL:()=>v,_S:()=>O,iH:()=>E,R7:()=>S,Q7:()=>T,n7:()=>w,bA:()=>P,hm:()=>j,E2:()=>x,Cb:()=>A,eK:()=>R,Im:()=>_,e8:()=>C,$t:()=>I,kS:()=>D,y:()=>L,l2:()=>N,HN:()=>M,BM:()=>F,am:()=>k,LV:()=>G,CK:()=>U});var r=n(22222),o=n(27361),i=n.n(o),a=n(78718),u=n.n(a),c=n(827),l=n(76712);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){return i()(e,"catalog.services")},d=(0,r.P1)((function(e){return i()(e,"catalog.default.staticServices")}),y,(function(e,t){return p(p({},t),u()(e,"default_map_backgrounds"))})),m=function(e){return i()(e,"catalog.default.tileSizes",[256,512])},b=function(e){return i()(e,"controls.metadataexplorer.group")},g=function(e){return i()(e,"catalog.saving")},h=function(e){return i()(e,"catalog.result")},v=function(e){return i()(e,"catalog.openCatalogServiceList")},O=function(e){return i()(e,"catalog.newService")},E=function(e){return i()(e,"catalog.newService.type","csw")},S=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"]'))},T=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].type'),function(e){return i()(e,'catalog.default.staticServices["'.concat(i()(e,"catalog.selectedService"),'"].type'),"csw")}(e))},w=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].layerOptions'),{})},P=function(e){return i()(e,"catalog.searchOptions")},j=function(e){return i()(e,"catalog.loadingError")},x=function(e){return i()(e,"catalog.loading",!1)},A=function(e){return i()(e,"catalog.selectedService")},R=function(e){return i()(e,"catalog.mode","view")},_=function(e){return i()(e,"catalog.layerError")},C=function(e){return i()(e,"catalog.searchOptions.text","")},I=function(e){return"metadataexplorer"===i()(e,"controls.toolbar.active")||i()(e,"controls.metadataexplorer.enabled")},D=function(e){return(i()(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},L=function(e){return i()(e,"catalog.pageSize",4)},N=function(e){return i()(e,"catalog.delayAutoSearch",1e3)},M=(0,r.zB)({projection:c.uy}),F=function(e){return i()(e,"catalog.formatsLoading",!1)},k=function(e){return i()(e,"catalog.newService.supportedFormats.imageFormats",l.QQ)},G=function(e){return i()(e,"catalog.newService.supportedFormats.infoFormats",(0,l.B8)())},U=function(e){return i()(e,"catalog.newService.formatUrlUsed","")}},31255:(e,t,n)=>{"use strict";n.d(t,{u$:()=>S,PI:()=>T,_w:()=>w,eO:()=>P,kG:()=>j,P3:()=>x,bq:()=>_,LB:()=>C,b4:()=>I,M0:()=>D,Li:()=>L,Rd:()=>N,g5:()=>M,Sj:()=>F,o:()=>k,eK:()=>G,jY:()=>U,ND:()=>B,OK:()=>z,tU:()=>Z,ou:()=>W,DK:()=>Y,Gl:()=>H,uz:()=>V,Ci:()=>q,Ae:()=>$,gz:()=>X,He:()=>K,P4:()=>Q,kd:()=>J,TC:()=>ee,nq:()=>te,Vf:()=>ne});var r=n(91175),o=n.n(r),i=n(27361),a=n.n(i),u=n(13218),c=n.n(u),l=n(75110),s=n(78889),p=n(8316),f=n(52259),y=n(96958),d=n(85148),m=n(74621),b=n(93152),g=n(24260);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=l.CA,S=function(e){return a()(e,"featuregrid.selectedLayer")},T=function(e){return a()(e,"featuregrid.chartDisabled",!1)},w=function(e){return e&&e.featuregrid&&e.featuregrid.select},P=function(e){return e&&e.featuregrid&&e.featuregrid.changes},j=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},x=function(e){return o()(w(e))},A=function(e){var t=(0,g.Qs)(e);if(t){var n=(0,s.findGeometryProperty)(t);return n&&n.localType}return null},R=["Geometry","GeometryCollection"],_=function(e){return!o()(R.filter((function(t){return A(e)===t})))},C=function(e){return P(e)&&P(e).length>0},I=function(e){return j(e)&&j(e).length>0},D=function(e){return e&&e.featuregrid&&e.featuregrid.filters},L=function(e){return E(e,S(e))},N=function(e){return e&&e.featuregrid&&e.featuregrid.open},M=function(e,t){return a()(D(e),t)},F=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(E(e,S(e)));return c()(t)?t[(0,p.Pz)(e)]||t.default||"":t},k=function(e){return((0,g.L)(e)||[]).map((function(t){var n=function(e,t){return a()(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(e,t);return n?v(v({},t),n):t}))},G=function(e){return e&&e.featuregrid&&e.featuregrid.mode},U=function(e){return(w(e)||[]).length},B=function(e){return(0,y.rK)(P(e))},z=function(e){return function(e){var t=x(e);if(t){var n=(0,y.rK)(P(e));return!((!n[t.id]||null===n[t.id].geometry)&&(n[t.id]&&null===n[t.id].geometry||t._new&&o()(j(e))&&null===o()(j(e)).geometry||(!t._new||!o()(j(e))||null===o()(j(e)).geometry)&&null===t.geometry))}return!1}(e)},Z=function(e){return a()(e,"featuregrid.showAgain",!1)},W=function(e){if(a()(e,"featuregrid.showTimeSync",!1)){var t=S(e);return(0,d.jo)({id:t},"time")(e)}return null},Y=function(e){return a()(e,"featuregrid.timeSync",!1)},H=function(e){return a()(e,"featuregrid.showPopoverSync",!0)},V=function(e){return e&&e.featuregrid&&e.featuregrid.saving},q=function(e){return e&&e.featuregrid&&e.featuregrid.saved},$=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},X=function(e){return a()(e,"featuregrid.multiselect",!1)},K=function(e){return(0,f.isSimpleGeomType)(A(e))},Q=function(e){return e.featuregrid&&e.featuregrid.dockSize},J=function(e){var t=E(e,S(e));return t&&t.name||""},ee=function(e){var t=function(e){return a()(E(e,S(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},te=function(e){var t=(0,m.L3)(e),n=function(e){return a()(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],r=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==n.indexOf(t)||r)&&!(0,b.c0)(e)},ne=function(e){return a()(e,"featuregrid.pagination")}},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>p,Yf:()=>f,c3:()=>y,fY:()=>d});var r=n(18721),o=n.n(r),i=n(27361),a=n.n(i),u=n(13311),c=n.n(u),l=n(22222),s=n(8316),p=function(e){return o()(e,"localConfig.localizedLayerStyles")},f=function(e){var t=a()(e,"localConfig.plugins.dashboard",[]),n=c()(t,(function(e){return"DashboardEditor"===e.name}))||{};return a()(n,"cfg.catalog.localizedLayerStyles",!1)},y=function(e){return a()(e,"localConfig.localizedLayerStyles.name","mapstore_language")},d=(0,l.P1)(p,y,s.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},55105:(e,t,n)=>{"use strict";n.d(t,{Nr:()=>p,ic:()=>f,Jz:()=>d,VM:()=>m,CF:()=>b});var r=n(91175),o=n.n(r),i=n(827),a=n(52259);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return e.maplayout&&e.maplayout.layout||{}},p=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return c(c({},e),{},l({},t,n[t]))}),{})||{}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=s(e),r=!!o()(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})));return r},d=function(e){return y(e,[{key:"right",value:658}])},m=function(e){return y(e,[{key:"bottom",value:30,type:"not"}])},b=function(e){var t=(0,i.Od)(e),n=p(e);return n&&t&&t.size&&{left:(0,a.parseLayoutValue)(n.left,t.size.width),bottom:(0,a.parseLayoutValue)(n.bottom,t.size.height),right:(0,a.parseLayoutValue)(n.right,t.size.width),top:(0,a.parseLayoutValue)(n.top,t.size.height)}}},10365:(e,t,n)=>{"use strict";n.d(t,{_y:()=>u,lh:()=>l,Wk:()=>s,e8:()=>p,Qq:()=>f,Ed:()=>y,QO:()=>d});var r=n(13311),o=n.n(r),i=n(27361),a=n.n(i),u=function(e){return a()(e,"maps.totalCount")},c=function(e,t){return o()(function(e){return a()(e,"maps.results",[])}(e),(function(e){return e.id===t}))},l=function(e,t){return c(e,t)&&c(e,t).details||""},s=function(e,t){return c(e,t)&&c(e,t).thumbnail||""},p=function(e){return e&&e.maps&&e.maps.searchText},f=function(e){return{start:a()(e,"maps.start"),limit:a()(e,"maps.limit")}},y=function(e){return e&&e.maps&&e.maps.searchFilter},d=function(e){return e&&e.maps&&e.maps.contexts}},97266:(e,t,n)=>{"use strict";n.d(t,{iL:()=>s,cD:()=>p,jM:()=>f,VH:()=>d,on:()=>m});var r=n(93152),o=n(7147),i=n(61868),a=n(8797);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,r.m6)(e)},p=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},f=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},y=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,i.t8)("geometry.coordinates",(0,a.L0)(t.geometry||{}),t)),t},d=function(e){return e.measurement&&c(c({},e.measurement),{},{feature:y(e)})||{}},m=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},24260:(e,t,n)=>{"use strict";n.d(t,{qj:()=>h,Bu:()=>v,UM:()=>O,X1:()=>E,L:()=>S,HY:()=>T,Mz:()=>w,F0:()=>P,dc:()=>j,b0:()=>x,hk:()=>A,Qs:()=>R,gy:()=>_,M7:()=>C,VD:()=>I});var r=n(14293),o=n.n(r),i=n(27361),a=n.n(i),u=n(91175),c=n.n(u),l=n(1469),s=n.n(l),p=n(30998),f=n.n(p);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){return a()(e,"query.filterObj.featureTypeName")},g=function(e){return function(t){return a()(t,'query.featureTypes["'.concat(e,'"]'))}},h=function(e,t){return a()(g(t)(e),"original")},v=function(e){return e&&e.query&&e.query.searchUrl},O=function(e){return e&&e.query&&e.query.url},E=function(e){return e&&e.query&&e.query.filterObj},S=function(e){return a()(g(b(e))(e),"attributes")},T=function(e){return a()(e,"query.typeName")},w=function(e){return a()(e,"query.result.features")},P=function(e){var t=a()(e,"query.result");return d(d({},t),{},{features:(t&&t.features||[]).filter((function(e){return!o()(e.geometry)}))})},j=function(e,t){var n=e&&e.query&&e.query.result&&e.query.result.features;return c()(n.filter((function(e){return e.id===t})))},x={startIndex:function(e){return a()(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return a()(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return a()(e,"query.result.features.length")},totalFeatures:function(e){return a()(e,"query.result.totalFeatures")}},A=function(e,t){var n=g(t)(e);return!!(n&&n.attributes&&n.geometry&&n.original)},R=function(e){return h(e,b(e))},_=function(e){return a()(e,"query.featureLoading")},C=function(e){return a()(e,"query.syncWmsFilter",!1)},I=function(e){var t=a()(e,"query.filterObj.crossLayerFilter"),n=a()(e,"query.filterObj.spatialField"),r=a()(e,"query.filterObj.filterFields");return!!(r&&c()(r)||n&&(n.method&&n.operation&&n.geometry||s()(n)&&f()(n,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},69842:(e,t,n)=>{"use strict";n.d(t,{qh:()=>f,GK:()=>y,Nl:()=>d,vE:()=>m,gC:()=>b,hI:()=>g,Vc:()=>h,BU:()=>v,Vx:()=>O,a8:()=>E,IM:()=>S,G$:()=>T});var r=n(27361),o=n.n(r),i=n(22222),a=n(75110),u=n(8316),c=n(86638);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){return o()(e,"queryform.crossLayerFilter")},y=function(e){return((0,a.l2)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.group;return"wms"===t&&"background"!==n})).map((function(t){var n=t.title;return s(s({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["title"])),{},{title:(0,c.MZ)((0,u.Pz)(e),n)})}))},d=function(e){return o()(e,"queryform.spatialField.geometry")},m=function(e){return o()(e,"queryform.spatialField")},b=(0,i.P1)((function(e){return o()(e,"queryform.attributePanelExpanded")}),(function(e){return o()(e,"queryform.spatialPanelExpanded")}),(function(e){return o()(e,"queryform.crossLayerExpanded")}),(function(e,t,n){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:n}})),g=function(e){return o()(e,"layerFilter.persisted")},h=function(e){return o()(e,"layerFilter.applied")},v=function(e){return o()(e,"queryform.spatialField.method")},O=function(e){return o()(e,"queryform.maxFeaturesWPS")},E=function(e){return d(e)&&d(e).type||"Polygon"},S=function(e){return d(e)&&d(e).projection||"EPSG =4326"},T=function(e){return d(e)&&d(e).coordinates||[]}},76712:(e,t,n)=>{"use strict";n.d(t,{n0:()=>W,tW:()=>H,FJ:()=>V,F8:()=>q,ll:()=>X,eL:()=>K,AD:()=>Q,oR:()=>J,LZ:()=>ee,eX:()=>te,QQ:()=>ne,B8:()=>re,T6:()=>oe});var r=n(27418),o=n.n(r),i=n(91175),a=n.n(i),u=n(1469),c=n.n(u),l=n(47037),s=n.n(l),p=n(84596),f=n.n(p),y=n(13218),d=n.n(y),m=n(89734),b=n.n(m),g=n(44908),h=n.n(g),v=n(64721),O=n.n(v),E=n(27361),S=n.n(E),T=n(14293),w=n.n(T),P=n(41609),j=n.n(P),x=n(8575),A=n(90183),R=n(37275),_=n(24262),C=n(86638),I=n(7294),D=n(33044),L=n(67007),N=n(88798);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){return e&&e.replace(/\/csw$/,"/")},U=function(e){return d()(e)&&e._||e},B=function(e,t){return e.filter((function(n){return I.C2(t,n,e,t,null)}))},z=function(e){var t=Array.isArray(e.references)?e.references:[e.references];return a()([].filter.call(t,(function(t){return"WWW:LINK-1.0-http--image-thumbnail"===t.scheme||"thumbnail"===t.scheme||"WWW:DOWNLOAD-1.0-http--download"===t.scheme&&-1!==(t.value||"").indexOf("".concat(e.identifier||"","-thumb"))||"WWW:DOWNLOAD-REST_MAP"===t.scheme&&-1!==(t.value||"").indexOf("".concat(e.identifier||"","-thumb"))})))},Z={csw:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e;return r&&r.records?r.records.map((function(e){var r,i,u,l=e.dc;if(l&&l.URI){var p=c()(l.URI)?l.URI:l.URI&&[l.URI]||[],y=a()([].filter.call(p,(function(e){return"thumbnail"===e.name})))||a()([].filter.call(p,(function(e){var t;return!e.name&&(null===(t=e.protocol)||void 0===t?void 0:t.indexOf("image/"))>-1})));r=y?y.value:null,i=a()([].filter.call(p,(function(e){return e.protocol&&(e.protocol.match(/^OGC:WMS-(.*)-http-get-map/g)||e.protocol.match(/^OGC:WMS/g))})))}if(!i&&l&&l.references&&l.references.length){var d=Array.isArray(l.references)?l.references:[l.references];if(i=a()([].filter.call(d,(function(e){return e.scheme&&(e.scheme.match(/^OGC:WMS-(.*)-http-get-map/g)||"OGC:WMS"===e.scheme)})))){var m=x.parse(i.value,!0),g=m.query&&m.query.layers||l.alternative;i=o()({},i,{name:g})}}if(!i&&l&&l.references&&l.references.length){var v=Array.isArray(l.references)?l.references:[l.references];if(u=a()([].filter.call(v,(function(e){return e.scheme&&"WWW:DOWNLOAD-REST_MAP"===e.scheme})))){var E=l.alternative;u=o()({},u,{name:E})}}if(!r&&l&&l.references){var S=z(l);S&&(r=S.value)}var T=[];if(l&&l.references&&(Array.isArray(l.references)?l.references:[l.references]).filter((function(e){return e.scheme.indexOf("http-get-capabilities")>-1})).forEach((function(e){var n=0===e.value.indexOf("http")?e.value:(t&&t.catalogURL||"")+"/"+e.value;T.push({type:e.scheme,url:n})})),i&&i.name){0===i.value.indexOf("http")||o()({},i,{value:(t&&t.catalogURL||"")+"/"+i.value});var w={type:i.protocol||i.scheme,url:i.value,SRS:[],params:{name:i.name}};T.push(w)}if(u&&u.name){var P={type:"arcgis",url:u.value,SRS:[],params:{name:u.name}};T.push(P)}r&&(0===r.indexOf("http")||(r=(G(t&&t.url)||"")+r));var j={boundingBox:e.boundingBox&&e.boundingBox.extent&&f()(e.boundingBox.extent.join(","))};if(l&&(j=F(F({},j),b()(Object.keys(l)).reduce((function(e,t){return F(F({},e),{},k({},t,h()(f()(l[t]))))}),{}))),l&&l.URI&&f()(l.URI)&&f()(l.URI).length&&(j=F(F({},j),{},{uri:["<ul>"+f()(l.URI).map((function(e){return'<li><a target="_blank" href="'.concat(e.value,'">').concat(e.name,"</a></li>")})).join("")+"</ul>"]})),l&&l.subject&&f()(l.subject)&&f()(l.subject).length&&(j=F(F({},j),{},{subject:["<ul>"+f()(l.subject).map((function(e){return"<li>".concat(e,"</li>")})).join("")+"</ul>"]})),T&&f()(T).length?j=F(F({},j),{},{references:["<ul>"+f()(T).map((function(e){return'<li><a target="_blank" href="'.concat(e.url,'">').concat(e.params&&e.params.name||e.url,"</a></li>")})).join("")+"</ul>"]}):delete j.references,l&&l.temporal){var A=l.temporal.split("; ");if(A.length){var R=A.filter((function(e){return-1!==e.indexOf("scheme=")})).map((function(e){var t=e.indexOf("=");return e.substr(t+1,e.length-1)}));R=R.length?R[0]:"W3C-DTF";var _=A.filter((function(e){return-1!==e.indexOf("start=")||-1!==e.indexOf("end=")})).map((function(e){var t=e.indexOf("="),r=e.substr(0,t),o=e.substr(t+1,e.length-1),i=e.length-t-1<=10;return O()(["start","end"],r)&&"W3C-DTF"===R&&!i?(0,C.S$)(n,"catalog.".concat(r))+new Date(o).toLocaleString():O()(["start","end"],r)?(0,C.S$)(n,"catalog.".concat(r))+o:""}));j=F(F({},j),{},{temporal:["<ul>"+_.map((function(e){return"<li>".concat(e,"</li>")})).join("")+"</ul>"]})}}return{boundingBox:e.boundingBox,description:l&&s()(l.abstract)&&l.abstract||"",layerOptions:t&&t.layerOptions||{},identifier:l&&s()(l.identifier)&&l.identifier||"",references:T,thumbnail:r,title:l&&s()(l.title)&&l.title||"",tags:l&&l.tags||"",metadata:j}})):null},wms:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&e.records?e.records.map((function(n){return{capabilities:n,credits:n.credits,boundingBox:L.ZP.getBBox(n),description:n.Abstract||n.Title||n.Name,identifier:n.Name,service:e.service,tags:"",layerOptions:F(F({},(null==t?void 0:t.layerOptions)||{}),(null==e?void 0:e.layerOptions)||{}),title:(0,_.EM)(n)||n.Name,formats:f()(n.formats||[]),dimensions:(n.Dimension&&f()(n.Dimension)||[]).map((function(e){return o()({},{values:e._&&e._.split(",")||[]},e.$||{})})).filter((function(e){return e&&"time"!==e.name})),references:[{type:"OGC:WMS",url:t&&t.url,SRS:n.SRS&&(c()(n.SRS)?n.SRS:[n.SRS])||[],params:{name:n.Name}}]}})):null},wmts:function(e,t){return e&&e.records?e.records.map((function(e){var n=f()(I.f1(e)||t&&t.url);1===n.length&&(n=n[0]);var r=I.dN(e),i=f()(e.TileMatrixSetLink||[]).reduce((function(t,n){var r,i=a()((e.TileMatrixSet&&f()(e.TileMatrixSet)||[]).filter((function(e){return e["ows:Identifier"]===n.TileMatrixSet}))),u=i&&A.default.getEPSGCode(i["ows:SupportedCRS"]),c=n.TileMatrixSetLimits&&(n.TileMatrixSetLimits.TileMatrixLimits||[]).map((function(e){return{identifier:e.TileMatrix,ranges:{cols:{min:e.MinTileCol,max:e.MaxTileCol},rows:{min:e.MinTileRow,max:e.MaxTileRow}}}}))||i.TileMatrix.map((function(e){return{identifier:e["ows:Identifier"]}}));return o()(t,(k(r={},i["ows:Identifier"],c),k(r,u,c),r))}),{}),u=function(e){var t=e["ows:WGS84BoundingBox"];return t||(t={"ows:LowerCorner":"-180.0 -90.0","ows:UpperCorner":"180.0 90.0"}),t}(e);return{title:U(e["ows:Title"]||e["ows:Identifier"]),description:U(e["ows:Abstract"]||e["ows:Title"]||e["ows:Identifier"]),identifier:U(e["ows:Identifier"]),tags:"",layerOptions:t&&t.layerOptions||{},style:e.style,capabilitiesURL:r,queryable:e.queryable,requestEncoding:e.requestEncoding,tileMatrixSet:e.TileMatrixSet,matrixIds:i,format:e.format,TileMatrixSetLink:f()(e.TileMatrixSetLink),boundingBox:{extent:[u["ows:LowerCorner"].split(" ")[0],u["ows:LowerCorner"].split(" ")[1],u["ows:UpperCorner"].split(" ")[0],u["ows:UpperCorner"].split(" ")[1]],crs:"EPSG:4326"},references:[{type:"OGC:WMTS",url:n,SRS:B(e.SRS||[],i),params:{name:e["ows:Identifier"]}}]}})):null},tms:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.records){var n=t.service&&"tms"===t.service.provider;return n?e.records.map((function(e){return{title:e.title,tileMapUrl:e.href,description:"".concat(e.srs).concat(e.format?", "+e.format:""),tmsUrl:t.tmsUrl,references:[{type:"OGC:TMS",version:"1.0.0",url:t.url}]}})):e.records.map((function(e){return{title:e.title||e.provider,url:e.url,attribution:e.attribution,options:e.options,provider:e.provider,type:"tileprovider",references:[]}}))}return null},wfs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.records;return t?t.map((function(e){return F(F({},e),{},{references:[{type:"OGC:WFS-1.1.0-http-get-capabilities",url:e.url},{type:"OGC:WFS-1.1.0-http-get-feature",url:e.url}]})})):null},backgrounds:function(e){return e&&e.records?e.records.map((function(e){return{description:e.title,title:e.title,identifier:e.name,thumbnail:e.thumbURL,references:[],background:e}})):null}},W=function(e){return e.filter((function(e){return A.default.isSRSAllowed(e)})).reduce((function(e,t){return o()(e,k({},t,!0))}),{})},Y=function(e,t){var n=e.split("?"),r={};return n.length>=2&&n[1]&&n[1].split(/[&;]/g).forEach((function(e){var n=e.split("=");-1===t.indexOf(n[0].toLowerCase())&&(r[n[0]]=n[1])})),{url:n[0],params:r}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.references,n=void 0===t?[]:t;return{wfs:a()(n.filter((function(e){return e.type&&("OGC:WFS"===e.type||e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-feature")>-1)}))),wms:a()(n.filter((function(e){return e.type&&("OGC:WMS"===e.type||e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-map")>-1)}))),wmts:a()(n.filter((function(e){return e.type&&("OGC:WMTS"===e.type||e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-map")>-1)}))),tms:a()(n.filter((function(e){return e.type&&("OGC:TMS"===e.type||e.type.indexOf("OGC:TMS")>-1)})))}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{references:[]};return{esri:a()(e.references.filter((function(e){return e.type&&("ESRI:SERVER"===e.type||"arcgis"===e.type)})))}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.references,n=void 0===t?[]:t,r=a()(n.filter((function(e){return e.type&&e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),o=a()(n.filter((function(e){return e.type&&e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),i=a()(n.filter((function(e){return e.type&&e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),u=[];return r&&u.push({type:"WMS_GET_CAPABILITIES",url:r.url,labelId:"catalog.wmsGetCapLink"}),i&&u.push({type:"WMTS_GET_CAPABILITIES",url:i.url,labelId:"catalog.wmtsGetCapLink"}),o&&u.push({type:"WFS_GET_CAPABILITIES",url:o.url,labelId:"catalog.wfsGetCapLink"}),u},$=function(e){return e&&!c()(e)&&-1!==e.indexOf(",")?e.split(",").map((function(e){return e.trim()})):e},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wms",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.removeParams,o=void 0===r?[]:r,i=n.format,a=n.catalogURL,u=n.url,l=n.formats,s=void 0===l?{}:l,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=arguments.length>4?arguments[4]:void 0;if(!e||!e.references)return null;var y,d,m=H(e),b=m.wms,g=m.wmts,h=b||g,v=function(e){return Y(R.ZP.cleanDuplicatedQuestionMarks(e),["request","layer","layers","service","version"].concat(o))},O=$(h.url);if(O&&c()(O))y=O.map((function(e){return v(e)})).map((function(e){return e.url})),d=O.map((function(e){return v(e)})).map((function(e){return e.params})).reduce((function(e,t){return F(F({},e),t)}),{});else{var E=v(O||a),S=E.url,T=E.params;y=S,d=T}var P=function(e){return c()(e)&&1===e.length?e[0]:e},x=P(u||y),A=W(h.SRS);return F(F(F({type:t,requestEncoding:e.requestEncoding,style:e.style,format:i,url:x,capabilitiesURL:e.capabilitiesURL,queryable:e.queryable,visibility:!0,dimensions:e.dimensions||[],name:h.params&&h.params.name,title:e.title||h.params&&h.params.name,matrixIds:"wmts"===t?e.matrixIds||[]:void 0,description:e.description||"",tileMatrixSet:"wmts"===t?e.tileMatrixSet||[]:void 0,credits:!R.ZP.getConfigProp("noCreditsFromCatalog")&&e.credits,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}},links:q(e),params:d,allowedSRS:A,catalogURL:a},p),e.layerOptions),{},{localizedLayerStyles:w()(f)?void 0:f},"wms"===t&&!j()(s)&&{imageFormats:s.imageFormats,infoFormats:s.infoFormats})},K=function(e,t,n,r){return Z[e]&&Z[e](t,n,r)||null},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.references)return null;var n=V(e),r=n.esri;return F({type:r.type,url:r.url,visibility:!0,dimensions:e.dimensions||[],name:r.params&&r.params.name,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}}},t)},J=function(e,t,n){var r=e.tileMapUrl,o=t.TileMap,i=void 0===o?{}:o,a=n.forceDefaultTileGrid,u=i.Title,c=i.Abstract,l=i.SRS,s=i.BoundingBox,p=void 0===s?{}:s,y=i.Origin,d=i.TileFormat,m=void 0===d?{}:d,b=i.TileSets,g=i.$,h=g.version,v=g.tilemapservice,O=S()(p,"$",{}),E=O.minx,T=O.miny,w=O.maxx,P=O.maxy,j=S()(y,"$"),x=j.x,A=j.y,R=S()(m,"$",{}),_=R.width,C=R.height,I=R["mime-type"],L=R.extension,N=[parseFloat(_),parseFloat(C,10)],M=f()(S()(b,"TileSet",[]).map((function(e){return e.$}))).map((function(e){var t=e.href,n=e.order,r=e["units-per-pixel"];return{href:(0,D.cleanAuthParamsFromURL)(t),order:parseFloat(n),resolution:parseFloat(r)}})),F=S()(b,"profile");return{title:u,visibility:!0,hideErrors:!0,name:u,allowedSRS:k({},l,!0),description:c,srs:l,version:h,tileMapService:v?(0,D.cleanAuthParamsFromURL)(v):void 0,type:"tms",profile:F,tileMapUrl:r,forceDefaultTileGrid:a,bbox:p&&{crs:l,bounds:{minx:parseFloat(E),miny:parseFloat(T),maxx:parseFloat(w),maxy:parseFloat(P)}},tileSets:M,origin:{x:parseFloat(x),y:parseFloat(A)},format:I,tileSize:N,extension:L}},ee=function(e){return F({type:e.type||"wfs",search:{url:e.url,type:"wfs"},url:e.url,queryable:e.queryable,visibility:!0,name:e.name,title:e.title||e.name,description:e.description||"",bbox:e.boundingBox,links:q(e),style:{weight:1,color:"rgba(0, 0, 255, 1)",opacity:1,fillColor:"rgba(0, 0, 255, 0.1)",fillOpacity:.1,radius:10}},e.layerOptions)},te=function(e){return{type:"tileprovider",visibility:!0,url:e.url,title:e.title,attribution:e.attribution,options:e.options,provider:e.provider,name:e.provider}},ne=[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/vnd.jpeg-png8",value:"image/vnd.jpeg-png8"},{label:"image/gif",value:"image/gif"}],re=function(){return h()(Object.values((0,N.eq)()))},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return L.ZP.getCapabilities(e).then((function(e){var n,r,o=S()(e,"capability.request.getMap.format",[]);if(j()(o))n=ne;else{var i=ne.map((function(e){return e.value}));n=(o=o.map((function(e){var t=e.value;return{label:t,value:t}}))).filter((function(e){var t=e.value;return O()(i,t)}))||[]}if(t){var a=S()(e,"capability.request.getFeatureInfo.format",[]),u=re();j()(a)?r=u:(a=a.map((function(e){return e.value})),r=h()(a.filter((function(e){return O()(u,e)})))||[])}return t?{imageFormats:n,infoFormats:r}:n})).catch((function(){return t?{imageFormats:ne,infoFormats:re()}:ne}))}},96958:(e,t,n)=>{"use strict";n.d(t,{t3:()=>P,WQ:()=>x,dM:()=>A,rK:()=>R,Lo:()=>I,gP:()=>M,S9:()=>F,AV:()=>k,Sc:()=>G,a3:()=>U,IC:()=>B,wT:()=>z,cZ:()=>Z,ek:()=>W,Qc:()=>Y,Cf:()=>V,dJ:()=>q,DR:()=>$,f1:()=>X});var r=n(6557),o=n.n(r),i=n(92742),a=n.n(i),u=n(19873),c=n.n(u),l=n(30998),s=n.n(l),p=n(27361),f=n.n(p),y=n(1469),d=n.n(y),m=n(14293),b=n.n(m),g=n(47037),h=n.n(g),v=n(78889);function O(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e,t,n){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return s()(e,(function(e){return e<=n&&n<e+t}))}(t,n,e);return-1===r?r:r*n+e-t[r]},j={id:"empty_row",get:function(){}},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return t[P(e,n,r)]||T({},j)},A=function(e,t){return t[e]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return d()(e)?e.reduce((function(e,t){return T(T({},e),{},w({},t.id,T(T({},e[t.id]),t.updated)))}),{}):{}},_=function(e,t){var n=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,n){return T(T({},e),{},w({},n,t[n]))}),{}),r=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,n){return T(T({},e),{},w({},n,t[n]))}),{});return T(T(T({},e),r),{},{properties:T(T({},e&&e.properties||{}),n)})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=s()(e,t);return r>=0?e.map((function(e,t){return t===r?n:e})):[].concat(O(e),[n])},I=function(e){return((0,v.getFeatureTypeProperties)(e)||[]).filter((function(e){return!(0,v.isGeometryType)(e)}))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return n<=t&&t<=r?0:Math.abs(t-e)})).reduce((function(e,t,n,r){return t>r[e]&&n||e}),0)},L=function(e,t){return t.filter((function(t,n){return n!==e}))},N=function(e,t,n){return e.filter((function(e,r){return r<t||r>=t+n}))},M=function(e,t,n,r){for(var o,i,a=e;a<=t&&void 0===o;a++)-1===P(a*r,n,r)&&(o=a);for(var u=t;u>=e&&void 0===i;u--)-1===P(u*r,n,r)&&(i=u);return[o,i].filter((function(e){return void 0!==e}))},F=function(e,t,n){var r=e.startPage,o=e.endPage,i=M(r,o,t,n),a=i[1]-i[0]+1;return{startIndex:i[0]*n,maxFeatures:a*n}},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.editable,o=void 0!==r&&r,i=n.sortable,a=void 0===i||i,u=n.resizable,c=void 0===u||u,l=n.filterable,s=void 0===l||l,p=n.defaultSize,f=void 0===p?200:p,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=y.getEditor,m=void 0===d?function(){}:d,b=y.getFilterRenderer,g=void 0===b?function(){}:b,h=y.getFormatter,v=void 0===h?function(){}:h;return I(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:a,key:e.name,width:t[e.name]&&t[e.name].width||f||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:c,editable:o,filterable:s,editor:m(e),formatter:v(e),filterRenderer:g(e,e.name)}}))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=(0,v.findGeometryProperty)(n);return e.map((function(e){return T(T({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,i){return T(T({},o),{},w({},i,(function(o,a){return e.events[i](t(a.rowIdx),a,n,r)})))}),{})},"geometry"===e.key&&i?{filterRenderer:o(T(T({},i),{},{localType:"geometry"}),i.name),filterable:!0,geometryPropName:i.name}:{})}))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(i,a){return T(T({},i),{},w({},a,(function(){for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return e[a].apply(e,u.concat([t,n,r,o]))})))}),{})},B=function(e,t){return!!(0,v.getPropertyDesciptor)(e,t)},z=function(e,t,n){return(0,v.isValidValueForPropertyName)(e,(o=n,"geometry"===(r=t)?function(e){return f()((0,v.findGeometryProperty)(e),"name")}(o):r),n);var r,o},Z=function(){return"EPSG:4326"},W=function(e,t,n){return function(r){return t.length>0?r._new:!e||e&&!!n[r.id]}},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(e,t[e.id]||{})},H=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?\s*(-?\d*\.?\d*)\s*/,V=function(e,t){if("string"===t)return{newVal:a()(e),operator:"ilike"};var n,r=H.exec(e),o="=";return r?("!=="===(o=r[1]||"=")|"!="===o?o="<>":"==="===o|"=="===o&&(o="="),n=parseFloat(r[2])):n=parseFloat(e,10),{newVal:n,operator:o}},q=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.attribute,r=t.operator,i=t.value,a=t.type,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(null===(e=u.groupFields)||void 0===e?void 0:e.filter((function(e){return n!==e.id&&1!==e.id})))||[];if(("string"===a||"number"===a)&&h()(i)&&-1!==(null==i?void 0:i.indexOf(","))){var l,s=(null==i?void 0:i.split(",").filter(o()))||[],p=(null===(l=u.filterFields)||void 0===l?void 0:l.filter((function(e){return n!==e.attribute})))||[];return T(T({},u),{},{groupFields:c.concat([{id:n,logic:"OR",groupId:1,index:0}]),filterFields:p.concat(s.map((function(e){var t=V(e,a),r=t.operator,o=t.newVal;return{attribute:n,rowId:Date.now(),type:a,groupId:n,operator:r,value:o}}))),spatialField:u.spatialField,spatialFieldOperator:u.spatialFieldOperator})}return T(T({},u),{},{groupFields:c.concat([{id:1,logic:"AND",groupId:1,index:0}]),filterFields:"geometry"===a?u.filterFields:b()(i)?(u.filterFields||[]).filter((function(e){return e.attribute!==n})):C(u.filterFields||[],{attribute:n},{attribute:n,rowId:Date.now(),type:a,groupId:1,operator:r,value:i}),spatialField:"geometry"===a?i:u.spatialField,spatialFieldOperator:d()(i)?"OR":""})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,n=void 0===t?0:t,r=e.maxFeatures,o=void 0===r?1:r,i=e.totalFeatures,a=void 0===i?0:i,u=e.resultSize;return{page:Math.ceil(n/o),resultSize:u,size:o,total:a,maxPages:Math.ceil(a/o)-1}},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endPage,r=t.startPage,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.pages,a=o.features,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=u.size,s=u.maxStoredPages,p=u.startIndex,y=M(r,n,i,l),d=y[1]-y[0]+1,m=f()(e,"features",[]);m.length!==d*l&&(m=m.concat(c()(Array(d*l-m.length>0?d*l-m.length:m.length),!1)));var b=i,g=a,h=b.length+d-Math.max(s,n-r+1);if(h>0)for(var v=r*l,O=n*l,E=v+(O-v)/2,S=0;S<h;S++){var T=D(E,i,v,O),w=T*l;b=L(T,b),g=N(a,w,l)}for(var P=[],j=0;j<d;j++)P.push(p+l*j);return{pages:b.concat(P),features:g.concat(m)}}},83139:(e,t,n)=>{"use strict";n.d(t,{Xq:()=>r});var r=function(e,t){return new Promise((function(n,r){var o=t||{},i=o.width,a=void 0===i?64:i,u=o.height,c=void 0===u?64:u,l=o.contain,s=o.type,p=void 0===s?"image/jpeg":s,f=o.quality,y=void 0===f?.5:f,d=new Image;d.crossOrigin="anonymous",d.onload=function(){var e=d.naturalWidth/d.naturalHeight,t=a,r=c,o=a/c,i=document.createElement("canvas");i.setAttribute("width",a),i.setAttribute("height",c),i.style.width=a+"px",i.style.height=c+"px";var u=i.getContext("2d"),s=!l&&e<o||l&&e>o?[t,t/e]:[r*e,r];u.save(),u.translate(t/2,r/2),u.drawImage(d,-s[0]/2,-s[1]/2,s[0],s[1]),u.restore();var f=i.toDataURL(p,y);n(f)},d.onerror=function(e){r(e)},d.src=e}))}},10206:(e,t,n)=>{"use strict";n.d(t,{PD:()=>j,CG:()=>x,ZP:()=>A});var r=n(89255),o=n(96909),i=n(96842),a=n(75110),u=n(827),c=n(37275),l=n(62520),s=n(82904),p=n(81808),f=n(33528),y=n(21914),d=n(80416),m=n(7877),b=n(31255),g=n(91175),h=n.n(g),v=n(27361),O=n.n(v),E=n(52887),S=n(7147);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do((function(){try{$("#_thumbnail_processing").modal("show")}catch(e){console.log(e)}})).exhaustMap((function(e){var t=e.type,o=n(),c=(0,a.l2)(o),l=(0,u.Od)(o),s="GEONODE:CREATE_MAP_THUMBNAIL"===t,p=s?O()(l,"info.id"):c[c.length-1].name,f=s?"maps":"layers",y=l.size,d=y.width,m=y.height,b=l.bbox.bounds,g=b.maxx,h=b.minx,v=b.maxy,E={bbox:[h,g,b.miny,v],srid:l.bbox.crs,center:l.center,zoom:l.zoom,width:d,height:m,layers:c.filter((function(e){return"background"!==e.group&&e.visibility})).map((function(e){return e.name})).join(",")};return(0,i.Vi)(f,p,E).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(n),$("#_thumbnail_feedbacks").find(".modal-body").text(t),$("#_thumbnail_feedbacks").modal("show")}catch(e){console.log(e)}})).mapTo({type:"THUMBNAIL_UPDATE"}).catch((function(e){var t=e.code,n=e.message;try{"ECONNABORTED"===t?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+n),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(e){console.log(e)}finally{return r.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}})).do((function(){try{$("#_thumbnail_processing").modal("hide")}catch(e){console.log(e)}}))}))},x=function(e,t){return e.ofType(p.ok,f.DA,s.dc,f.sF,f.$O,y.cb,y.ph,y.XL,y.Ih,s.kM,s.At,d.cI,d.g6,y.km,y.DZ).switchMap((function(){var e=t.getState();if(O()(e,"browser.mobile")){var n=w({},(0,m.Qp)(e)?{bottom:"50%"}:{bottom:void 0});return r.Observable.of((0,l.F)({boundingMapRect:n}))}var o=(0,c.u8)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===O()(e,"mode")){var i={height:"calc(100% - "+o.bottom.sm+"px)"},a=w({},(0,m.Qp)(e)?{bottom:"50%"}:{bottom:void 0});return r.Observable.of((0,l.F)(w(w({},i),{},{boundingMapRect:a})))}var u=O()(e,"controls.drawer.resizedWidth"),s=h()([O()(e,"controls.queryPanel.enabled")&&{left:o.left.lg}||null,O()(e,"controls.widgetBuilder.enabled")&&{left:o.left.md}||null,O()(e,"layers.settings.expanded")&&{left:o.left.md}||null,O()(e,"controls.drawer.enabled")&&{left:u||o.left.sm}||null].filter((function(e){return e})))||{left:0},p=h()([O()(e,"controls.details.enabled")&&{right:o.right.md}||null,O()(e,"controls.annotations.enabled")&&{right:o.right.md}||null,O()(e,"controls.metadataexplorer.enabled")&&{right:o.right.md}||null,O()(e,"controls.measure.enabled")&&(0,S.Iz)(e)&&{right:o.right.md}||null,O()(e,"mapInfo.enabled")&&(0,m.Qp)(e)&&{right:o.right.md}||null].filter((function(e){return e})))||{right:0},f=100*(0,b.P4)(e),y=(0,b.Rd)(e)&&{bottom:f+"%",dockSize:f}||{bottom:o.bottom.sm},d=(0,b.Rd)(e)&&{transform:"translate(0, -"+o.bottom.sm+"px)"}||{transform:"none"},g={height:"calc(100% - "+o.bottom.sm+"px)"},v=w(w(w({},y),s),p);return r.Observable.of((0,l.F)(w(w(w(w(w(w({},s),p),y),d),g),{},{boundingMapRect:v})))}))};const A={mapSaveMapResourceEpic:E.Xl,_setFeatureEditPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(d.c7).filter((function(e){return"layer"===e.nodeType&&!(0,c.u8)("disableCheckEditPermissions")})).switchMap((function(){var e=(0,a.Iz)(n()||{});return e?(0,i.e4)(e).map((function(e){return(0,f.HT)(e)})).startWith((0,f.HT)({canEdit:!1})).catch((function(){return r.Observable.empty()})):r.Observable.of((0,f.HT)({canEdit:!1}))}))},_setThumbnail:j,_setStyleEditorPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(o.wL,d.c7).filter((function(e){var t=e.nodeType;return t&&"layer"===t&&!(0,c.u8)("disableCheckEditPermissions")||!t&&!(0,c.u8)("disableCheckEditPermissions")})).switchMap((function(e){var t=(0,a.Iz)(n()||{});return t?(0,i.Um)(t).map((function(e){var t=e.canEdit;return(0,o.xR)(t)})).startWith((0,o.xR)(e.canEdit)).catch((function(){return r.Observable.empty()})):r.Observable.of((0,o.xR)(!1))}))},updateMapLayoutEpic:x}},79047:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=!1},8439:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .mapToolbar .mapstore-tb-helpbadge {\n    display: block;\n    background-color: #777;\n    position: absolute;\n    z-index: 1000;\n    top : -10px;\n    left: -10px;\n}\n\n\n.msgapi #helpbadge-zoomToMaxExtent {\n    display: inline;\n    position: absolute;\n    left: 34px;\n    top: 72px;\n    z-index: 100000\n}\n\n.msgapi #helpbadge-scaleBox {\n    display: inline;\n    position: absolute;\n    left: 116px;\n    bottom: 48px;\n    z-index: 100000\n}\n\n.msgapi #helpbadge-seachBar {\n    display: inline;\n    position: absolute;\n    left: 46px;\n    top: 10px;\n    z-index: 100000\n}\n\n\n.msgapi .btn .badge {\n    position: absolute;\n    top: -10px;\n    left: -10px;\n}\n\n.msgapi .themed .btn .badge {\n    top: -35px;\n    left: -50px;\n}\n\n.msgapi .badge {\n    cursor: pointer;\n}\n\n.msgapi #helpbadge-scaleBox {\n    left: 0 !important;\n}\n\n.msgapi #mapstore-navbar #helpbadge-search-help {\n    position: absolute;\n    left: -10px;\n    bottom: -8px;\n    z-index: 1;\n}\n",""])},82288:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-burger-menu {\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.msgapi .burger-menu-submenu {\n    display: none;\n    position: absolute;\n    left: -160px;\n    top: 0px;\n    background-color: white;\n    width: 160px;\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n}\n\n.msgapi .burger-menu-submenu li:hover {\n    background-color: #dddddd;\n}\n\n.msgapi .burger-menu-submenu li a {\n    display: block;\n    padding: 10px 15px;\n}\n\n.msgapi .burger-menu-submenu li a:hover {\n    text-decoration: none;\n    background-color: #dddddd;\n}\n\n.msgapi #mapstore-burger-menu .dropdown-menu > li > a:hover > span > .burger-menu-submenu,\n.msgapi .burger-menu-submenu > li > a:hover > span > .burger-menu-submenu {\n    display: block;\n}\n\n.msgapi .burger-menu-submenu span {\n    overflow: hidden;\n}\n\n.msgapi #mapstore-navbar #mapstore-burger-menu {\n    position: relative;\n    float: right;\n    left: 0;\n}\n",""])},24846:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""])},6934:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-globalspinner  {\n    width: 28px;\n    height: 28px;\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\n    background-color: white;\n    background-size: 80px 80px;\n    background-repeat: no-repeat;\n    border-radius: 4px;\n    border: 1px solid #999;\n    z-index: 10;\n    top: 90px;\n    left: 2px;\n    position: absolute;\n    margin: 8px;\n}\n\n.msgapi #mapstore-globalspinner .circle-wrapper {\n    margin-left: 2px;\n    margin-top: 1px;\n}\n\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\n    position: static;\n    width: 42px;\n    margin: 0;\n    margin-top: 0;\n    height: 35px;\n    box-shadow: none;\n}\n\n.msgapi .ms2-loading .sk-circle-wrapper {\n     width: 30px;\n     height: 30px;\n     margin-left: 10px !important;\n     margin-top: 10px !important;\n }\n",""])},90603:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,"/*viewer navbar */\n.msgapi .navbar-dx{\n\tposition:absolute;\n\tright:0;\n\ttop:0;\n}\n\n.msgapi .navbar-dx > ul{\n\tpadding:0;\n}\n\n.msgapi .navbar-dx > ul > li{\n\tfloat: left;\n\tlist-style:none;\n}\n\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\n    right: 0;\n    top: 0;\n    left: 0;\n}\n\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\n    border-color: #fff;\n    border-right: 0;\n    webkit-box-shadow: none;\n    box-shadow: none;\n}\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\n    border: 0;\n}\n.msgapi .navbar-dx .search-result-list{\n    left: 0;\n    max-height: none;\n}\n\n.msgapi .navbar-dx .dropdown-menu {\n\tmargin:0;\n\tpadding-top: 0;\n}\n\n@media (min-width: 1200px) {\n    .msgapi .navbar-dx .search-wrap {\n       width: 500px;\n       height: 50px;\n    }\n}\n\n.msgapi .navbar-dx > * {\n\tdisplay: inline-block;\n}\n/* Page Navbar */\n.msgapi .navbar-home .dropdown {\n\tfloat: right;\n}\n.msgapi .navbar-home .navbar-header {\n\tmargin-top: 7px;\n\tmargin-left: 10px;\n\tmargin-right: 10px;\n\tdisplay: inline-block;\n}\n",""])},85488:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-scalebox {\n    /*z-index: 10;\n    bottom: 6px;\n    left: -2px;\n    position: absolute;\n    margin: 8px;\n    width: 148px;*/\n}\n\n.msgapi #mapstore-scalebox-container {\n    /*z-index: 10;\n    bottom: -16px;\n    right: 55px;\n    left: auto;\n    position: absolute;\n    margin: 8px;\n    width: 148px;*/\n}\n",""])},20729:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .mapToolbar {\n    position: absolute;\n    bottom: 5px;\n    right: 0;\n    z-index: 1000;\n    margin-bottom: 35px;\n    margin-right: 5px;\n}\n\n.msgapi .toolbarexpand-enter {\n  opacity: 0.01;\n}\n\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\n  opacity: 1;\n  transition: opacity 500ms ease-in;\n}\n\n.msgapi .toolbarexpand-leave {\n  opacity: 1;\n}\n\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\n  opacity: 0.01;\n  transition: opacity 300ms ease-in;\n}\n\n.msgapi #navigationBar .toolbar-panel {\n    bottom: 80px !important;\n}\n\n.msgapi #identifyBar .mapToolbar {\n    top: auto !important;\n    bottom: 5px;\n    right: 212px !important;\n}\n",""])},80374:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\n    z-index: 1;\n    position: relative;\n}\n",""])},60536:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-zoomtomaxextent {\n    z-index: 1;\n    position: relative;\n}\n",""])},41165:(e,t,n)=>{var r=n(8439);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},20533:(e,t,n)=>{var r=n(82288);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},41738:(e,t,n)=>{var r=n(24846);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},77890:(e,t,n)=>{var r=n(6934);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},78998:(e,t,n)=>{var r=n(90603);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},87231:(e,t,n)=>{var r=n(85488);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},50329:(e,t,n)=>{var r=n(20729);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},7594:(e,t,n)=>{var r=n(80374);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},48966:(e,t,n)=>{var r=n(60536);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);