(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2579],{92579:(t,e,n)=>{"use strict";n.d(e,{gg:()=>w,Ln:()=>C,ID:()=>G,bT:()=>S,tQ:()=>z,Tr:()=>L,nl:()=>U,ZX:()=>W,lg:()=>B,w:()=>D,cy:()=>k,lt:()=>H,M1:()=>V,kn:()=>X,oH:()=>_,Aq:()=>Z,nq:()=>q,Ll:()=>J,ln:()=>Y,Un:()=>K,NC:()=>Q,t4:()=>$,NP:()=>F,bm:()=>tt,_R:()=>et,Km:()=>nt,of:()=>rt});var r=n(57546),i=n.n(r),o=n(46713),a=n.n(o),c=n(4657),l=n.n(c),u=n(80643),s=n.n(u),d=n(55651),f=n.n(d),g=n(95671),m=n.n(g),p=n(2936),y=n.n(p),h=n(37153),v=n.n(h),A=n(33716),E=n.n(A),b=n(54432),T=n.n(b),P=n(23574),I=n.n(P),M=n(55877),R=n.n(M);function N(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w="EMPTY_CONTENT",C={CASCADE:"cascade"},G={TITLE:"title",PARAGRAPH:"paragraph",IMMERSIVE:"immersive",BANNER:"banner"},S={TEXT:"text",MEDIA:"media",WEBPAGE:"webPage",COLUMN:"column"},z={MEDIA:"template-media",WEBPAGE:"template-web-page"},L={IMAGE:"image",MAP:"map",VIDEO:"video"},U={EDIT:"edit",VIEW:"view"},W={SHOW_SAVE:"save.show",LOADING:"loading"},B={StoryTypes:f()(C),SectionTypes:f()(G),MediaTypes:f()(L),Modes:f()(U)},D=function(t){var e=t.theme,n=void 0===e?{}:e,r=t.align,i=void 0===r?"center":r,o=t.size,a=void 0===o?"full":o,c=(null==n?void 0:n.value)||v()(n)&&n,l=c&&"custom"!==c&&v()(c)&&" ms-".concat(c)||"",u=" ms-align-".concat(i),s=" ms-size-".concat(a);return"".concat(l).concat(u).concat(s)},k=function(t){var e=t.theme,n=void 0===e?{}:e,r=t.storyTheme;if(""===n||""===(null==n?void 0:n.value))return E()(r)?r:{};var i=null==n?void 0:n.value,o=null==n?void 0:n[i];return E()(o)&&o||{}},H=function(t){return t.type===G.PARAGRAPH&&t&&s()(t.contents)&&t.contents.length&&s()(t.contents[0].contents)&&t.contents[0].contents.length&&t.contents[0].contents[0].type===S.MEDIA},V=function(t,e){var n=function(t){var e=t.split("?");return 2===e.length?e[0]:t}(t),r=document.getElementById(n);r&&r.scrollIntoView(e)},x={zoomControl:!0,mapInfoControl:!1,mapOptions:{scrollWheelZoom:!1,interactions:{mouseWheelZoom:!1,dragPan:!0}}},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y()({},x,t)},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y()({},t,e)},j=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RegExp(e,"i");return!e||n.test(t)},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RegExp(e,"i");return m()(t,(function(t){return j(t.data&&(t.data.title||t.data.name),e,n)||j(t.data&&t.data.description,e,n)}))},q=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};switch(e){case G.TITLE:return{id:R()(),type:G.TITLE,title:n("geostory.builder.defaults.titleTitle"),cover:!1,contents:[{id:R()(),type:S.TEXT,html:"",size:"large",align:"center",theme:"",background:{fit:"cover",size:"full",align:"center"}}]};case G.BANNER:return{id:R()(),type:G.BANNER,title:n("geostory.builder.defaults.titleBanner"),cover:!1,contents:[{id:R()(),background:{fit:"cover",size:"full",align:"center"}}]};case G.PARAGRAPH:return{id:R()(),type:G.PARAGRAPH,title:n("geostory.builder.defaults.titleParagraph"),contents:[{id:R()(),type:S.COLUMN,size:"full",align:"center",contents:[{id:R()(),type:S.TEXT,html:""}]}]};case G.IMMERSIVE:return{id:R()(),type:G.IMMERSIVE,title:n("geostory.builder.defaults.titleImmersive"),contents:[t(S.COLUMN,n)]};case z.MEDIA:return{id:R()(),type:G.PARAGRAPH,title:n("geostory.builder.defaults.titleMedia"),contents:[{id:R()(),type:S.COLUMN,contents:[{id:R()(),type:S.MEDIA,size:"large",align:"center"}]}]};case z.WEBPAGE:return{id:R()(),type:G.PARAGRAPH,title:n("geostory.builder.defaults.titleWebPageSection"),contents:[{id:R()(),type:S.COLUMN,contents:[{id:R()(),type:S.WEBPAGE,size:"medium",align:"center"}]}]};case S.COLUMN:return{id:R()(),type:S.COLUMN,align:"left",size:"small",theme:"",title:n("geostory.builder.defaults.titleImmersiveContent"),contents:[{id:R()(),type:S.TEXT,html:""}],background:{fit:"cover",size:"full",align:"center"}};case S.TEXT:return{id:R()(),type:S.TEXT,title:n("geostory.builder.defaults.titleText"),html:""};case S.IMAGE:return{id:R()(),type:e,title:n("geostory.builder.defaults.titleMedia"),size:"full",align:"center"};case S.WEBPAGE:return{id:R()(),type:e,title:n("geostory.builder.defaults.titleWebPage"),size:"medium",align:"center"};case S.MEDIA:return{id:R()(),type:e,title:n("geostory.builder.defaults.titleUnknown"),size:"large",align:"center"};default:return{id:R()(),type:e,title:n("geostory.builder.defaults.titleUnknown"),size:"full",align:"center"}}},J=function(t,e){return l()(t).reduce((function(t,n){if(n&&0===n.indexOf("{")){var r=JSON.parse(n),o=i()(e,t),c=a()(o,r);return c>=0?[].concat(N(t),[c]):t}return[].concat(N(t),[n])}),[])},Y=function(t,e){return l()(t).reduce((function(t,n){var r=t.path,o=t.flatPath;if(n&&0===n.indexOf("{")){var c=JSON.parse(n),l=i()(e,r),u=a()(l,c);if(u>=0){var s=l[u],d=s.id,f=s.type;return{path:[].concat(N(r),[u]),flatPath:[].concat(N(o),[{id:d,type:r[r.length-1],contentType:f}])}}return{path:r,flatPath:o}}return{path:[].concat(N(r),[n]),flatPath:o}}),{path:[],flatPath:[]})},K=function(t,e){return t.reduce((function(t,n){return T()(n.contents.map((function(t){return t.id})),e)?n.id:t}),null)},Q=function(t){return t.type===G.PARAGRAPH&&!1!==t.editURL&&t&&s()(t.contents)&&t.contents.length&&s()(t.contents[0].contents)&&t.contents[0].contents.length&&t.contents[0].contents[0].type===S.WEBPAGE&&!1!==t.contents[0].contents[0].editURL},$=function(t,e){if(e)switch(t){case"small":return.4*e;case"medium":return.6*e;case"large":return.8*e;default:return e}return 0},F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="EMPTY";if(!e.includes(n))return null;var a=e.substring(e.indexOf(n)).split("/");return r&&n?a.length>1&&a[2]&&Number(a[0])===n?5===a.length?I()(t,"".concat(a[2],"/column/").concat(a[4]),"".concat(r)):I()(t,"".concat(a[2]),"".concat(r)):(e.includes("shared"),""!==a[1]?"".concat(t,"/section/").concat(r):"".concat(t,"section/").concat(r)):!r&&i&&v()(i)&&i!==o&&a.length>1?e.includes("shared")&&!a[2]?t:5===a.length?I()(t,"".concat(a[4]),"".concat(i)):"".concat(t,"/column/").concat(i):null},tt=function(t,e,n){var r={active:e,inactive:n,custom:{families:[],urls:[]}};return t.filter((function(t){return!!t.src})).forEach((function(t,e){r.custom.families[e]=t.family,r.custom.urls[e]=t.src})),r},et=function(t){return t.map((function(t){return t.family}))},nt=["inherit","Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"],rt=function(){return window.location.href.match("geostory-embedded")?"geostoryEmbedded":"geostory"}}}]);