(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5875],{75875:(e,r,t)=>{function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var u=t(9669),i=t(7303),c=t(8575),s=t(37275).ZP,f=t(33044),p=f.isAuthenticationActivated,l=f.getAuthenticationRule,h=f.getToken,O=f.getBasicAuthHeader,b=t(27418),m=t(13218),d=t(14176),v=t(14293),g=t(8575);function y(e,r,t){e.params=b({},e.params,a({},r,t)),e.url=e.url?s.getUrlWithoutParameters(e.url,[r]):e.url}function P(e,r,t){e.headers=b({},e.headers,a({},r,t))}var w=[];u.interceptors.request.use((function(e){var r=e.url||"",t=!(0===r.indexOf("http")),n=!t&&r.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(function(e){if(!e||!e.url||!p())return e;var r=i(e.baseURL||"",e.url),t=l(r);switch(t&&t.method){case"browserWithCredentials":return e.withCredentials=!0,e;case"authkey":var n=h();return n?(y(e,t.authkeyParamName||"authkey",n),e):e;case"test":var o=t?t.token:"";return o?(y(e,t.authkeyParamName||"authkey",o),e):e;case"basic":var a=O();return a?(P(e,"Authorization",a),e):e;case"bearer":var u=h();u&&P(e,"Authorization","Bearer "+u)}}(e),n){var o=window.location;t=n[1]===o.protocol&&n[3]===o.hostname;var a=n[4],u=o.port,c=0===o.protocol.indexOf("https")?443:80;a=""===a?c+"":a+"",u=""===u?c+"":u+"",t=t&&a===u}if(!t){var f=s.getProxyUrl(e);if(f){var j=[],k=!1;m(f)&&(j=f.useCORS||[],k=f.autoDetectCORS||!1,f=f.url);var C=j.reduce((function(e,t){return e||0===r.indexOf(t)}),!1),D=w.reduce((function(e,t){return e||0===r.indexOf(t)}),!1);if(C||k&&!D)k&&(e.autoDetectCORS=!0);else{var R=g.parse(r,!0,!0),x=d(e.params,v);e.url=f+encodeURIComponent(g.format(b({},R,{search:null,query:b({},R.query,x)}))),e.params=void 0}}}return e})),u.interceptors.response.use((function(e){return e}),(function(e){if(e.config&&e.config.autoDetectCORS){var r=c.parse(e.config.url),t=r.protocol+"//"+r.host+r.pathname;if(-1===w.indexOf(t))return w.push(t),new Promise((function(r,t){u(o(o({},e.config),{},{autoDetectCORS:!1})).then(r).catch(t)}))}return Promise.reject(e.response?o(o({},e.response),{},{originalError:e}):e)})),e.exports=u}}]);