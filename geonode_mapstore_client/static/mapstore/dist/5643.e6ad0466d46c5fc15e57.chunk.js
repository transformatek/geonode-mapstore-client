(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5643],{64152:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ue});var o={};r.r(o),r.d(o,{getRecords:()=>z,testService:()=>V,textSearch:()=>W,validate:()=>H});var n={};r.r(n),r.d(n,{getRecords:()=>ne,parseUrl:()=>oe,textSearch:()=>ae});var a=r(59551),i=r(67007),l=r(3475),s=r(37275),c=r(5055),u=r.n(c),p=r(75875),f=r.n(p),d=r(27361),y=r.n(d),m=r(84596),b=r.n(m),h=r(33044),v=r(93201);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E={},T=function(e,t){return e===t||"EPSG:3857"===e&&"EPSG:900913"===t||"EPSG:900913"===e&&"EPSG:3857"===t},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=b()(y()(e,"TileMapService.TileMaps.TileMap",[])),i=n.projection,l=y()(n,"options.service.allSRS"),s=a.map((function(t){var r=t.$,o=void 0===r?{}:r;return O(O({},o),{},{href:(0,h.cleanAuthParamsFromURL)(o.href),identifier:(0,h.cleanAuthParamsFromURL)(o.href),format:(0,v.A)(o.href),tmsUrl:(0,h.cleanAuthParamsFromURL)(e.url)})})).filter((function(e){var t=e.srs;return!(i&&!l)||T(t,i)})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"":t,n=e.srs,a=void 0===n?"":n;return!o||-1!==r.toLowerCase().indexOf(o.toLowerCase())||-1!==a.toLowerCase().indexOf(o.toLowerCase())}));return{numberOfRecordsMatched:s.length,numberOfRecordsReturned:Math.min(r,s.length),nextRecord:t+Math.min(r,s.length)+1,records:s.filter((function(e,o){return o>=t-1&&o<t-1+r}))}},P=function(e){return e},x=function(e,t,r,o,n){var a=E[e];return a&&(new Date).getTime()<a.timestamp+1e3*(s.ZP.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(S(a.data,t,r,o,n))})):f().get(e).then((function(a){var i;return u().parseString(a.data,{explicitArray:!1},(function(t,r){i=O(O({},r),{},{url:e})})),E[e]={timestamp:(new Date).getTime(),data:i},S(i,t,r,o,n)}))},_=r(36882),j=r(89255),R=r(11847);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C="custom",D=function(e,t,r,o,n){var a,i,l,s=y()(n,"options.service"),c=[];if(s.provider&&s.provider!==C){var u=(a=s.provider,Object.keys(null!==(i=null===_.Z||void 0===_.Z||null===(l=_.Z[a])||void 0===l?void 0:l.variants)&&void 0!==i?i:{}));0===u.length?c.push({provider:"".concat(s.provider),title:"".concat(s.provider)}):c=u.map((function(e){return{provider:"".concat(s.provider,".").concat(e)}}))}else s.url&&(c=[A(A({},s),{},{title:s.title,type:"tileprovider",url:s.url,attribution:s.attribution,options:s.options||{},provider:C})]);return new Promise((function(e){e(function(e,t,r,o){var n=e.filter((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).title;return!o||-1!==(void 0===e?"":e).toLowerCase().indexOf(o.toLowerCase())})),a=n.filter((function(e,o){return o>=t-1&&o<t-1+r}));return{numberOfRecordsMatched:n.length,numberOfRecordsReturned:a.length,nextRecord:t+Math.min(r,n.length)+1,records:a}}(c,t,r,o))}))};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){var t="function"==typeof Map?new Map:void 0;return(G=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return N(e,arguments,U(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Z(o,e)})(e)}function N(e,t,r){return(N=I()?Reflect.construct:function(e,t,r){var o=[null];o.push.apply(o,t);var n=new(Function.bind.apply(e,o));return r&&Z(n,r.prototype),n}).apply(null,arguments)}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(n,e);var t,r,o=(t=n,r=I(),function(){var e,o=U(t);if(r){var n=U(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return M(this,e)});function n(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=o.call(this,e)).name="ServiceValidationError",r.notification=t,r}return n}(G(Error)),Y=function(e){return""===e.title||""===e.url?j.Observable.throw(new B("Validation Error","catalog.notification.warningAddCatalogService")):j.Observable.of(e)},q=function(e){var t=e.parseUrl;return function(e){var r="catalog.notification.errorServiceUrl";return j.Observable.defer((function(){return f().get(t(e.url))})).catch((function(){throw new B("Service Test error",r)})).switchMap((function(t){if(t.error||""===t.data)throw new B("Service Test error",r);return j.Observable.of(e)}))}},z=function(e,t,r,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=n.options,i=a||{},l=i.service,s=void 0===l?{}:l;return"tms"===s.provider&&x(e,t,r,o,n),D(0,t,r,o,n)},W=function(e,t,r,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=n.options,i=a||{},l=i.service,s=void 0===l?{}:l;return"tms"===s.provider?x(e,t,r,o,n):D(0,t,r,o,n)},H=function(e){return"tms"===e.provider?Y(e):function(e){var t,r=e.provider&&"custom"!==e.provider?!!e.provider:(t=e.url,(0,R.Nw)(t));if(e.title&&r)return j.Observable.of(e);throw new Error("catalog.config.notValidURLTemplate")}(e)},V=function(e){return"tms"===e.provider?q({parseUrl:P})(e):function(e){return j.Observable.of(e)}(e)},K=r(32420);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var te={},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n=b()(y()(e,'["wfs:WFS_Capabilities"].FeatureTypeList.FeatureType',[])),a=n.map((function(t){var r=t.Name,o=t.Title,n=t.Abstract,a=t.DefaultSRS,i=t.OtherSRS,l=void 0===i?[]:i,s=t["ows:WGS84BoundingBox"],c=s["ows:LowerCorner"].split(" "),u=s["ows:UpperCorner"].split(" "),p={minx:parseFloat(c[0]),miny:parseFloat(c[1]),maxx:parseFloat(u[0]),maxy:parseFloat(u[1])};return{featureType:t,type:"wfs",url:(0,h.cleanAuthParamsFromURL)(e.url),name:r,title:o,description:n,SRS:[a].concat(X(l)),defaultSRS:a,boundingBox:{bounds:p,crs:"EPSG:4326"}}})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"":t,n=e.name,a=void 0===n?"":n,i=e.description;return!o||-1!==r.toLowerCase().indexOf(o.toLowerCase())||-1!==a.toLowerCase().indexOf(o.toLowerCase())||-1!==i.toLowerCase().indexOf(o.toLowerCase())})),i=a.filter((function(e,o){return o>=t-1&&o<t-1+r}));return{numberOfRecordsMatched:a.length,numberOfRecordsReturned:Math.min(r,i.length),nextRecord:t+Math.min(r,a.length)+1,records:i}},oe=K.dN,ne=function(e,t,r,o,n){var a=te[e];return a&&(new Date).getTime()<a.timestamp+1e3*(s.ZP.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(re(a.data,t,r,o,n))})):(0,K.FU)(e).then((function(a){var i;return u().parseString(a.data,{explicitArray:!1,stripPrefix:!0},(function(t,r){i=$($({},r),{},{url:e})})),te[e]={timestamp:(new Date).getTime(),data:i},re(i,t,r,o,n)}))},ae=function(e,t,r,o,n){return ne(e,t,r,o,n)},ie=r(32354);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ue={csw:se({validate:Y,testService:q(a.Z)},a.Z),wfs:se({validate:Y,testService:q(n)},n),wms:se({validate:Y,testService:q(i.ZP)},i.ZP),tms:o,wmts:se({validate:Y,testService:q(l.Z)},l.Z),backgrounds:se({validate:Y,testService:q(ie.Z)},ie.Z)}},24819:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var o=r(5053),n=r.n(o),a=r(45697),i=r.n(a),l=r(30294),s=r(69235);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,r,o,a,i=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(a){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function c(){var e;u(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return b(y(e=i.call.apply(i,[this].concat(r))),"renderTitle",(function(){return n().createElement(l.Row,null,n().createElement(l.Col,{xs:12,className:"mapstore-toc-head-title-container text-center no-border"},n().createElement("div",{className:"mapstore-toc-head-title",title:e.props.title},n().createElement(l.Glyphicon,{glyph:"1-map"}),"  ",e.props.title)))})),b(y(e),"renderFilter",(function(){return n().createElement(l.Row,null,n().createElement(l.Col,{xs:12,className:"text-center"},n().createElement(s.Z,{onFocus:e.props.onClear,filterPlaceholder:e.props.filterPlaceholder,tooltipClear:e.props.filterTooltipClear,filterText:e.props.filterText,onFilter:e.props.onFilter})))})),b(y(e),"renderTools",(function(){return n().createElement(l.Row,null,n().createElement(l.Col,{xs:12,className:"text-center"},e.props.toolbar))})),e}return t=c,(r=[{key:"render",value:function(){var e=[this.props.showTools,this.props.showFilter,this.props.showTitle].filter((function(e){return e})),t=e.length>0?" toc-head-sections-"+e.length:" toc-head-sections";return n().createElement("div",{className:"mapstore-toc-head"+t},n().createElement(l.Grid,{fluid:!0},this.props.showTitle?this.renderTitle():null,this.props.showFilter?this.renderFilter():null,this.props.showTools?this.renderTools():null))}}])&&p(t.prototype,r),c}(n().Component);b(h,"propTypes",{title:i().string,filterText:i().string,filterPlaceholder:i().oneOfType([i().object,i().string]),showTitle:i().bool,showFilter:i().oneOfType([i().bool,i().number]),showTools:i().bool,toolbar:i().object,onFilter:i().func,onClear:i().func,filterTooltipClear:i().oneOfType([i().object,i().string])}),b(h,"defaultProps",{title:"",filterText:"",filterPlaceholder:"Filter",showTitle:!0,showFilter:!0,showTools:!0,toolbar:null,onFilter:function(){},onClear:function(){},filterTooltipClear:"Clear"});const v=h},42678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ue});var o=r(5053),n=r.n(o),a=r(45697),i=r.n(a),l=r(30294),s=r(91175),c=r.n(s),u=r(90173),p=r(50966),f=r(72688),d=(r(8380),r(1469)),y=r.n(d),m=r(47037),b=r.n(m),h=r(82571),v=r.n(h),g=r(7472),O=r(99534),w=r(80876),E=r(13218),T=r.n(E),S=r(3674),P=r.n(S),x=r(86638),_=r(61239),j=r(11847),R=r(5346),F=r(38560);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e);var t,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(o);if(a){var r=N(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return M(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),I(G(t=i.call(this,e)),"renderMetadata",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=function(e,r){t.setState({collapsed:C(C({},t.state.collapsed),{},I({},e,r))})},i=function(e,r){return n().createElement("div",{style:{display:"flex",flexDirection:"row"}},e,n().createElement(F.Z,{style:{margin:"4px 0 0 4px"},className:"square-button-md no-border",onClick:function(){return a(r,!t.state.collapsed[r])}},n().createElement(l.Glyphicon,{glyph:t.state.collapsed[r]?"plus":"minus"})))},s=function(e,t){return"".concat(e,"@item_").concat(t)},c=P()(e).filter((function(e){return"references"!==e})).map((function(r){var a,l,c=e[r],u="".concat(o,".").concat(r),p="toc.layerMetadata.".concat(r),f=(0,x.S$)(t.context.messages,p)===p?n().createElement(R.Z,{msgId:"toc.layerMetadata.defaultPropName",msgParams:{propName:r}}):n().createElement(R.Z,{msgId:p}),d=function(e){return n().createElement("tr",null,n().createElement("td",null,f),n().createElement("td",null,e))};if(y()(c))if(c.length){var m="toc.layerMetadata.itemTitles.".concat(r),h=(0,x.S$)(t.context.messages,m),v=h===m?(0,x.S$)(t.context.messages,"toc.layerMetadata.itemTitles.default"):h,g=c.map((function(e,r){var o=s(u,r);return T()(e)?t.renderMetadata(e,c.length>1?i(n().createElement("h4",null,"".concat(v," #").concat(r+1)),o):null,o):n().createElement("li",{key:r},e)}));a=T()(c[0])?(l=n().createElement("div",null,i(n().createElement("h4",null,f),u),t.state.collapsed[u]?null:n().createElement("div",null,g)),n().createElement("tr",null,n().createElement("td",{colSpan:"2"},l))):d(n().createElement("ul",null,g))}else a=null;else if(b()(c)){var O=(0,_.v)(c),w=(0,j.K2)(c);a=d(O||w?n().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:w?c:"mailto:".concat(c)},c):c)}return a})).filter((function(e){return!!e}));return n().createElement("div",{style:o?{padding:"8px"}:{}},r,t.state.collapsed[o]?null:n().createElement(l.Table,null,n().createElement("tbody",null,c)))})),t.state={collapsed:{}},t}return t=s,(r=[{key:"renderEmpty",value:function(){return n().createElement("div",null,n().createElement(R.Z,{msgId:"toc.layerMetadata.emptyMetadata"}))}},{key:"render",value:function(){var e=this.props.model;return P()(e).length?n().createElement("div",{style:{maxHeight:"400px",overflow:"auto"},id:e.identifier},this.renderMetadata(e)):this.renderEmpty()}}])&&D(t.prototype,r),s}(n().Component);I(Z,"propTypes",{model:i().object}),I(Z,"contextTypes",{messages:i().object}),I(Z,"defaultProps",{model:{}});const U=Z;function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(s,e);var t,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(o);if(a){var r=V(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return W(this,e)});function s(){var e;Y(this,s);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return K(H(e=i.call.apply(i,[this].concat(r))),"onDelete",(function(){e.props.hideLayerMetadata()})),K(H(e),"onClose",(function(){e.props.hideLayerMetadata()})),K(H(e),"getTemplate",(function(){var t=e.props.metadataTemplate||U;if(y()(t)||b()(t)){var r=y()(t)?t.join("\n"):t;return n().createElement(v(),{model:e.props.layerMetadata.metadataRecord,template:r,renderContent:w.Z})}var o=t;return n().createElement(o,{model:e.props.layerMetadata.metadataRecord})})),K(H(e),"renderBodyTemplate",(function(){return e.props.layerMetadata.maskLoading?null:e.getTemplate()})),e}return t=s,(r=[{key:"render",value:function(){var e=n().createElement("span",{role:"footer"});return this.props.layerMetadata.expanded?n().createElement(O.Z,null,n().createElement(g.Z,{maskLoading:this.props.layerMetadata.maskLoading,id:this.props.id,style:this.props.panelStyle,className:this.props.panelClassName},n().createElement("span",{role:"header"},n().createElement("span",{className:"layer-settings-metadata-panel-title"},this.props.layerMetadataPanelTitle),n().createElement("button",{onClick:this.onClose,className:"layer-settings-metadata-panel-close close"},this.props.closeGlyph?n().createElement(l.Glyphicon,{glyph:this.props.closeGlyph}):n().createElement("span",null,"×"))),n().createElement("div",{role:"body",style:{minWidth:"500px"}},this.renderBodyTemplate()),e)):null}}])&&q(t.prototype,r),s}(n().Component);K(Q,"propTypes",{id:i().string,layerMetadata:i().object,metadataTemplate:i().oneOfType([i().string,i().array,i().object,i().func]),hideLayerMetadata:i().func,closeGlyph:i().string,panelStyle:i().object,panelClassName:i().string,maskLoading:i().bool,layerMetadataPanelTitle:i().oneOfType([i().string,i().object])}),K(Q,"defaultProps",{id:"mapstore-layer-settings-metadata",layerMetadata:{expanded:!1},metadataTemplate:null,closeGlyph:"1-close",panelStyle:{},panelClassName:"toolbar-panel portal-dialog",maskLoading:!0,layerMetadataPanelTitle:""});const $=Q;function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(s,e);var t,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=le(o);if(a){var r=le(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ae(this,e)});function s(){var e;re(this,s);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return se(ie(e=i.call.apply(i,[this].concat(r))),"state",{showDeleteDialog:!1}),se(ie(e),"isNestedGroup",(function(){var t=e.props.selectedGroups.map((function(e){return e.id.split(".")}));return c()(t.reduce((function(e,t){return e[0]===t[0]?t:[!1]}),t[0]))})),se(ie(e),"isLoading",(function(){return c()(e.props.selectedLayers.filter((function(e){return e.loading})))})),se(ie(e),"getStatus",(function(){var t=e.props,r=t.selectedLayers,o=t.selectedGroups,n=e.isNestedGroup(),a=0===r.length&0===o.length?"DESELECT":"";return a=1===r.length&0===o.length?"LAYER":a,a=n?"GROUP":a,a=r.length>1&0===o.length?"LAYERS":a,a=o.length>1&&!n?"GROUPS":a,e.props.selectedLayers.length>0&&e.props.selectedLayers.filter((function(e){return"Error"===e.loadingError})).length===e.props.selectedLayers.length?"".concat(a,"_LOAD_ERROR"):a})),se(ie(e),"getSelectedGroup",(function(){return e.props.selectedGroups.length>0&&e.props.selectedGroups[e.props.selectedGroups.length-1]})),se(ie(e),"getSelectedNodeDepth",(function(){return"DESELECT"===e.getStatus()?0:e.getSelectedGroup().id.split(".").length+1})),se(ie(e),"addLayer",(function(){var t=e.getSelectedGroup();e.props.onToolsActions.onAddLayer(t&&t.id)})),se(ie(e),"addGroup",(function(){var t=e.getSelectedGroup();e.props.onToolsActions.onAddGroup(t&&t.id)})),se(ie(e),"browseData",(function(){e.props.onToolsActions.onBrowseData({url:e.props.selectedLayers[0].search.url||e.props.selectedLayers[0].url,name:e.props.selectedLayers[0].name,id:e.props.selectedLayers[0].id})})),se(ie(e),"download",(function(){var t;e.props.onToolsActions.onDownload({url:(null===(t=e.props.selectedLayers[0].search)||void 0===t?void 0:t.url)||e.props.selectedLayers[0].url,name:e.props.selectedLayers[0].name,id:e.props.selectedLayers[0].id})})),se(ie(e),"checkBbox",(function(){var t=e.props.selectedLayers.filter((function(e){return e.bbox})).map((function(e){return e.bbox})),r=t.length>0?t.reduce((function(e,t){return e.crs===t.crs?e:{crs:"differentCRS"}})):{crs:"differentCRS"};return!!c()(t)&&"differentCRS"!==r.crs&&r.crs})),se(ie(e),"zoomTo",(function(){var t=e.props.selectedLayers.filter((function(e){return e.bbox})).map((function(e){return e.bbox})),r=t.length>1?t.reduce((function(e,t){return{bounds:{maxx:e.bounds.maxx>t.bounds.maxx?e.bounds.maxx:t.bounds.maxx,maxy:e.bounds.maxy>t.bounds.maxy?e.bounds.maxy:t.bounds.maxy,minx:e.bounds.minx<t.bounds.minx?e.bounds.minx:t.bounds.minx,miny:e.bounds.miny<t.bounds.miny?e.bounds.miny:t.bounds.miny},crs:t.crs}}),t[0]):t[0];e.props.onToolsActions.onZoom(r.bounds,r.crs)})),se(ie(e),"showSettings",(function(t){e.props.settings.expanded?e.props.onToolsActions.onHideSettings():"LAYER"===t||"LAYER_LOAD_ERROR"===t?e.props.onToolsActions.onSettings(e.props.selectedLayers[0].id,"layers",{opacity:parseFloat(void 0!==e.props.selectedLayers[0].opacity?e.props.selectedLayers[0].opacity:1)}):"GROUP"===t&&e.props.onToolsActions.onSettings(e.props.selectedGroups[e.props.selectedGroups.length-1].id,"groups",{})})),se(ie(e),"showMetadata",(function(){e.props.layerMetadata.expanded?e.props.onToolsActions.onHideLayerMetadata():e.props.onToolsActions.onGetMetadataRecord(e.props.options.metadataOptions)})),se(ie(e),"removeNodes",(function(){e.props.selectedLayers.forEach((function(t){e.props.onToolsActions.onRemove(t.id,"layers")})),e.props.selectedGroups.forEach((function(t){e.props.onToolsActions.onRemove(t.id,"groups")})),e.props.onToolsActions.onClear(),e.closeDeleteDialog()})),se(ie(e),"reload",(function(){e.props.selectedLayers.forEach((function(t){e.props.onToolsActions.onShow(t.id,{visibility:!0}),e.props.onToolsActions.onReload(t.id)}))})),se(ie(e),"closeDeleteDialog",(function(){e.setState({showDeleteDialog:!1})})),se(ie(e),"displayDeleteDialog",(function(){e.setState({showDeleteDialog:!0})})),e}return t=s,(r=[{key:"render",value:function(){var e=this,t=this.getStatus(),r=this.checkBbox(),o=r&&u.default.defs(r),a=n().createElement($,{key:"toollayermetadatamodal",layerMetadata:this.props.layerMetadata,metadataTemplate:this.props.metadataTemplate,hideLayerMetadata:this.props.onToolsActions.onHideLayerMetadata,layerMetadataPanelTitle:this.props.text.layerMetadataPanelTitle});return this.props.activateTool.activateToolsContainer?n().createElement(l.ButtonGroup,null,this.props.activateTool.activateLayerInfoTool&&"DESELECT"===t?n().createElement(p.Z,{key:"layerInfo",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-layerInfo"},this.props.text.layerInfoTooltip)},n().createElement(F.Z,{key:"layerInfo",bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onLayerInfo},n().createElement(l.Glyphicon,{glyph:"layer-info"}))):null,!this.props.activateTool.activateAddLayer||"DESELECT"!==t&&"GROUP"!==t?null:n().createElement(p.Z,{key:"addLayer",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-addLayer"},"GROUP"===t?this.props.text.addLayerToGroupTooltip:this.props.text.addLayerTooltip)},n().createElement(F.Z,{key:"addLayer",bsStyle:"primary",className:"square-button-md",onClick:this.addLayer},n().createElement(l.Glyphicon,{glyph:"add-layer"}))),this.props.activateTool.activateAddGroup&&("DESELECT"===t||"GROUP"===t)&&this.getSelectedNodeDepth()<=this.props.maxDepth?n().createElement(p.Z,{key:"addGroup",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-addGroup"},"GROUP"===t?this.props.text.addSubGroupTooltip:this.props.text.addGroupTooltip)},n().createElement(F.Z,{key:"addGroup",bsStyle:"primary",className:"square-button-md",onClick:this.addGroup},n().createElement(l.Glyphicon,{glyph:"add-folder"}))):null,this.props.activateTool.activateZoomTool&&("LAYER"===t||"GROUP"===t||"LAYERS"===t||"GROUPS"===t)&&r?n().createElement(p.Z,{key:"zoomTo",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-zoomTo"},o?this.props.text.zoomToTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"]:n().createElement(R.Z,{msgId:"toc.epsgNotSupported",msgParams:{epsg:r||" "}}))},n().createElement(F.Z,{bsStyle:"primary",className:"square-button-md",style:o?{opacity:1,cursor:"pointer"}:{opacity:.5,cursor:"default"},onClick:o?this.zoomTo:function(){}},n().createElement(l.Glyphicon,{glyph:"zoom-to"}))):null,!this.props.activateTool.activateSettingsTool||"LAYER"!==t&&"GROUP"!==t&&"LAYER_LOAD_ERROR"!==t||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:n().createElement(p.Z,{key:"settings",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-settings"},this.props.text.settingsTooltip["LAYER_LOAD_ERROR"===t?"LAYER":t])},n().createElement(F.Z,{active:this.props.settings.expanded,bsStyle:this.props.settings.expanded?"success":"primary",className:"square-button-md",onClick:function(){e.showSettings(t)}},n().createElement(l.Glyphicon,{glyph:"wrench"}))),!this.props.activateTool.activateLayerFilterTool||"LAYER"!==t&&"LAYER_LOAD_ERROR"!==t||!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:n().createElement(p.Z,{key:"queryPanel",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-layerFilter"},this.props.text.layerFilterTooltip)},n().createElement(F.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onQueryBuilder},n().createElement(l.Glyphicon,{glyph:"filter-layer"}))),!this.props.activateTool.activateQueryTool||"LAYER"!==t||!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:n().createElement(p.Z,{key:"featuresGrid",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-featuresGrid"},this.props.text.featuresGridTooltip)},n().createElement(F.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.browseData},n().createElement(l.Glyphicon,{glyph:"features-grid"}))),(!this.props.activateTool.activateRemoveLayer||"LAYER"!==t&&"LAYERS"!==t&&"LAYER_LOAD_ERROR"!==t&&"LAYERS_LOAD_ERROR"!==t)&&(!this.props.activateTool.activateRemoveGroup||"GROUP"!==t&&"GROUPS"!==t&&"GROUP_LOAD_ERROR"!==t&&"GROUPS_LOAD_ERROR"!==t)||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:n().createElement(p.Z,{key:"removeNode",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-trash"},this.props.selectedGroups.length?this.props.text.trashTooltip.GROUP:this.props.text.trashTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"])},n().createElement(F.Z,{active:this.state.showDeleteDialog,bsStyle:this.props.settings.showDeleteDialog?"success":"primary",className:"square-button-md",onClick:this.displayDeleteDialog},n().createElement(l.Glyphicon,{glyph:"trash"}))),!this.isLoading()&&"LAYER_LOAD_ERROR"===t||"LAYERS_LOAD_ERROR"===t?n().createElement(p.Z,{key:"reload",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-reload"},this.props.text.reloadTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"])},n().createElement(F.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.reload},n().createElement(l.Glyphicon,{glyph:"refresh"}))):null,!this.props.activateTool.activateWidgetTool||"LAYER"!==t||1!==this.props.selectedLayers.length||!this.props.selectedLayers[0].search||"vector"===this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:n().createElement(p.Z,{key:"widgets",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-widgets"},this.props.text.createWidgetTooltip)},n().createElement(F.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onNewWidget},n().createElement(l.Glyphicon,{glyph:"stats"}))),!this.props.activateTool.activateDownloadTool||"LAYER"!==t||"wms"!==this.props.selectedLayers[0].type&&!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded?null:n().createElement(p.Z,{key:"downloadTool",placement:"top",overlay:n().createElement(l.Tooltip,{id:"toc-tooltip-downloadTool"},this.props.text.downloadToolTooltip)},n().createElement(F.Z,{bsStyle:this.props.layerdownload.expanded?"success":"primary",className:"square-button-md",onClick:this.download},n().createElement(l.Glyphicon,{glyph:"download"}))),!this.props.activateTool.activateMetedataTool||"LAYER"!==t||this.props.settings.expanded||this.props.layerdownload.expanded?null:n().createElement(p.Z,{key:"layerMetadata",placement:"top",overlay:n().createElement(l.Tooltip,{id:"legend-tooltip-metadata"},this.props.text.layerMetadataTooltip)},n().createElement(F.Z,{key:"layer-metadata",bsStyle:this.props.layerMetadata.expanded?"success":"primary",className:"square-button-md",onClick:function(){return e.showMetadata()}},n().createElement(l.Glyphicon,{glyph:"info-sign"}))),this.props.items.filter((function(r){var o=r.selector;return(void 0===o?function(){return!0}:o)(te(te({},e.props),{},{status:t}))})).map((function(r){var o=r.Component;return n().createElement(o,X({},e.props,{status:t}))})),n().createElement(f.Z,{ref:"removelayer",options:{animation:!1,className:"modal-fixed"},show:this.state.showDeleteDialog,onHide:this.closeDeleteDialog,onClose:this.closeDeleteDialog,onConfirm:this.removeNodes,titleText:this.props.selectedGroups&&this.props.selectedGroups.length?this.props.text.confirmDeleteLayerGroupText:this.props.text.confirmDeleteText,confirmText:this.props.text.confirmDeleteConfirmText,cancelText:this.props.text.confirmDeleteCancelText,body:this.props.selectedGroups&&this.props.selectedGroups.length?this.props.text.confirmDeleteLayerGroupMessage:this.props.text.confirmDeleteMessage}),a):null}}])&&oe(t.prototype,r),s}(n().Component);se(ce,"propTypes",{groups:i().array,items:i().array,selectedLayers:i().array,generalInfoFormat:i().string,selectedGroups:i().array,onToolsActions:i().object,text:i().object,activateTool:i().object,options:i().object,style:i().object,settings:i().object,layerMetadata:i().object,layerdownload:i().object,maxDepth:i().number,metadataTemplate:i().oneOfType([i().string,i().array,i().object,i().func])}),se(ce,"defaultProps",{groups:[],items:[],selectedLayers:[],selectedGroups:[],onToolsActions:{onZoom:function(){},onNewWidget:function(){},onBrowseData:function(){},onQueryBuilder:function(){},onUpdate:function(){},onRemove:function(){},onClear:function(){},onSettings:function(){},onUpdateSettings:function(){},onRetrieveLayerData:function(){},onHideSettings:function(){},onReload:function(){},onAddLayer:function(){},onAddGroup:function(){},onDownload:function(){},onGetMetadataRecord:function(){},onHideLayerMetadata:function(){},onShow:function(){},onLayerInfo:function(){}},maxDepth:3,text:{settingsText:"",opacityText:"",elevationText:"",saveText:"",closeText:"",confirmDeleteText:"",confirmDeleteMessage:"",confirmDeleteConfirmText:"",confirmDeleteCancelText:"",createWidgetTooltip:"",addLayerTooltip:"",addLayerToGroupTooltip:"",addGroupTooltip:"",addSubGroupTooltip:"",zoomToTooltip:{LAYER:"",LAYERS:""},settingsTooltip:{LAYER:"",GROUP:""},featuresGridTooltip:"",downloadToolTooltip:"",trashTooltip:{LAYER:"",LAYERS:"",GROUP:""},reloadTooltip:{LAYER:"",LAYERS:""},layerMetadataTooltip:"",layerMetadataPanelTitle:"",layerFilter:"",layerInfoTooltip:""},activateTool:{activateToolsContainer:!0,activateRemoveLayer:!0,activateRemoveGroup:!0,activateZoomTool:!0,activateQueryTool:!0,activateDownloadTool:!0,activateSettingsTool:!0,activateAddLayer:!0,activateAddGroup:!0,includeDeleteButtonInSettings:!1,activateMetedataTool:!0,activateLayerFilterTool:!0,activateLayerInfoTool:!0},options:{modalOptions:{},metadataOptions:{},settingsOptions:{}},style:{chartStyle:{}},settings:{},layerMetadata:{},layerdownload:{},metadataTemplate:null});const ue=ce},80876:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var Bootstrap=__webpack_require__(30294),Message=__webpack_require__(5346).Z,React=__webpack_require__(5053),RenderTemplate=function RenderTemplate(comp,props){var model=props.model;return eval(comp)};const __WEBPACK_DEFAULT_EXPORT__=RenderTemplate},82571:(module,__unused_webpack_exports,__webpack_require__)=>{function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var React=__webpack_require__(5053),PropTypes=__webpack_require__(45697),isEqual=__webpack_require__(18446),_require=__webpack_require__(59286),parseTemplate=_require.parseTemplate,Template=function(_React$Component){_inherits(Template,_React$Component);var _super=_createSuper(Template);function Template(){var _this;_classCallCheck(this,Template);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_defineProperty(_assertThisInitialized(_this),"renderContent",(function(){var model=_this.props.model,props=_this.props;return eval(_this.comp)})),_defineProperty(_assertThisInitialized(_this),"parseTemplate",(function(e){parseTemplate(e,(function(e,t){t?_this.props.onError(t.message):(_this.comp=e,_this.forceUpdate())}))})),_this}return _createClass(Template,[{key:"UNSAFE_componentWillMount",value:function(){this.parseTemplate(this.props.template)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.template!==this.props.template&&(this.comp=null,this.parseTemplate(e.template))}},{key:"shouldComponentUpdate",value:function(e){return!isEqual(e,this.props)}},{key:"render",value:function(){if(this.comp){var e=this.props.renderContent?this.props.renderContent(this.comp,this.props):this.renderContent();return React.isValidElement(e)?e:null}return null}}]),Template}(React.Component);_defineProperty(Template,"propTypes",{template:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),model:PropTypes.object,renderContent:PropTypes.func,onError:PropTypes.func}),_defineProperty(Template,"defaultProps",{template:"",model:{},onError:function(){}}),module.exports=Template},72688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var o=r(5053),n=r.n(o),a=r(45697),i=r.n(a),l=r(38560),s=r(43614),c=r(72986),u=r.n(c);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,r,o,a,i=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(a){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function c(){var e;d(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return g(h(e=i.call.apply(i,[this].concat(r))),"onConfirm",(function(){e.props.onConfirm()})),e}return t=c,(r=[{key:"render",value:function(){var e=this,t=n().createElement("span",{role:"footer"},n().createElement("div",{style:{float:"left"}}),n().createElement(l.Z,{ref:"confirmButton",disabled:this.props.running,className:this.props.className,key:"confirmButton",bsStyle:"primary",bsSize:this.props.buttonSize,onClick:function(){e.onConfirm()}},this.props.running?n().createElement(u(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):null,this.props.confirmText),this.props.includeCloseButton?n().createElement(l.Z,{key:"cancelButton",ref:"cancelButton",bsSize:this.props.buttonSize,onClick:this.props.onClose},this.props.cancelText):n().createElement("span",null)),r=this.props.body;return n().createElement(s.Z,f({},this.props.options,{show:this.props.show,onHide:this.props.onClose}),n().createElement(s.Z.Header,{key:"dialogHeader",closeButton:!0},n().createElement(s.Z.Title,null,this.props.titleText)),n().createElement(s.Z.Body,null,r),n().createElement(s.Z.Footer,null,t))}}])&&y(t.prototype,r),c}(n().Component);g(O,"propTypes",{className:i().string,show:i().bool,options:i().object,onConfirm:i().func,onClose:i().func,closeGlyph:i().string,style:i().object,buttonSize:i().string,includeCloseButton:i().bool,body:i().oneOfType([i().string,i().element]),titleText:i().oneOfType([i().string,i().element]),confirmText:i().oneOfType([i().string,i().element]),cancelText:i().oneOfType([i().string,i().element]),running:i().bool}),g(O,"defaultProps",{onConfirm:function(){},onClose:function(){},options:{animation:!1},className:"",closeGlyph:"",style:{},includeCloseButton:!0,body:"",titleText:"Confirm Delete",confirmText:"Delete",cancelText:"Cancel"});const w=O},38560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(30294),n=r(5053),a=r.n(n),i=r(94184),l=r.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}const c=(u=o.Button,a().forwardRef((function(e,t){var r=e.disabled,o=e.className,n=e.onClick,i=void 0===n?function(){}:n,c=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,["disabled","className","onClick"]);return a().createElement(u,s({ref:t,className:r?l()("disabled",o):o,onClick:function(){r||i.apply(void 0,arguments)}},c),c.children)})));var u},69235:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h}),r(61057);var o=r(45697),n=r.n(o),a=r(5053),i=r.n(a),l=r(30294);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,r,o,n,a=(o=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(n){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return f(this,e)});function s(){var e;c(this,s);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return m(d(e=a.call.apply(a,[this].concat(r))),"onFilter",(function(t){e.props.onFilter(t.target.value)})),m(d(e),"onClear",(function(){e.props.onFilter("")})),e}return t=s,(r=[{key:"render",value:function(){var e=this.props.filterText?i().createElement(l.OverlayTrigger,{placement:"bottom",overlay:i().createElement(l.Tooltip,{id:"mapstore-toc-filter"},this.props.tooltipClear)},i().createElement(l.Glyphicon,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):i().createElement(l.Glyphicon,{className:"text-primary",glyph:"filter"});return i().createElement(l.FormGroup,{className:"mapstore-filter"},i().createElement(l.InputGroup,null,i().createElement(l.FormControl,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),i().createElement(l.InputGroup.Addon,{className:"square-button-md"},this.props.loading?i().createElement("div",{className:"toc-inline-loader"}):e)))}}])&&u(t.prototype,r),s}(i().Component);m(b,"propTypes",{loading:n().bool,filterText:n().string,filterPlaceholder:n().oneOfType([n().object,n().string]),onFilter:n().func,onFocus:n().func,tooltipClear:n().oneOfType([n().object,n().string])}),m(b,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:function(){},onFocus:function(){},tooltipClear:"Clear"});const h=b},43614:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var o=r(27418),n=r.n(o),a=r(30294),i=r(61365);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,r,o,n,a=(o=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(n){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function i(){return s(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&c(t.prototype,r),i}(a.Modal);const y=n()((0,i.Z)(d),{Body:a.Modal.Body,Dialog:a.Modal.Dialog,Footer:a.Modal.Footer,Header:a.Modal.Header,Title:a.Modal.Title})},50966:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r(61365),n=r(30294);const a=(0,o.Z)(n.OverlayTrigger)},61365:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var o=r(5053),n=r.n(o),a=r(37275);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}const l=function(e){return function(t){return n().createElement(e,i({},t,{container:document.querySelector("."+(a.ZP.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},15135:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var o=r(5053),n=r.n(o),a=r(49848),i=r(30294),l=r(50966),s=r(5346),c=r(57557),u=r.n(c);function p(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const f=(0,a.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,o=t.tooltipId,a=t.tooltipPosition,c=void 0===a?"top":a,u=t.tooltipTrigger,f=t.keyProp,d=t.idDropDown,y=t.args,m=p(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"]);return n().createElement(l.Z,{trigger:u,id:d,key:f,placement:c,overlay:n().createElement(i.Tooltip,{id:"tooltip-"+f},o?n().createElement(s.Z,{msgId:o,msgParams:{data:y}}):r)},n().createElement(e,m))}}),(function(e){return function(t){return n().createElement(e,u()(t,["tooltipId","tooltip"]),t.children)}}))},56175:(e,t,r)=>{"use strict";r.d(t,{Z:()=>H});var o=r(89255),n=r(9669),a=r.n(n),i=r(37691),l=r.n(i),s=r(30647),c=r(91175),u=r.n(c),p=r(27361),f=r.n(p),d=r(13311),y=r.n(d),m=r(1469),b=r.n(m),h=r(47037),v=r.n(h),g=r(13218),O=r.n(g),w=r(3674),E=r.n(w),T=r(93220),S=r.n(T),P=r(31273),x=r(80416),_=r(97395),j=r(82904),R=r(33528),F=r(21914),A=r(53001),L=r(88113),C=r(31935),D=r(8316),k=r(75110),M=r(76712),G=r(90183),N=r(24262),I=r(89919);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var o,n,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw n}}return a}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const H=function(e){return{recordSearchEpic:function(t,r){return t.ofType(P.V3).switchMap((function(t){var n=t.format,a=t.url,i=t.startPosition,l=t.maxRecords,s=t.text,c=t.options;return o.Observable.defer((function(){return e[n].textSearch(a,i,l,s,z({options:c},(0,L.HN)(r.getState())))})).switchMap((function(e){return e.error?o.Observable.of((0,P.m)(e)):o.Observable.of((0,P.nX)({url:a,startPosition:i,maxRecords:l,text:s},e))})).startWith((0,P.K4)(!0)).catch((function(e){return o.Observable.of((0,P.m)(e))}))}))},addLayersFromCatalogsEpic:function(t,r){return t.ofType(P.WX).filter((function(e){var t=e.layers,r=e.sources;return b()(t)&&b()(r)&&t.length&&t.length===r.length})).switchMap((function(t){var n=t.layers,a=t.sources,i=t.options,l=t.startPosition,s=void 0===l?1:l,c=t.maxRecords,p=void 0===c?4:c,f=r.getState(),d=i||(0,L.bA)(f),y=(0,L.b6)(f),m=n.filter((function(e,t){return!!y[a[t]]})).map((function(t,r){var i=y[a[r]],l=i.type,c=i.url,u=n[r];return o.Observable.defer((function(){return e[l].textSearch(c,s,p,u,d).catch((function(){return{results:[]}}))})).map((function(e){return z(z({},e),{},{format:l,url:c,text:u})}))}));return o.Observable.forkJoin(m).switchMap((function(e){return b()(e)&&e.length?o.Observable.of(e.map((function(e){var t=e.format,r=e.url,n=e.text,a=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,["format","url","text"]),i=(0,D.Ps)(f),l=(0,M.eL)(t,a,d,i)||[],s=u()(l.filter((function(e){return e.identifier===n}))),c=(0,M.tW)(s),p=c.wms,y=c.wmts,m={},b={},h=(0,L.kS)(f);if(p){var v=(0,M.n0)(p.SRS);if(p.SRS.length>0&&!G.default.isAllowedSRS("EPSG:3857",v))return o.Observable.empty();m=(0,M.ll)(s,"wms",{removeParams:h,catalogURL:"csw"===t&&r?r+"?request=GetRecordById&service=CSW&version=2.0.2&elementSetName=full&id="+s.identifier:r},b)}else if(y){m={};var g=(0,M.n0)(y.SRS);if(y.SRS.length>0&&!G.default.isAllowedSRS("EPSG:3857",g))return o.Observable.empty();m=(0,M.ll)(s,"wmts",{removeParams:h},b)}else(0,M.FJ)(s).esri&&(m=(0,M.AD)(s,b));return s?m:n}))):o.Observable.empty()}))})).mergeMap((function(e){if(e){var t=e.filter((function(e){return v()(e)})).join(" "),r=[];return t&&(r=[(0,P.E9)(t)]),r=[].concat(U(r),U(e.filter((function(e){return O()(e)})).map((function(e){return(0,x.A4)(e)})))),o.Observable.from(r)}return o.Observable.empty()})).catch((function(){return o.Observable.empty()}))},newCatalogServiceAdded:function(t,r){return t.ofType(P.mh).switchMap((function(){var t=r.getState(),n=(0,L._S)(t);return o.Observable.of(n).switchMap((function(t){var r,n,a;return null!==(r=null===(n=e[t.type])||void 0===n||null===(a=n.validate)||void 0===a?void 0:a.call(n,t))&&void 0!==r?r:o.Observable.of(t)})).switchMap((function(t){var r,n,a;return null!==(r=null===(n=e[t.type])||void 0===n||null===(a=n.testService)||void 0===a?void 0:a.call(n,t))&&void 0!==r?r:o.Observable.of(t)})).switchMap((function(){return o.Observable.of((0,P.N3)(n),(0,_.Vp)({title:"notification.success",message:"catalog.notification.addCatalogService",autoDismiss:6,position:"tc"}))})).startWith((0,P.Rc)(!0)).catch((function(e){return o.Observable.of((0,_.vU)({exception:e,title:"notification.warning",message:e.notification||"catalog.notification.warningAddCatalogService",autoDismiss:6,position:"tc"}))})).concat(o.Observable.of((0,P.Rc)(!1)))}))},deleteCatalogServiceEpic:function(e,t){return e.ofType(P.$Y).switchMap((function(){var e=t.getState(),r=(0,L.Cb)(e),n=(0,L.b6)(e),a=n[r]?(0,_.Vp)({title:"notification.warning",message:"catalog.notification.serviceDeletedCorrectly",autoDismiss:6,position:"tc"}):(0,_.vU)({title:"notification.warning",message:"catalog.notification.impossibleDeleteService",autoDismiss:6,position:"tc"}),i=(0,P.SU)(r);return n[r]?o.Observable.of(a,i):o.Observable.of(a)}))},openCatalogEpic:function(e){return e.ofType(j.At).filter((function(e){return"metadataexplorer"===e.control&&e.value})).switchMap((function(){return o.Observable.of((0,R.YV)(),(0,F.g)(),(0,F.aN)())}))},getMetadataRecordById:function(t,r){return t.ofType(P.UT).switchMap((function(t){var n=t.metadataOptions,i=void 0===n?{}:n,c=r.getState(),u=(0,k.Iz)(c);return o.Observable.defer((function(){return e.wms.getCapabilities((0,N.Fh)(u))})).switchMap((function(t){var r=f()(t,"capability.layer.layer",[]),n=1===r.length?r[0].metadataURL:y()(r,(function(e){return e.name===u.name.split(":")[1]})),c=f()(y()(n,(function(e){return v()(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&("application/xml"===e.format||"text/xml"===e.format)})),"onlineResource.href"),p=f()(y()(n,(function(e){return v()(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&"text/html"===e.format})),"onlineResource.href"),d=y()(f()(i,"extractors",[]),(function(e){var t=e.properties,r=e.layersRegex,o=r?new RegExp(r):null;return O()(t)&&(!r||o.test(u.name))})),m=p?{metadataUrl:p}:{},b=o.Observable.defer((function(){return e.csw.getRecordById(u.catalogURL)})).switchMap((function(e){return e&&e.error?o.Observable.of((0,_.vU)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),(0,x.c9)(m,!1)):e&&e.dc?o.Observable.of((0,x.c9)(z(z({},m),e.dc),!1)):o.Observable.empty()})),h=o.Observable.defer((function(){return a().get(c)})).pluck("data").map((function(e){return(new s.a).parseFromString(e)})).map((function(e){var t=l().useNamespaces(i.xmlNamespaces||{});return function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return S()(r).reduce((function(r,n){var a,i=Z(n,2),l=i[0],s=i[1];if(O()(s)&&v()(s.xpath)&&O()(s.properties)&&E()(s.properties).length>0)0===(a=t(s.xpath,o).map((function(t){return e(s.properties,t)}))).length&&(a=null);else{var c,u=t(s,o);1===u.length?a=null!==(c=f()(u[0],"nodeValue"))&&void 0!==c?c:f()(u[0],"childNodes[0].nodeValue"):u.length>1&&(a=u.map((function(e){return f()(e,"childNodes[0].nodeValue")})).filter((function(e){return!!e})))}return z(z({},r),a?W({},l,a):{})}),{})}(d.properties,e)})).switchMap((function(e){return o.Observable.of((0,x.c9)(z(z({},m),e),!1))}));return c&&d?h:u.catalogURL?b:o.Observable.of((0,x.c9)(m,!1))})).startWith((0,x.c9)({},!0)).catch((function(){return o.Observable.of((0,_.vU)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),(0,x.c9)({},!1))}))}))},autoSearchEpic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(P.CO).debounce((function(){var e=n(),t=(0,L.l2)(e);return o.Observable.timer(t)})).switchMap((function(e){var t=e.text,r=n(),a=(0,L.y)(r),i=(0,L.R7)(r),l=i.type,s=i.url;return o.Observable.of((0,P.tt)({format:l,url:s,startPosition:1,maxRecords:a,text:t}))}))},catalogCloseEpic:function(e,t){return e.ofType(P.ur).switchMap((function(){var e,r=t.getState(),n=(0,C.YL)(r),a=(0,L.b6)(r);return(e=o.Observable).of.apply(e,U([(0,j.pu)("metadataexplorer","enabled",!1,"group",null),(0,P.In)("view"),(0,P.ye)()].concat("backgroundSelector"===n?[(0,P.Dw)(u()(E()(a))),(0,A.vw)(!0)]:[])))}))},getSupportedFormatsEpic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(P.xM).filter((function(e){return(0,L.CK)(n())!==(null==e?void 0:e.url)})).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,r=void 0===t?"":t;return o.Observable.defer((function(){return(0,M.T6)(r,!0)})).switchMap((function(e){return o.Observable.of((0,P.nx)(e,r))})).let((0,I.hP)((0,P.We)(!0),(0,P.We)(!1),(function(){return o.Observable.of((0,_.vU)({title:"layerProperties.format.error.title",message:"layerProperties.format.error.message"}),(0,P.We)(!1))})))}))}}}},97301:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var o=r(95797),n=r(7878),a=r(82904),i=r(27418),l=r.n(i);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var u=function(e){return["STATE_NAME","STATE_ABBR","SUB_REGION","STATE_FIPS"].map((function(t){return{attribute:t,values:e.features.reduce((function(e,r){return-1===e.indexOf(r.properties[t])?[].concat((o=e,function(e){if(Array.isArray(e))return c(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[r.properties[t]]).sort():e;var o}),[])}})).reduce((function(e,t){return l()(e,s({},t.attribute,t.values.map((function(e){return{id:e,name:e}}))))}),{})},p={featureTypes:{},data:{},result:null,resultError:null,syncWmsFilter:!1,isLayerFilter:!1};const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.S0:return l()({},e,{typeName:t.typeName,url:t.url});case o.u7:return l()({},e,{featureTypes:l()({},e.featureTypes,s({},t.typeName,t.featureType))});case o.lN:return l()({},e,{featureTypes:l()({},e.featureTypes,s({},t.typeName,{error:t.error}))});case o.yz:return l()({},e,{featureLoading:t.isLoading});case o.lj:return l()({},e,{featureLoading:!1,data:l()({},e.data,s({},t.typeName,u(t.feature)))});case o.zW:return l()({},e,{featureLoading:!1,featureTypes:l()({},e.data,s({},t.typeName,{error:t.error}))});case o.Yx:return l()({},e,{isNew:!0,searchUrl:t.searchUrl,filterObj:t.filterObj});case o.VN:return l()({},e,{filterObj:l()({},e.filterObj,t.updates)});case o.Hu:return l()({},e,{isNew:!1,result:t.result,searchUrl:t.searchUrl,filterObj:t.filterObj,resultError:null});case o.VT:return l()({},e,{isNew:!1,result:null,resultError:t.error});case a.l:case n.Eg:return t.skip&&t.skip.indexOf("query")>=0?e:l()({},e,{isNew:!1,result:null,filterObj:null,searchUrl:null});case o.RD:return l()({},e,{result:null,resultError:null});case o._T:return l()({},e,{syncWmsFilter:!e.syncWmsFilter});case o.vO:return l()({},e,{isLayerFilter:!e.isLayerFilter});default:return e}}},46905:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var o=r(7878),n=r(4206),a=r(27418),i=r.n(a),l=r(19412),s=r.n(l),c=r(94707),u=r.n(c),p=r(27361),f=r.n(p),d=r(61868);function y(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={searchUrl:null,featureTypeConfigUrl:null,showGeneratedFilter:!1,attributePanelExpanded:!0,spatialPanelExpanded:!0,crossLayerExpanded:!0,showDetailsPanel:!1,groupLevels:5,useMapProjection:!1,toolbarEnabled:!0,groupFields:[{id:1,logic:"OR",index:0}],maxFeaturesWPS:5,filterFields:[],spatialField:{method:null,attribute:"the_geom",operation:"INTERSECTS",geometry:null},simpleFilterFields:[]},E=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i()({},t,(O(e={},r.fieldName,r.fieldValue),O(e,"type",r.fieldType),e),{fieldOptions:i()({},g({},t.fieldOptions),{currentPage:void 0===r.fieldOptions.currentPage?1:r.fieldOptions.currentPage})});return"attribute"===r.fieldName&&(o.value="string"===r.fieldType?"":null,o.operator="="),"operator"===r.fieldName&&(o.value=null),o};const T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.E6:var r={rowId:(new Date).getTime(),groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};return i()({},e,{filterFields:e.filterFields?[].concat(b(e.filterFields),[r]):[r]});case o.vo:return i()({},e,{filterFields:e.filterFields.filter((function(e){return e.rowId!==t.rowId}))});case o.l1:return i()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?E(e,t):e}))});case o.o7:return i()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.filterField.rowId?i()({},e,{options:i()({},g({},e.options),O({},e.attribute,t.options))},{fieldOptions:i()({},g({},e.fieldOptions),{valuesCount:t.valuesCount})}):e}))});case o.Sm:return i()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?i()({},e,{openAutocompleteMenu:t.status}):e}))});case o.D6:return i()({},e,{autocompleteEnabled:t.status});case o.Nr:return i()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.filterField.rowId?i()({},e,{loading:t.status}):e}))});case o.J9:return i()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?i()({},e,{exception:t.exceptionMessage}):e}))});case o.U:var a={id:(new Date).getTime(),logic:"OR",groupId:t.groupId,index:t.index+1};return i()({},e,{groupFields:e.groupFields?[].concat(b(e.groupFields),[a]):[a]});case o.z8:return i()({},e,{groupFields:e.groupFields.map((function(e){return e.id===t.groupId?i()({},e,{logic:t.logic}):e}))});case o.ql:return i()({},e,{filterFields:e.filterFields.filter((function(e){return e.groupId!==t.groupId})),groupFields:e.groupFields.filter((function(e){return e.id!==t.groupId}))});case o.O_:return i()({},e,{filterFields:e.filterFields.map((function(e){for(var r=0;r<t.attributes.length;r++)if(e.attribute===t.attributes[r].id)return i()({},e,{value:null});return e}))});case o.M$:return i()({},e,{attributePanelExpanded:t.expand});case o.Ug:return i()({},e,{spatialPanelExpanded:t.expand});case o.p5:return i()({},e,{crossLayerExpanded:t.expand});case o.Fz:return i()({},e,{crossLayerFilter:(0,d.t8)(t.key,t.value,e.crossLayerFilter)});case o.Gf:return(0,d.vy)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId,groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null},{rowId:t.rowId},e);case o.nh:return(0,d.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(f()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((function(e){return e.rowId===t.rowId?E(e,t):e})),e);case o.Rf:return(0,d.z6)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId},e);case o.WZ:return i()({},e,{crossLayerFilter:{attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute}});case o.bP:var l;return i()({},e,{spatialField:i()({},e.spatialField,(l={},O(l,t.fieldName,t.method),O(l,"geometry",null),l))});case o.d_:return i()({},e,{spatialField:i()({},e.spatialField,{geometry:t.geometry})},{toolbarEnabled:!0});case o.xM:return i()({},e,{spatialField:i()({},e.spatialField,O({},t.fieldName,t.operation))});case o.bl:return i()({},e,{spatialField:i()({},e.spatialField,{attribute:t.attribute}),crossLayerFilter:i()({},e.crossLayerFilter,{attribute:t.attribute})});case n.hZ:return"queryform"===t.owner&&"start"===t.status?i()({},e,{toolbarEnabled:!1}):e;case o.Wi:return i()({},e,{toolbarEnabled:!0,spatialField:i()({},e.spatialField,{value:t.value,collectGeometries:t.collectGeometries,geometry:t.srsName?g(g({},t.geometry),{},{projection:t.srsName}):t.geometry})});case n.pb:return"queryform"===t.owner?i()({},e,{toolbarEnabled:!0,spatialField:i()({},e.spatialField,{collectGeometries:t.collectGeometries,geometry:t.geometry})}):e;case o.PN:var c=i()({},w.spatialField,{attribute:e.spatialField.attribute,value:void 0});return i()({},e,{spatialField:i()({},e.spatialField,c)});case o._M:return i()({},e,{showDetailsPanel:t.show});case o.Eg:var p=i()({},w.spatialField,{attribute:e.spatialField.attribute,value:void 0}),h={attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute};return i()({},e,w,{spatialField:p,crossLayerFilter:h});case o.V1:return i()({},e,{showGeneratedFilter:t.data});case o.cY:return i()({},e,{spatialField:i()({},e.spatialField,{geometry:i()({},e.spatialField.geometry,{distance:t.distance})})});case o.co:return i()({},e,{spatialField:i()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id&&t.data.features&&t.data.features.length>0?i()({},e,{values:t.data.features,open:!0,error:null}):e}))})});case o.RD:return i()({},e,{spatialField:i()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id?i()({},e,{busy:t.active}):e}))})});case o.uY:var v,T,S=e.spatialField.zoneFields.map((function(e){if(e.id===t.id){if(v=e.multivalue?t.value.value:t.value.value[0],t.value.feature[0]){var r=t.value.feature[0],o=r.geometry_name;if(e.multivalue&&t.value.feature.length>1){for(var n=1;n<t.value.feature.length;n++){var a=t.value.feature[n];a&&(r=s()(r,a))}T={coordinates:r.geometry.coordinates,geometryName:o,geometryType:r.geometry.type}}else T={coordinates:r.geometry.coordinates,geometryName:o,geometryType:r.geometry.type}}return i()({},e,{value:v,open:!1,geometryName:T?T.geometryName:null})}return e.dependson&&t.id===e.dependson.id?i()({},e,{disabled:!1,values:null,value:null,open:!1,dependson:i()({},e.dependson,{value:v})}):e})),P=u()({type:"FeatureCollection",features:t.value.feature});return i()({},e,{spatialField:i()({},e.spatialField,{zoneFields:S,geometry:P&&T?{extent:P,type:T.geometryType,coordinates:T.coordinates}:null})});case o.H8:return i()({},e,{spatialField:i()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){var t=i()({},e,{values:null,value:null,open:!1,error:null});return e.dependson?i()({},t,{disabled:!0,open:!1,value:null,dependson:i()({},e.dependson,{value:null})}):t})),geometry:null})});case o.Hl:var x;return i()({},e,{spatialField:i()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id?(x="object"!==m(t.error)?t.error.status&&t.error.statusText&&t.error.data?{status:t.error.status,statusText:t.error.statusText,data:t.error.data}:{message:t.error.message||"unknown error"}:t.error,i()({},e,{error:x,busy:!1})):e}))})});case o.je:var _=e.simpleFilterFields.reduce((function(e,r){return r.fieldId===t.id?e.push(g(g({},r),t.properties)):e.push(r),e}),[]);return g(g({},e),{},{simpleFilterFields:_});case o.go:var j=t.properties.fieldId?t.properties:g(g({},t.properties),{},{fieldId:(new Date).getTime()}),R=e.simpleFilterFields?[].concat(b(e.simpleFilterFields),[j]):[j];return g(g({},e),{},{simpleFilterFields:R});case o._8:return g(g({},e),{},{simpleFilterFields:e.simpleFilterFields.filter((function(e){return e.fieldId!==t.id}))});case o.xd:return g(g({},e),{},{simpleFilterFields:[]});case o.Ef:var F=w.spatialField,A=(F.attribute,y(F,["attribute"])),L=i()({},w,{spatialField:g({},A)}),C=t.filter||L,D=C.spatialField,k=C.filterFields,M=C.groupFields,G=C.crossLayerFilter,N=C.attributePanelExpanded,I=C.spatialPanelExpanded,Z=C.crossLayerExpanded;return g(g({},e),{attributePanelExpanded:N,spatialPanelExpanded:I,crossLayerExpanded:Z,spatialField:g(g({},D),{},{attribute:D&&D.attribute||e.spatialField&&e.spatialField.attribute}),filterFields:k,groupFields:M,crossLayerFilter:g(g({},G),{},{attribute:G&&G.attribute||e.crossLayerFilter&&e.crossLayerFilter.attribute})});default:return e}}},64240:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,"\n.msgapi #mapstore-layer-settings {\n    min-width: 400px;\n}\n\n.msgapi .portal-dialog {\n    position: absolute;\n}\n\n@media all and (min-width: 635px) {\n    .msgapi .portal-dialog {\n        left: calc(50% - 315px);\n        top: 100px;\n        max-width: 630px;\n        background-color: #fff;\n    }\n}\n\n@media all and (max-width: 634px) {\n    .msgapi .portal-dialog {\n        width: 100%;\n    }\n}\n",""])},31667:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi .mapstore-filter input::-ms-clear,\n.msgapi .mapstore-filter input::-ms-reveal {\n  display: none;\n}\n",""])},8380:(e,t,r)=>{var o=r(64240);"string"==typeof o&&(o=[[e.id,o,""]]),r(14246)(o,{}),o.locals&&(e.exports=o.locals)},61057:(e,t,r)=>{var o=r(31667);"string"==typeof o&&(o=[[e.id,o,""]]),r(14246)(o,{}),o.locals&&(e.exports=o.locals)},24273:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3woCDCsUqrUEAAAAAQxJREFUOMvN0iFLw1EUBfCf02Q0LGhQQVZekiU/gTAYImpasMi6VVBhwSCsi0kQbIJFsBoMBjHdpKDJMjBaxM3yhCn7z4HF29695xzuue/wxxofNkwp1crl8kKn03kswowVEEvYx25utdCKiO6vAimlKZxh+cfoCo2IeC0USClVcY7Zgo2fsR4Rd1+NUh95CzdDyDCHm4z9LoAueiMcvpexAy0sZgvzBeQnrEXE/SALM3hHFZcDyJd59pFSmh5koY1b1FDHXl61m7+zjpWMaX+RJvoEGjjAKZawncFwjSM0cYidYTlYxQkCGzmt56hgMyIuRkliJZPKWeAlH+9hpChnkUkc52czIt78y/oEtThIARE8NNwAAAAASUVORK5CYII="}}]);