(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7966],{48074:(t,e,i)=>{"use strict";const r=i(88554),o=i(44020),n=i(74851);function s(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function a(t,e){return e.decode?o(t):t}function l(t){return Array.isArray(t)?t.sort():"object"==typeof t?l(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function h(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function u(t){const e=(t=h(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function p(t,e){const i=function(t){let e;switch(t.arrayFormat){case"index":return(t,i,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=i):r[t]=i};case"bracket":return(t,i,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=[i]:r[t]=i};case"comma":return(t,e,i)=>{const r="string"==typeof e&&e.split("").indexOf(",")>-1?e.split(","):e;i[t]=r};default:return(t,e,i)=>{void 0!==i[t]?i[t]=[].concat(i[t],e):i[t]=e}}}(e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},e)),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){let[t,s]=n(e.decode?o.replace(/\+/g," "):o,"=");s=void 0===s?null:a(s,e),i(a(t,e),s,r)}for(const t of Object.keys(r)){const i=r[t];if("object"==typeof i&&null!==i)for(const t of Object.keys(i))i[t]=c(i[t],e);else r[t]=c(i,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const i=r[e];return Boolean(i)&&"object"==typeof i&&!Array.isArray(i)?t[e]=l(i):t[e]=i,t}),Object.create(null))}e.extract=u,e.parse=p,e.stringify=(t,e)=>{if(!t)return"";const i=function(t){switch(t.arrayFormat){case"index":return e=>(i,r)=>{const o=i.length;return void 0===r||t.skipNull&&null===r?i:null===r?[...i,[s(e,t),"[",o,"]"].join("")]:[...i,[s(e,t),"[",s(o,t),"]=",s(r,t)].join("")]};case"bracket":return e=>(i,r)=>void 0===r||t.skipNull&&null===r?i:null===r?[...i,[s(e,t),"[]"].join("")]:[...i,[s(e,t),"[]=",s(r,t)].join("")];case"comma":return e=>(i,r)=>null==r||0===r.length?i:0===i.length?[[s(e,t),"=",s(r,t)].join("")]:[[i,s(r,t)].join(",")];default:return e=>(i,r)=>void 0===r||t.skipNull&&null===r?i:null===r?[...i,s(e,t)]:[...i,[s(e,t),"=",s(r,t)].join("")]}}(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)),r=Object.assign({},t);if(e.skipNull)for(const t of Object.keys(r))void 0!==r[t]&&null!==r[t]||delete r[t];const o=Object.keys(r);return!1!==e.sort&&o.sort(e.sort),o.map((r=>{const o=t[r];return void 0===o?"":null===o?s(r,e):Array.isArray(o)?o.reduce(i(r),[]).join("&"):s(r,e)+"="+s(o,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>({url:h(t).split("?")[0]||"",query:p(u(t),e)})},88554:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},12038:function(t,e,i){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(21903)).getLogger("app-logger");o.setLevel("DEBUG"),e.default=o},55440:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(37153)),n=function(){function t(){}return t.urlify=function(t){return t.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>')},t.coerce=function(e){if(!o.default(e))return e;if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1;if(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(e))return parseFloat(e);if(e.startsWith("["))return JSON.parse(e).map((function(e){return t.coerce(e)}));if(e.startsWith("{")){var i=JSON.parse(e),r={};return Object.keys(i).forEach((function(e){r[e]=t.coerce(i[e])})),r}return e},t.stringDivider=function(e,i,r){var o=0,n=i;if(e.length>i){for(var s=i,a=void 0,l=void 0;s>0&&" "!==e[s]&&"-"!==e[s];)s--;return s>0?(a="-"===e.substring(s,s+1)?e.substring(0,s+1):e.substring(0,s),l=e.substring(s+1),a+r+t.stringDivider(l,i,r)):(a=e.substring(o,n+1)+"-",l=e.substring(n+1),o=n,n+=i,a+r+t.stringDivider(l,i,r))}return e},t.stripHTMLTags=function(t){var e;return DOMParser&&(e=(new DOMParser).parseFromString(t,"text/html").body.textContent||""),e},t}();e.default=n},92212:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(52161)),n=r(i(48074)),s=r(i(31933)),a=r(i(2492)),l=function(){function t(){}return t.read=function(t){return new o.default(t,null,n.default.parse)},t.write=function(t){return t.toString()},t.getBasePath=function(e){var i=t.read(e);return i.protocol+"//"+i.host+i.pathname},t.getQueryParams=function(e){return t.read(e).query},t.getQueryParam=function(e,i){var r=t.getQueryParams(e);return r[Object.keys(r).filter((function(t){return t.toLowerCase()===i.toLowerCase()}))[0]]},t.joinQueryParams=function(t,e,i){var r=s.default(t);return i.forEach((function(t){r[t]&&(r[t]=r[t].split(",").concat(e[t].split(",")).join(","))})),r},t.hasQueryParam=function(e,i){var r=t.getQueryParams(e);return!!Object.keys(r).some((function(t){return t.toLowerCase()===i.toLowerCase()}))},t.createValidGetCapabilitiesRequest=function(e,i,r){void 0===i&&(i="WMS"),void 0===r&&(r="1.3.0");var o=t.getBasePath(e),n=t.getQueryParams(e);return t.hasQueryParam(e,"SERVICE")||(n.SERVICE=i),t.hasQueryParam(e,"REQUEST")||(n.REQUEST="GetCapabilities"),t.hasQueryParam(e,"VERSION")||(n.VERSION=r),o+"?"+t.objectToRequestString(n)},t.bundleOgcRequests=function(e,i,r){void 0===i&&(i=!1),void 0===r&&(r=["LAYERS","QUERY_LAYERS","STYLES"]);var o={};e.forEach((function(e){var i=t.getQueryParams(e),n=t.getBasePath(e);if(o[n]){var s=o[n],a=i;o[n]=t.joinQueryParams(s,a,r)}else o[n]=i}));var n=[];if(i){for(var s=0,a=Object.entries(o);s<a.length;s++){var l=a[s],h=l[0],u=l[1],c=t.read(h);c.set("query",u),n.push(t.write(c))}return n}return o},t.objectToRequestString=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t.isValid=function(t,e){return void 0===e&&(e={require_tld:!1,require_protocol:!0}),a.default(t,e)},t}();e.UrlUtil=l,e.default=l},21903:function(t,e,i){var r,o;!function(n,s){"use strict";void 0===(o="function"==typeof(r=function(){var t=function(){},e="undefined",i=["trace","debug","info","warn","error"];function r(t,e){var i=t[e];if("function"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(e){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function o(i){return"debug"===i&&(i="log"),typeof console!==e&&(void 0!==console[i]?r(console,i):void 0!==console.log?r(console,"log"):t)}function n(e,r){for(var o=0;o<i.length;o++){var n=i[o];this[n]=o<e?t:this.methodFactory(n,e,r)}this.log=this.debug}function s(t,i,r){return function(){typeof console!==e&&(n.call(this,i,r),this[t].apply(this,arguments))}}function a(t,e,i){return o(t)||s.apply(this,arguments)}function l(t,r,o){var s,l=this,h="loglevel";function u(){var t;if(typeof window!==e){try{t=window.localStorage[h]}catch(t){}if(typeof t===e)try{var i=window.document.cookie,r=i.indexOf(encodeURIComponent(h)+"=");-1!==r&&(t=/^([^;]+)/.exec(i.slice(r))[1])}catch(t){}return void 0===l.levels[t]&&(t=void 0),t}}t&&(h+=":"+t),l.name=t,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=o||a,l.getLevel=function(){return s},l.setLevel=function(r,o){if("string"==typeof r&&void 0!==l.levels[r.toUpperCase()]&&(r=l.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(s=r,!1!==o&&function(t){var r=(i[t]||"silent").toUpperCase();if(typeof window!==e){try{return void(window.localStorage[h]=r)}catch(t){}try{window.document.cookie=encodeURIComponent(h)+"="+r+";"}catch(t){}}}(r),n.call(l,r,t),typeof console===e&&r<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(t){u()||l.setLevel(t,!1)},l.enableAll=function(t){l.setLevel(l.levels.TRACE,t)},l.disableAll=function(t){l.setLevel(l.levels.SILENT,t)};var c=u();null==c&&(c=null==r?"WARN":r),l.setLevel(c,!1)}var h=new l,u={};h.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=u[t];return e||(e=u[t]=new l(t,h.getLevel(),h.methodFactory)),e};var c=typeof window!==e?window.log:void 0;return h.noConflict=function(){return typeof window!==e&&window.log===h&&(window.log=c),h},h.getLoggers=function(){return u},h})?r.call(e,i,e,t):r)||(t.exports=o)}()},52161:(t,e,i)=>{"use strict";var r=i(47418),o=i(57129),n=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function h(t){var e,r=("undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{}).location||{},o={},n=typeof(t=t||r);if("blob:"===t.protocol)o=new c(unescape(t.pathname),{});else if("string"===n)for(e in o=new c(t,{}),l)delete o[e];else if("object"===n){for(e in t)e in l||(o[e]=t[e]);void 0===o.slashes&&(o.slashes=s.test(t.href))}return o}function u(t){var e=n.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function c(t,e,i){if(!(this instanceof c))return new c(t,e,i);var n,s,l,p,f,d,g=a.slice(),y=typeof e,_=this,v=0;for("object"!==y&&"string"!==y&&(i=e,e=null),i&&"function"!=typeof i&&(i=o.parse),e=h(e),n=!(s=u(t||"")).protocol&&!s.slashes,_.slashes=s.slashes||n&&e.slashes,_.protocol=s.protocol||e.protocol||"",t=s.rest,s.slashes||(g[3]=[/(.*)/,"pathname"]);v<g.length;v++)"function"!=typeof(p=g[v])?(l=p[0],d=p[1],l!=l?_[d]=t:"string"==typeof l?~(f=t.indexOf(l))&&("number"==typeof p[2]?(_[d]=t.slice(0,f),t=t.slice(f+p[2])):(_[d]=t.slice(f),t=t.slice(0,f))):(f=l.exec(t))&&(_[d]=f[1],t=t.slice(0,f.index)),_[d]=_[d]||n&&p[3]&&e[d]||"",p[4]&&(_[d]=_[d].toLowerCase())):t=p(t);i&&(_.query=i(_.query)),n&&e.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==e.pathname)&&(_.pathname=function(t,e){for(var i=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=i.length,o=i[r-1],n=!1,s=0;r--;)"."===i[r]?i.splice(r,1):".."===i[r]?(i.splice(r,1),s++):s&&(0===r&&(n=!0),i.splice(r,1),s--);return n&&i.unshift(""),"."!==o&&".."!==o||i.push(""),i.join("/")}(_.pathname,e.pathname)),r(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(p=_.auth.split(":"),_.username=p[0]||"",_.password=p[1]||""),_.origin=_.protocol&&_.host&&"file:"!==_.protocol?_.protocol+"//"+_.host:"null",_.href=_.toString()}c.prototype={set:function(t,e,i){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(i||o.parse)(e)),n[t]=e;break;case"port":n[t]=e,r(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!i;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";n[t]=e.charAt(0)!==s?s+e:e}else n[t]=e;break;default:n[t]=e}for(var l=0;l<a.length;l++){var h=a[l];h[4]&&(n[h[1]]=n[h[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,i=this,r=i.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var n=r+(i.slashes?"//":"");return i.username&&(n+=i.username,i.password&&(n+=":"+i.password),n+="@"),n+=i.host+i.pathname,(e="object"==typeof i.query?t(i.query):i.query)&&(n+="?"!==e.charAt(0)?"?"+e:e),i.hash&&(n+=i.hash),n}},c.extractProtocol=u,c.location=h,c.qs=o,t.exports=c},5762:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(i(37153)),o=s(i(80643)),n=s(i(55440));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,o=!1,n=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);r=!0);}catch(t){o=!0,n=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"getFeatureTypeName",value:function(t){var e=t.getId(),i=e?e.split("."):e;return(0,o.default)(i)?i[0]:void 0}},{key:"getFeatureTypeNameFromGetFeatureInfoUrl",value:function(t){var e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=/query_layers=(.*?)(&|$)/i,o=t.match(r);return o&&o[1]&&(e=decodeURIComponent(o[1]),!i&&e.indexOf(":")>0&&(e=e.split(":")[1])),e}},{key:"resolveAttributeTemplate",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n.v.",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t,e){return e},s="\\{\\{",l="\\}\\}",h="",u=new RegExp(s+"(.*?)"+l,"g"),c=(0,r.default)(e)?e.match(u):null;return c&&c.forEach((function(r){for(var n=0,s=0,l=Object.entries(t.getProperties());s<l.length;s++){var h=a(l[s],2),u=h[0],c=h[1];if(r.slice(2,r.length-2).toLowerCase()===u.toLowerCase()){e=e.replace(r,o(u,c));break}n++}n===Object.keys(t.getProperties()).length&&(e=e.replace(r,i))})),(h=e)||(h=t.getId()),(h=n.default.urlify(h)).replace(/\n/g,"<br>")}}],null&&l(e.prototype,null),i&&l(e,i),t}();e.default=h},54388:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MapUtil=void 0;var r=d(i(78471)),o=d(i(91587)),n=d(i(92663)),s=d(i(31742)),a=d(i(10410)),l=d(i(98090)),h=i(40868),u=d(i(92212)),c=d(i(12038)),p=d(i(5762)),f=d(i(46713));function d(t){return t&&t.__esModule?t:{default:t}}function g(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y,_,v,m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"getInteractionsByName",value:function(t,e){var i=[];return t instanceof r.default?(t.getInteractions().forEach((function(t){t.get("name")===e&&i.push(t)})),i):(c.default.debug("Input parameter map must be from type `ol.Map`."),i)}},{key:"getInteractionsByClass",value:function(t,e){var i=[];return t instanceof r.default?(t.getInteractions().forEach((function(t){t instanceof e&&i.push(t)})),i):(c.default.debug("Input parameter map must be from type `ol.Map`."),i)}},{key:"getResolutionForScale",value:function(t,e){var i=h.METERS_PER_UNIT[e];return parseFloat(t)/(39.37*i*(25.4/.28))}},{key:"getScaleForResolution",value:function(t,e){var i=h.METERS_PER_UNIT[e];return parseFloat(t)*i*39.37*(25.4/.28)}},{key:"getAllLayers",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!(e instanceof r.default||e instanceof s.default))return c.default.error("Input parameter collection must be from type `ol.Map`or `ol.layer.Group`."),[];var o=e.getLayers().getArray(),n=[];return o.forEach((function(e){e instanceof s.default&&t.getAllLayers(e).forEach((function(t){i(t)&&n.push(t)})),i(e)&&n.push(e)})),n}},{key:"getLayerByName",value:function(e,i){return t.getAllLayers(e).filter((function(t){return t.get("name")===i}))[0]}},{key:"getLayerByNameParam",value:function(e,i){var r,o=t.getAllLayers(e),n=!0,s=!1,a=void 0;try{for(var l,h=o[Symbol.iterator]();!(n=(l=h.next()).done);n=!0){var u=l.value;if(u.getSource&&u.getSource().getParams&&u.getSource().getParams().LAYERS===i){r=u;break}}}catch(t){s=!0,a=t}finally{try{n||null==h.return||h.return()}finally{if(s)throw a}}return r}},{key:"getLayerByFeature",value:function(e,i,r){var o,n=p.default.getFeatureTypeName(i),s=!0,a=!1,l=void 0;try{for(var h,u=r[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){var c=h.value,f="".concat(c,":").concat(n),d=t.getLayerByNameParam(e,f);if(d){o=d;break}}}catch(t){a=!0,l=t}finally{try{s||null==u.return||u.return()}finally{if(a)throw l}}return o}},{key:"getLayersByGroup",value:function(e,i){var r=[];return i.getLayers().forEach((function(i){var o;i instanceof s.default?r.push.apply(r,function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(o=t.getLayersByGroup(e,i))||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()):r.push(i)})),r}},{key:"getLayersByProperty",value:function(e,i,r){if(e&&i)return t.getAllLayers(e).filter((function(t){return t.get(i)===r}))}},{key:"getLayerPositionInfo",value:function(e,i){var r=i instanceof s.default?i:i.getLayerGroup(),o=r.getLayers().getArray(),n={};return o.indexOf(e)<0?o.forEach((function(i){i instanceof s.default&&!n.groupLayer&&(n=t.getLayerPositionInfo(e,i))})):(n.position=o.indexOf(e),n.groupLayer=r),n}},{key:"getLegendGraphicUrl",value:function(t,e){if(t){var i=t.getSource();if(t instanceof a.default&&i){var r=i instanceof o.default,s=i instanceof n.default;if(r||s){var l=t.getSource(),h=r?l.getUrls()?l.getUrls()[0]:"":l.getUrl(),p={LAYER:l.getParams().LAYERS,VERSION:"1.3.0",SERVICE:"WMS",REQUEST:"getLegendGraphic",FORMAT:"image/png"},f=u.default.objectToRequestString(Object.assign(p,e));return/\?/.test(h)?"".concat(h,"&").concat(f):"".concat(h,"?").concat(f)}c.default.warn('Source of "'.concat(t.get("name"),'" is currently not supported ')+"by MapUtil.getLegendGraphicUrl.")}else c.default.error("Invalid layer passed to MapUtil.getLegendGraphicUrl.")}else c.default.error("No layer passed to MapUtil.getLegendGraphicUrl.")}},{key:"layerInResolutionRange",value:function(t,e){var i=e&&e.getView(),r=i&&i.getResolution();if(!t||!i||!r)return!1;var o=t.getMinResolution(),n=t.getMaxResolution();return r>=o&&r<n}},{key:"roundScale",value:function(t){var e;return t<100&&(e=Math.round(t,10)),t>=100&&t<1e4&&(e=10*Math.round(t/10)),t>=1e4&&t<1e6&&(e=100*Math.round(t/100)),t>=1e6&&(e=1e3*Math.round(t/1e3)),e}},{key:"getZoomForScale",value:function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";if(Number.isNaN(Number(e)))return 0;if(e<0)return 0;var o=t.getResolutionForScale(e,r),n=i.reduce((function(t,e){return Math.abs(e-o)<Math.abs(t-o)?e:t})),s=(0,f.default)(i,(function(t){return Math.abs(t-n)<=1e-10}));return s}},{key:"zoomToFeatures",value:function(t,e){if(t instanceof r.default){var i=[];if(e.forEach((function(t){null!==t.getGeometry()&&i.push(t.getGeometry())})),i.length>0){var o=new l.default(i);t.getView().fit(o.getExtent())}}}},{key:"isInScaleRange",value:function(t,e){return e>=t.get("minResolution")&&e<t.get("maxResolution")}}],null&&g(e.prototype,null),i&&g(e,i),t}();e.MapUtil=m,v=function(t,e){return m.getAllLayers(t).find((function(t){return e===t.ol_uid.toString()}))},(_="getLayerByOlUid")in(y=m)?Object.defineProperty(y,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[_]=v;var S=m;e.default=S},16314:(t,e,i)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof i.g[r[e]]&&(t[t.length]=r[e]);return t}},74851:t=>{"use strict";t.exports=function(t,e){if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];var i=t.indexOf(e);return-1===i?[t]:[t.slice(0,i),t.slice(i+e.length)]}},44020:t=>{"use strict";var e="%[a-f0-9]{2}",i=new RegExp(e,"gi"),r=new RegExp("("+e+")+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var i=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(i),o(r))}function n(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(i),r=1;r<e.length;r++)e=(t=o(e,r).join("")).match(i);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},i=r.exec(t);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch(t){var o=n(i[0]);o!==i[0]&&(e[i[0]]=o)}i=r.exec(t)}e["%C2"]="�";for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];t=t.replace(new RegExp(l,"g"),e[l])}return t}(t)}}},94079:(t,e,i)=>{"use strict";var r=i(40210)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(t){r=null}t.exports=r},49804:t=>{var e=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function(t,r,o){if("[object Function]"!==i.call(r))throw new TypeError("iterator must be a function");var n=t.length;if(n===+n)for(var s=0;s<n;s++)r.call(o,t[s],s,t);else for(var a in t)e.call(t,a)&&r.call(o,t[a],a,t)}},53772:function(t,e,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(31219),n=i(48039),s=i(98185),a=i(20767),l=i(15565),h=i(9371),u=i(62875),c=i(18663),p=i(2661),f=i(54388),d=i(89539),g=i(57546),y=function(){function t(t){this.title="OpenLayers Style Parser",this.OlStyleConstructor=o.default,this.OlStyleImageConstructor=n.default,this.OlStyleFillConstructor=s.default,this.OlStyleStrokeConstructor=a.default,this.OlStyleTextConstructor=l.default,this.OlStyleCircleConstructor=h.default,this.OlStyleIconConstructor=u.default,this.OlStyleRegularshapeConstructor=c.default,this.isOlParserStyleFct=function(t){return"function"==typeof t},t&&(this.OlStyleConstructor=t.style.Style,this.OlStyleImageConstructor=t.style.Image,this.OlStyleFillConstructor=t.style.Fill,this.OlStyleStrokeConstructor=t.style.Stroke,this.OlStyleTextConstructor=t.style.Text,this.OlStyleCircleConstructor=t.style.Circle,this.OlStyleIconConstructor=t.style.Icon,this.OlStyleRegularshapeConstructor=t.style.RegularShape)}return t.prototype.getPointSymbolizerFromOlStyle=function(t){var e;if(t.getImage()instanceof this.OlStyleCircleConstructor){var i=t.getImage(),r=i.getFill(),o=i.getStroke();e={kind:"Mark",wellKnownName:"Circle",color:r?p.default.getHexColor(r.getColor()):void 0,opacity:r?p.default.getOpacity(r.getColor()):void 0,radius:0!==i.getRadius()?i.getRadius():5,strokeColor:o?o.getColor():void 0,strokeOpacity:o?p.default.getOpacity(o.getColor()):void 0,strokeWidth:o?o.getWidth():void 0}}else if(t.getImage()instanceof this.OlStyleRegularshapeConstructor){var n=t.getImage(),s=(r=n.getFill(),o=n.getStroke(),n.getRadius()),a=n.getRadius2(),l=n.getPoints(),h=n.getAngle(),u={kind:"Mark",color:r?p.default.getHexColor(r.getColor()):void 0,opacity:r?p.default.getOpacity(r.getColor()):void 0,strokeColor:o?o.getColor():void 0,strokeOpacity:o?p.default.getOpacity(o.getColor()):void 0,strokeWidth:o?o.getWidth():void 0,radius:0!==s?s:5,rotate:n.getRotation()/Math.PI*180};switch(l){case 2:switch(h){case 0:u.wellKnownName="shape://vertline";break;case Math.PI/2:u.wellKnownName="shape://horline";break;case Math.PI/4:u.wellKnownName="shape://slash";break;case 2*Math.PI-Math.PI/4:u.wellKnownName="shape://backslash"}break;case 3:switch(h){case 0:u.wellKnownName="Triangle";break;case Math.PI/2:u.wellKnownName="shape://carrow"}break;case 4:d.isNumber(a)?0===n.getAngle()?u.wellKnownName="Cross":u.wellKnownName="X":u.wellKnownName="Square";break;case 5:u.wellKnownName="Star";break;default:throw new Error("Could not parse OlStyle. Only 2, 3, 4 or 5 point regular shapes are allowed")}e=u}else{var c=t.getImage();e={kind:"Icon",image:c.getSrc()?c.getSrc():void 0,opacity:c.getOpacity(),size:0!==c.getScale()?c.getScale():5,rotate:c.getRotation()/Math.PI*180}}return e},t.prototype.getLineSymbolizerFromOlStyle=function(t){var e=t.getStroke();return{kind:"Line",color:e?p.default.getHexColor(e.getColor()):void 0,opacity:e?p.default.getOpacity(e.getColor()):void 0,width:e?e.getWidth():void 0,cap:e?e.getLineCap():"butt",join:e?e.getLineJoin():"miter",dasharray:e?e.getLineDash():void 0,dashOffset:e?e.getLineDashOffset():void 0}},t.prototype.getFillSymbolizerFromOlStyle=function(t){var e=t.getFill(),i=t.getStroke();return{kind:"Fill",color:e?p.default.getHexColor(e.getColor()):void 0,opacity:e?p.default.getOpacity(e.getColor()):void 0,outlineColor:i?i.getColor():void 0,outlineWidth:i?i.getWidth():void 0}},t.prototype.getTextSymbolizerFromOlStyle=function(t){var e,i=t.getText(),r=i.getFill(),o=i.getStroke(),n=i.getOffsetX(),s=i.getOffsetY(),a=i.getFont(),l=i.getRotation(),h=i.getText(),u=1/0,c=void 0;if(a){var f=a.split("px");e=f[0].trim().split(" "),u=parseInt(e[e.length-1],10),c=(2===f.length?f[1]:f[2]).split(",").map((function(t){return t.startsWith(" ")?t.slice(1):t}))}return{kind:"Text",label:h,color:r?p.default.getHexColor(r.getColor()):void 0,size:isFinite(u)?u:void 0,font:c,offset:void 0!==n&&void 0!==s?[n,s]:[0,0],haloColor:o&&o.getColor()?p.default.getHexColor(o.getColor()):void 0,haloWidth:o?o.getWidth():void 0,rotate:void 0!==l?l/Math.PI*180:void 0}},t.prototype.getSymbolizersFromOlStyle=function(t){var e=this,i=[];return t.forEach((function(t){var r;switch(e.getStyleTypeFromOlStyle(t)){case"Point":r=t.getText()?e.getTextSymbolizerFromOlStyle(t):e.getPointSymbolizerFromOlStyle(t);break;case"Line":r=e.getLineSymbolizerFromOlStyle(t);break;case"Fill":r=e.getFillSymbolizerFromOlStyle(t);break;default:throw new Error("Failed to parse SymbolizerKind from OpenLayers Style")}i.push(r)})),i},t.prototype.getRuleFromOlStyle=function(t){return{name:"OL Style Rule 0",symbolizers:Array.isArray(t)?this.getSymbolizersFromOlStyle(t):this.getSymbolizersFromOlStyle([t])}},t.prototype.getStyleTypeFromOlStyle=function(t){var e;if(t.getImage()instanceof this.OlStyleImageConstructor)e="Point";else if(t.getText()instanceof this.OlStyleTextConstructor)e="Point";else if(t.getFill()instanceof this.OlStyleFillConstructor)e="Fill";else{if(!t.getStroke()||t.getFill())throw new Error("StyleType could not be detected");e="Line"}return e},t.prototype.olStyleToGeoStylerStyle=function(t){return{name:"OL Style",rules:[this.getRuleFromOlStyle(t)]}},t.prototype.readStyle=function(t){var e=this;return new Promise((function(i,r){try{e.isOlParserStyleFct(t)?i(t.__geoStylerStyle):i(e.olStyleToGeoStylerStyle(t))}catch(t){r(t)}}))},t.prototype.writeStyle=function(t){var e=this;return new Promise((function(i,r){try{i(e.getOlStyleTypeFromGeoStylerStyle(t))}catch(t){r(t)}}))},t.prototype.getOlStyleTypeFromGeoStylerStyle=function(t){var e=t.rules;if(1===e.length){var i=void 0!==g(t,"rules[0].filter"),r=void 0!==g(t,"rules[0].scaleDenominator.min"),o=void 0!==g(t,"rules[0].scaleDenominator.max"),n=!(!r&&!o),s=t.rules[0].symbolizers.length,a=e[0].symbolizers.some((function(t){return"Text"===t.kind}));return i||n||a?this.geoStylerStyleToOlParserStyleFct(t):1===s?this.geoStylerStyleToOlStyle(t):this.geoStylerStyleToOlStyleArray(t)}return this.geoStylerStyleToOlParserStyleFct(t)},t.prototype.geoStylerStyleToOlStyle=function(t){var e=t.rules[0].symbolizers[0];return this.getOlSymbolizerFromSymbolizer(e)},t.prototype.geoStylerStyleToOlStyleArray=function(t){var e=this,i=t.rules[0],r=[];return i.symbolizers.forEach((function(t){var i=e.getOlSymbolizerFromSymbolizer(t);r.push(i)})),r},t.prototype.geoStylerStyleToOlParserStyleFct=function(t){var e=this,i=t.rules,r=function(t,r){var o=[],n=f.default.getScaleForResolution(r,"m");return i.forEach((function(i){var s=g(i,"scaleDenominator.min"),a=g(i,"scaleDenominator.max"),l=!0;void 0===s&&void 0===a||(void 0!==s&&n<s&&(l=!1),void 0!==a&&n>=a&&(l=!1));var h=!1;if(i.filter)try{h=e.geoStylerFilterToOlParserFilter(t,i.filter)}catch(t){h=!1}else h=!0;l&&h&&i.symbolizers.forEach((function(i){var n=e.getOlSymbolizerFromSymbolizer(i);if("function"!=typeof n)o.push(n);else{var s=n(t,r);o.push(s)}}))})),o};return r.__geoStylerStyle=t,r},t.prototype.geoStylerFilterToOlParserFilter=function(t,e){var i=this,r=!0,o=!1;({"&&":!0,"||":!0,"!":!0})[e[0]]&&(o=!0);try{if(o)switch(e[0]){case"&&":var n=!0,s=e.slice(1);s.forEach((function(e){i.geoStylerFilterToOlParserFilter(t,e)||(n=!1)})),r=n;break;case"||":n=!1,(s=e.slice(1)).forEach((function(e){i.geoStylerFilterToOlParserFilter(t,e)&&(n=!0)})),r=n;break;case"!":r=!this.geoStylerFilterToOlParserFilter(t,e[1]);break;default:throw new Error("Cannot parse Filter. Unknown combination or negation operator.")}else{var a=t.get(e[1]);switch(e[0]){case"==":r=""+a==""+e[2];break;case"*=":"string"==typeof e[2]&&"string"==typeof a&&(r=!(e[2].length>a.length)&&-1!==a.indexOf(e[2]));break;case"!=":r=""+a!=""+e[2];break;case"<":r=parseFloat(a)<parseFloat(e[2]);break;case"<=":r=parseFloat(a)<=parseFloat(e[2]);break;case">":r=parseFloat(a)>parseFloat(e[2]);break;case">=":r=parseFloat(a)>=parseFloat(e[2]);break;default:throw new Error("Cannot parse Filter. Unknown comparison operator.")}}}catch(t){throw new Error("Cannot parse Filter. Invalid structure.")}return r},t.prototype.getOlSymbolizerFromSymbolizer=function(t){var e;switch(t.kind){case"Mark":e=this.getOlPointSymbolizerFromMarkSymbolizer(t);break;case"Icon":e=this.getOlIconSymbolizerFromIconSymbolizer(t);break;case"Text":e=this.getOlTextSymbolizerFromTextSymbolizer(t);break;case"Line":e=this.getOlLineSymbolizerFromLineSymbolizer(t);break;case"Fill":e=this.getOlPolygonSymbolizerFromFillSymbolizer(t);break;default:var i=new this.OlStyleFillConstructor({color:"rgba(255,255,255,0.4)"}),r=new this.OlStyleStrokeConstructor({color:"#3399CC",width:1.25});e=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor({fill:i,stroke:r,radius:5}),fill:i,stroke:r})}return e},t.prototype.getOlPointSymbolizerFromMarkSymbolizer=function(t){var e;(t.strokeColor||void 0!==t.strokeWidth)&&(e=new this.OlStyleStrokeConstructor({color:t.strokeColor&&void 0!==t.strokeOpacity?p.default.getRgbaColor(t.strokeColor,t.strokeOpacity):t.strokeColor,width:t.strokeWidth}));var i,r={fill:new this.OlStyleFillConstructor({color:t.color&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}),opacity:t.opacity||1,radius:t.radius||5,rotation:t.rotate?t.rotate*Math.PI/180:void 0,stroke:e};switch(t.wellKnownName){case"shape://dot":case"Circle":i=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor(r)});break;case"Square":r.points=4,r.angle=45*Math.PI/180,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"Triangle":r.points=3,r.angle=0,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"Star":r.points=5,r.radius2=r.radius/2.5,r.angle=0,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"shape://plus":case"Cross":r.points=4,r.radius2=0,r.angle=0,void 0===r.stroke&&(r.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"shape://times":case"X":r.points=4,r.radius2=0,r.angle=45*Math.PI/180,void 0===r.stroke&&(r.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"shape://backslash":r.points=2,r.angle=2*Math.PI-Math.PI/4,void 0===r.stroke&&(r.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"shape://horline":r.points=2,r.angle=Math.PI/2,void 0===r.stroke&&(r.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"shape://oarrow":case"shape://carrow":r.points=3,r.angle=Math.PI/2,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"shape://slash":r.points=2,r.angle=Math.PI/4,void 0===r.stroke&&(r.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;case"shape://vertline":r.points=2,r.angle=0,void 0===r.stroke&&(r.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(r)});break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return i},t.prototype.getOlIconSymbolizerFromIconSymbolizer=function(t){return new this.OlStyleConstructor({image:new this.OlStyleIconConstructor({src:t.image,crossOrigin:"anonymous",opacity:t.opacity,scale:t.size||1,rotation:t.rotate?t.rotate*Math.PI/180:void 0})})},t.prototype.getOlLineSymbolizerFromLineSymbolizer=function(t){return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color,width:t.width,lineCap:t.cap,lineJoin:t.join,lineDash:t.dasharray,lineDashOffset:t.dashOffset})})},t.prototype.getOlPolygonSymbolizerFromFillSymbolizer=function(t){var e=t.color?new this.OlStyleFillConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}):null;return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:t.outlineColor,width:t.outlineWidth}),fill:e})},t.prototype.getOlTextSymbolizerFromTextSymbolizer=function(t){var e=this,i={font:p.default.getTextFont(t),fill:new this.OlStyleFillConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}),stroke:new this.OlStyleStrokeConstructor({color:t.haloColor&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.haloColor,t.opacity):t.haloColor,width:t.haloWidth?t.haloWidth:0}),offsetX:t.offset?t.offset[0]:0,offsetY:t.offset?t.offset[1]:0,rotation:t.rotate?t.rotate*Math.PI/180:void 0},o=new RegExp("\\{\\{.*?\\}\\}","g");return t.label&&t.label.match(o)?function(o,n){var s=new e.OlStyleTextConstructor(r({text:p.default.resolveAttributeTemplate(o,t.label,"")},i));return new e.OlStyleConstructor({text:s})}:new this.OlStyleConstructor({text:new this.OlStyleTextConstructor(r({text:t.label},i))})},t.title="OpenLayers Style Parser",t}();e.OlStyleParser=y,e.default=y},2661:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getRgbaColor=function(t,e){return t.startsWith("rgba(")?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)?(e<0&&(e=1),"rgba("+parseInt(t.slice(1,3),16)+", "+parseInt(t.slice(3,5),16)+", "+parseInt(t.slice(5,7),16)+", "+e+")"):void 0},t.splitRgbaColor=function(t){var e=t.substring(t.indexOf("(")+1,t.lastIndexOf(")")).split(/,\s*/);return[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseFloat(e[3])]},t.getHexColor=function(e){return e.startsWith("#")?e:e.startsWith("rgb")?"#"+t.splitRgbaColor(e).map((function(t,e){var i=t.toString(16);return e<3?1===i.length?"0"+i:i:""})).join(""):void 0},t.getOpacity=function(e){if(e.startsWith("rgba(")){var i=t.splitRgbaColor(e);return 4===i.length?i[3]:void 0}},t.getTextFont=function(t){return"Normal "+t.size+"px "+t.font},t.resolveAttributeTemplate=function(t,e,i,r){void 0===i&&(i="n.v."),void 0===r&&(r=function(t,e){return e});var o=new RegExp("\\{\\{(.*?)\\}\\}","g"),n=e.match(o);return n&&n.forEach((function(o){for(var n=0,s=0,a=Object.entries(t.getProperties());s<a.length;s++){var l=a[s],h=l[0],u=l[1];if(o.slice(2,o.length-2).toLowerCase()===h.toLowerCase()){e=e.replace(o,r(h,u));break}n++}n===Object.keys(t.getProperties()).length&&(e=e.replace(o,i))})),e},t}();e.default=i},35717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}},48662:t=>{"use strict";var e,i=Object.prototype.toString,r=Function.prototype.toString,o=/^\s*(?:function)?\*/,n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(o.test(r.call(t)))return!0;if(!n)return"[object GeneratorFunction]"===i.call(t);if(!s)return!1;if(void 0===e){var a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(t){}}();e=!!a&&s(a)}return s(t)===e}},85692:(t,e,i)=>{"use strict";var r=i(49804),o=i(16314),n=i(21924),s=n("Object.prototype.toString"),a=i(41405)()&&"symbol"==typeof Symbol.toStringTag,l=o(),h=n("Array.prototype.indexOf",!0)||function(t,e){for(var i=0;i<t.length;i+=1)if(t[i]===e)return i;return-1},u=n("String.prototype.slice"),c={},p=i(94079),f=Object.getPrototypeOf;a&&p&&f&&r(l,(function(t){var e=new i.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=f(e),o=p(r,Symbol.toStringTag);if(!o){var n=f(r);o=p(n,Symbol.toStringTag)}c[t]=o.get})),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a){var e=u(s(t),8,-1);return h(l,e)>-1}return!!p&&function(t){var e=!1;return r(c,(function(i,r){if(!e)try{e=i.call(t)===r}catch(t){}})),e}(t)}},29217:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(49179),o=i(66575),n=i(73381);const s=function(t){function e(e,i,r,o){t.call(this),this.extent=e,this.pixelRatio_=r,this.resolution=i,this.state=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(n.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,r.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,r.O3)()},e}(o.Z)},78471:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>Je});var r=i(49179),o=i(78426),n=i(19629),s=i(32062),a=i(91358),l=i(30006),h=i(86968),u=i(65637),c=i(66575);const p="pointermove",f="pointerdown";var d=i(14303),g=i(34681),y=["","unavailable","touch","pen","mouse"];function _(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function v(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function m(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function S(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function E(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function b(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function O(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function T(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}const R=function(t){function e(e){var i={MSPointerDown:_,MSPointerMove:v,MSPointerUp:m,MSPointerOut:S,MSPointerOver:E,MSPointerCancel:b,MSGotPointerCapture:T,MSLostPointerCapture:O};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=y[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(g.Z);function x(t){this.dispatcher.fireNativeEvent(t)}function w(t){this.dispatcher.fireNativeEvent(t)}function C(t){this.dispatcher.fireNativeEvent(t)}function I(t){this.dispatcher.fireNativeEvent(t)}function L(t){this.dispatcher.fireNativeEvent(t)}function k(t){this.dispatcher.fireNativeEvent(t)}function A(t){this.dispatcher.fireNativeEvent(t)}function F(t){this.dispatcher.fireNativeEvent(t)}const P=function(t){function e(e){var i={pointerdown:x,pointermove:w,pointerup:C,pointerout:I,pointerover:L,pointercancel:k,gotpointercapture:F,lostpointercapture:A};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g.Z);var Z=i(9520),M=!1,N=function(t){function e(e,i,r){t.call(this,e),this.originalEvent=i;var o=r||{};this.buttons=function(t){var e;if(t.buttons||M)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(o),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(o,this.buttons),this.bubbles="bubbles"in o&&o.bubbles,this.cancelable="cancelable"in o&&o.cancelable,this.view="view"in o?o.view:null,this.detail="detail"in o?o.detail:null,this.screenX="screenX"in o?o.screenX:0,this.screenY="screenY"in o?o.screenY:0,this.clientX="clientX"in o?o.clientX:0,this.clientY="clientY"in o?o.clientY:0,this.ctrlKey="ctrlKey"in o&&o.ctrlKey,this.altKey="altKey"in o&&o.altKey,this.shiftKey="shiftKey"in o&&o.shiftKey,this.metaKey="metaKey"in o&&o.metaKey,this.button="button"in o?o.button:0,this.relatedTarget="relatedTarget"in o?o.relatedTarget:null,this.pointerId="pointerId"in o?o.pointerId:0,this.width="width"in o?o.width:0,this.height="height"in o?o.height:0,this.tiltX="tiltX"in o?o.tiltX:0,this.tiltY="tiltY"in o?o.tiltY:0,this.pointerType="pointerType"in o?o.pointerType:"",this.hwTimestamp="hwTimestamp"in o?o.hwTimestamp:0,this.isPrimary="isPrimary"in o&&o.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Z.ZP);!function(){try{var t=new MouseEvent("click",{buttons:1});M=1===t.buttons}catch(t){}}();const D=N;var j=i(79682);function G(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function z(t){this.processTouches_(t,this.moveOverOut_)}function U(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function K(t){this.processTouches_(t,this.cancelOut_)}const W=function(t){function e(e,i){var r={touchstart:G,touchmove:z,touchend:U,touchcancel:K};t.call(this,e,r),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&d.yA.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType="touch",i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),r=i.length;function o(){t.preventDefault()}for(var n=0;n<r;++n){var s=this.touchToPointer_(t,i[n]);s.preventDefault=o,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,r=0;r<i;r++)if(t[r].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),r=i.length;if(r>=e.length){for(var o=[],n=0;n<r;++n){var s=Number(i[n]),a=this.pointerMap[s];s==d.yA||this.findTouch_(e,s-2)||o.push(a.out)}for(var l=0;l<o.length;++l)this.cancelOut_(t,o[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,r=this.pointerMap[i.pointerId];if(r){var o=r.out,n=r.outTarget;this.dispatcher.move(i,t),o&&n!==i.target&&(o.relatedTarget=i.target,i.relatedTarget=n,o.target=n,i.target?(this.dispatcher.leaveOut(o,t),this.dispatcher.enterOver(i,t)):(i.target=n,i.relatedTarget=null,this.cancelOut_(t,i))),r.out=i,r.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var r=[i.clientX,i.clientY];e.push(r),setTimeout((function(){(0,j.Od)(e,r)}),this.dedupTimeout_)}},e}(g.Z);var B=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];const V=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(a.GQ)this.registerSource("native",new P(this));else if(a.NL)this.registerSource("ms",new R(this));else{var t=new d.ZP(this);this.registerSource("mouse",t),a.Qm&&this.registerSource("touch",new W(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,r=i.getEvents();r&&(r.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){(0,u.oL)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){(0,u.Ev)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},r=0,o=B.length;r<o;r++){var n=B[r][0];i[n]=t[n]||e[n]||B[r][1]}return i},e.prototype.down=function(t,e){this.fireEvent(f,t,e)},e.prototype.move=function(t,e){this.fireEvent(p,t,e)},e.prototype.up=function(t,e){this.fireEvent("pointerup",t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent("pointerenter",t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent("pointerleave",t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent("pointerover",t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent("pointerout",t,e)},e.prototype.cancel=function(t,e){this.fireEvent("pointercancel",t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new D(t,i,e)},e.prototype.fireEvent=function(t,e,i){var r=this.makeEvent(t,e,i);this.dispatchEvent(r)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,(0,d.R)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(c.Z),Y=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*a.MP:a.MP,this.down_=null;var r=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new V(r),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,u.oL)(this.pointerEventHandler_,f,this.handlePointerDown_,this),this.relayedListenerKey_=(0,u.oL)(this.pointerEventHandler_,p,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new h.Z(l.Z.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h.Z(l.Z.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new h.Z(l.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==l.Z.POINTERUP||e.type==l.Z.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==l.Z.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new h.Z(l.Z.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(u.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new h.Z(l.Z.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new V(document),this.dragListenerKeys_.push((0,u.oL)(this.documentPointerEventHandler_,l.Z.POINTERMOVE,this.handlePointerMove_,this),(0,u.oL)(this.documentPointerEventHandler_,l.Z.POINTERUP,this.handlePointerUp_,this),(0,u.oL)(this.pointerEventHandler_,l.Z.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new h.Z(l.Z.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h.Z(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,u.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,u.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(u.bN),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(c.Z);var H=i(10255),X=i(40188),q=i(39850),J=i(97208),Q=i(58493),$=i(13910),tt=i(59900),et=i(73381),it=i(38906),rt=i(13580),ot=1/0,nt=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};nt.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,rt.ZH)(this.queuedElements_)},nt.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(i);return delete this.queuedElements_[r],i},nt.prototype.enqueue=function(t){(0,it.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=ot&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},nt.prototype.getCount=function(){return this.elements_.length},nt.prototype.getLeftChildIndex_=function(t){return 2*t+1},nt.prototype.getRightChildIndex_=function(t){return 2*t+2},nt.prototype.getParentIndex_=function(t){return t-1>>1},nt.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},nt.prototype.isEmpty=function(){return 0===this.elements_.length},nt.prototype.isKeyQueued=function(t){return t in this.queuedElements_},nt.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},nt.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,r=e.length,o=e[t],n=i[t],s=t;t<r>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),h=l<r&&i[l]<i[a]?l:a;e[t]=e[h],i[t]=i[h],t=h}e[t]=o,i[t]=n,this.siftDown_(s,t)},nt.prototype.siftDown_=function(t,e){for(var i=this.elements_,r=this.priorities_,o=i[e],n=r[e];e>t;){var s=this.getParentIndex_(e);if(!(r[s]>n))break;i[e]=i[s],r[e]=r[s],e=s}i[e]=o,r[e]=n},nt.prototype.reprioritize=function(){var t,e,i,r=this.priorityFunction_,o=this.elements_,n=this.priorities_,s=0,a=o.length;for(e=0;e<a;++e)(i=r(t=o[e]))==ot?delete this.queuedElements_[this.keyFunction_(t)]:(n[s]=i,o[s++]=t);o.length=s,n.length=s,this.heapify_()};const st=function(t){function e(e,i){t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var r=e[0];(0,u.oL)(r,et.Z.CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===tt.Z.LOADED||i===tt.Z.ERROR||i===tt.Z.EMPTY||i===tt.Z.ABORT){(0,u.Ev)(e,et.Z.CHANGE,this.handleTileChange,this);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,r,o,n=0,s=!1;this.tilesLoading_<t&&n<e&&this.getCount()>0;)o=(r=this.dequeue()[0]).getKey(),(i=r.getState())===tt.Z.ABORT?s=!0:i!==tt.Z.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++n,r.load());0===n&&s&&this.tileChangeCallback_()},e}(nt);var at=i(76773),lt=i(6908),ht=i(85386),ut=i(21915),ct=i(64011),pt=i(31742),ft=i(50596),dt=i(82359);const gt=function(t){function e(e){t.call(this);var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,r,n,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new pt.default({layers:t.layers});return s[q.Z.LAYERGROUP]=a,s[q.Z.TARGET]=t.target,s[q.Z.VIEW]=void 0!==t.view?t.view:new at.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?i=new o.Z(t.controls.slice()):((0,it.h)("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new o.Z(t.interactions.slice()):((0,it.h)("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?n=new o.Z(t.overlays.slice()):((0,it.h)("function"==typeof t.overlays.getArray,49),n=t.overlays):n=new o.Z,{controls:i,interactions:r,keyboardEventTarget:e,overlays:n,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:a.MP,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,dt.Ue)(),this.pixelToCoordinateTransform_=(0,dt.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(a.Qm?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var r=[et.Z.CLICK,et.Z.DBLCLICK,et.Z.MOUSEDOWN,et.Z.TOUCHSTART,et.Z.MSPOINTERDOWN,l.Z.POINTERDOWN,et.Z.MOUSEWHEEL,et.Z.WHEEL],s=0,h=r.length;s<h;++s)(0,u.oL)(this.overlayContainerStopEvent_,r[s],Z.UW);for(var c in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new Y(this,e.moveTolerance),l.Z)(0,u.oL)(this.mapBrowserEventHandler_,l.Z[c],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,(0,u.oL)(this.viewport_,et.Z.CONTEXTMENU,this.handleBrowserEvent,this),(0,u.oL)(this.viewport_,et.Z.WHEEL,this.handleBrowserEvent,this),(0,u.oL)(this.viewport_,et.Z.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new o.Z,this.interactions=i.interactions||new o.Z,this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new st(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,u.oL)(this,(0,Q.v_)(q.Z.LAYERGROUP),this.handleLayerGroupChanged_,this),(0,u.oL)(this,(0,Q.v_)(q.Z.VIEW),this.handleViewChanged_,this),(0,u.oL)(this,(0,Q.v_)(q.Z.SIZE),this.handleSizeChanged_,this),(0,u.oL)(this,(0,Q.v_)(q.Z.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),(0,u.oL)(this.controls,n.Z.ADD,(function(t){t.element.setMap(this)}),this),(0,u.oL)(this.controls,n.Z.REMOVE,(function(t){t.element.setMap(null)}),this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),(0,u.oL)(this.interactions,n.Z.ADD,(function(t){t.element.setMap(this)}),this),(0,u.oL)(this.interactions,n.Z.REMOVE,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,u.oL)(this.overlays_,n.Z.ADD,(function(t){this.addOverlayInternal_(t.element)}),this),(0,u.oL)(this.overlays_,n.Z.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,u.Ev)(this.viewport_,et.Z.CONTEXTMENU,this.handleBrowserEvent,this),(0,u.Ev)(this.viewport_,et.Z.WHEEL,this.handleBrowserEvent,this),(0,u.Ev)(this.viewport_,et.Z.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(et.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var r=this.getCoordinateFromPixel(t),o=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,n=void 0!==i.layerFilter?i.layerFilter:ct.uX;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,e,null,n,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,(function(t){i||(i=[]),i.push(t)}),e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var r=i||{},o=void 0!==r.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,n=r.layerFilter||ct.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,null,n,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:ct.uX,o=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(q.Z.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?(0,dt.nn)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(q.Z.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?(0,dt.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(q.Z.SIZE)},e.prototype.getView=function(){return this.get(q.Z.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,r){var o=this.frameState_;if(!o||!(e in o.wantedTiles))return ot;if(!o.wantedTiles[e][t.getKey()])return ot;var n=i[0]-o.focus[0],s=i[1]-o.focus[1];return 65536*Math.log(r)+Math.sqrt(n*n+s*s)/r},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,r=new s.Z(i,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.getActive()&&!r.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,r=i;if(t){var o=t.viewHints;o[lt.Z.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,r=2),o[lt.Z.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,r=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,r))}!t||!this.hasListener(J.Z.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||yt(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(J.Z.RENDERCOMPLETE,t);for(var n=this.postRenderFunctions_,s=0,a=n.length;s<a;++s)n[s](this,t);n.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)(0,u.bN)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,u.oL)(r,et.Z.KEYDOWN,this.handleBrowserEvent,this),(0,u.oL)(r,et.Z.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(et.Z.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,ht.ZF)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(et.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,u.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,u.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,r.sq)(t)),this.viewPropertyListenerKey_=(0,u.oL)(t,$.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,u.oL)(t,et.Z.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(u.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,u.oL)(t,$.Z.PROPERTYCHANGE,this.render,this),(0,u.oL)(t,et.Z.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),o=this.getView(),n=(0,ut.lJ)(),s=this.frameState_,a=null;if(void 0!==i&&(0,ft.py)(i)&&o&&o.isDef()){for(var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),u={},c=0,p=h.length;c<p;++c)u[(0,r.sq)(h[c].layer)]=h[c];e=o.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:n,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:u,layerStatesArray:h,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:l,wantedTiles:{}}}a&&(a.extent=(0,ut.p8)(e.center,e.resolution,e.rotation,a.size,n)),this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s&&(!this.previousExtent_||!(0,ut.xb)(this.previousExtent_)&&!(0,ut.fS)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new H.Z(X.Z.MOVESTART,this,s)),this.previousExtent_=(0,ut.YN)(this.previousExtent_)),this.previousExtent_&&!a.viewHints[lt.Z.ANIMATING]&&!a.viewHints[lt.Z.INTERACTING]&&!(0,ut.fS)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new H.Z(X.Z.MOVEEND,this,a)),(0,ut.d9)(a.extent,this.previousExtent_))),this.dispatchEvent(new H.Z(X.Z.POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(q.Z.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(q.Z.SIZE,t)},e.prototype.setTarget=function(t){this.set(q.Z.TARGET,t)},e.prototype.setView=function(t){this.set(q.Z.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,r.sq)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,r.sq)(t)],this.render()},e}(Q.ZP);function yt(t){for(var e=0,i=t.length;e<i;++e){var r=t[e];if("function"==typeof r.getLayers)return yt(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}var _t=i(70878),vt=i(37566),mt=i(35211),St=i(29217),Et=i(11256);const bt=function(t){function e(e,i,r,o,n){var s=void 0!==n?Et.Z.IDLE:Et.Z.LOADED;t.call(this,e,i,r,s),this.loader_=void 0!==n?n:null,this.canvas_=o,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Et.Z.ERROR):this.state=Et.Z.LOADED,this.changed()},e.prototype.load=function(){this.state==Et.Z.IDLE&&(this.state=Et.Z.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(St.Z);var Ot=i(66901),Tt=i(56510),Rt=i(67644),xt=i(77701);const wt=function(t){function e(e,i,r,o,n){t.call(this,e),this.vectorContext=i,this.frameState=r,this.context=o,this.glContext=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Z.ZP);var Ct=i(68509),It=i(45120),Lt=i(28795),kt=i(32538),At=i(17882),Ft=function(){};Ft.prototype.drawCustom=function(t,e,i){},Ft.prototype.drawGeometry=function(t){},Ft.prototype.setStyle=function(t){},Ft.prototype.drawCircle=function(t,e){},Ft.prototype.drawFeature=function(t,e){},Ft.prototype.drawGeometryCollection=function(t,e){},Ft.prototype.drawLineString=function(t,e){},Ft.prototype.drawMultiLineString=function(t,e){},Ft.prototype.drawMultiPoint=function(t,e){},Ft.prototype.drawMultiPolygon=function(t,e){},Ft.prototype.drawPoint=function(t,e){},Ft.prototype.drawPolygon=function(t,e){},Ft.prototype.drawText=function(t,e){},Ft.prototype.setFillStrokeStyle=function(t,e){},Ft.prototype.setImageStyle=function(t,e){},Ft.prototype.setTextStyle=function(t,e){};const Pt=Ft,Zt=function(t){function e(e,i,r,o,n){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=r,this.transform_=o,this.viewRotation_=n,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,dt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,r){if(this.image_){var o=(0,At.vT)(t,e,i,2,this.transform_,this.pixelCoordinates_),n=this.context_,s=this.tmpLocalTransform_,a=n.globalAlpha;1!=this.imageOpacity_&&(n.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var h=0,u=o.length;h<u;h+=2){var c=o[h]-this.imageAnchorX_,p=o[h+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var f=c+this.imageAnchorX_,d=p+this.imageAnchorY_;(0,dt.qC)(s,f,d,this.imageScale_,this.imageScale_,l,-f,-d),n.setTransform.apply(n,s)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||n.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(n.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=(0,At.vT)(t,e,i,r,this.transform_,this.pixelCoordinates_),n=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=r){var a=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var h=(0,dt.qC)(this.tmpLocalTransform_,a,l,this.textScale_,this.textScale_,s,-a,-l);n.setTransform.apply(n,h)}this.textStrokeState_&&n.strokeText(this.text_,a,l),this.textFillState_&&n.fillText(this.text_,a,l)}0===s&&1==this.textScale_||n.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,r,o){var n=this.context_,s=(0,At.vT)(t,e,i,r,this.transform_,this.pixelCoordinates_);n.moveTo(s[0],s[1]);var a=s.length;o&&(a-=2);for(var l=2;l<a;l+=2)n.lineTo(s[l],s[l+1]);return o&&n.closePath(),i},e.prototype.drawRings_=function(t,e,i,r){for(var o=0,n=i.length;o<n;++o)e=this.moveToLineTo_(t,e,i[o],r,!0);return e},e.prototype.drawCircle=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,kt.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],r=e[3]-e[1],o=Math.sqrt(i*i+r*r),n=this.context_;n.beginPath(),n.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Lt.Z.POINT:this.drawPoint(t);break;case Lt.Z.LINE_STRING:this.drawLineString(t);break;case Lt.Z.POLYGON:this.drawPolygon(t);break;case Lt.Z.MULTI_POINT:this.drawMultiPoint(t);break;case Lt.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Lt.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Lt.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Lt.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,ut.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,r=e.length;i<r;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,ut.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=t.getFlatCoordinates(),o=0,n=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,l=n.length;a<l;++a)o=this.moveToLineTo_(r,o,n[a],s,!1);i.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),n=t.getStride();e.beginPath();for(var s=0,a=o.length;s<a;++s){var l=o[s];r=this.drawRings_(i,r,l,n)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),a.XQ&&((0,j.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,a.XQ&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:Ct.PH;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=r&&(i.textAlign=e.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,It.y)(i||Ct.bL)}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),n=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:Ct.mb,lineDash:n||Ct.X9,lineDashOffset:s||Ct.He,lineJoin:void 0!==a?a:Ct.rc,lineWidth:this.pixelRatio_*(void 0!==l?l:Ct.yC),miterLimit:void 0!==h?h:Ct.V4,strokeStyle:(0,It.y)(r||Ct.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),r=t.getOrigin(),o=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=o[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=o[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,It.y)(i||Ct.bL)}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),n=r.getLineCap(),s=r.getLineDash(),a=r.getLineDashOffset(),l=r.getLineJoin(),h=r.getWidth(),u=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==n?n:Ct.mb,lineDash:s||Ct.X9,lineDashOffset:a||Ct.He,lineJoin:void 0!==l?l:Ct.rc,lineWidth:void 0!==h?h:Ct.yC,miterLimit:void 0!==u?u:Ct.V4,strokeStyle:(0,It.y)(o||Ct.Tx)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),y=t.getScale(),_=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:Ct.Df,textAlign:void 0!==v?v:Ct.PH,textBaseline:void 0!==m?m:Ct.ru},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(Pt);var Mt=i(80967),Nt=i(16250);function Dt(t,e){Nt.c.expire()}function jt(t,e){return t.zIndex-e.zIndex}const Gt=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){(0,r.O3)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;(0,dt.qC)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,dt.U_)((0,dt.lk)(r,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,n,s,a){var l,h=e.viewState,u=h.resolution;function c(t,i){var s=e.layerStates[(0,r.sq)(i)].managed;if(!((0,r.sq)(t)in e.skippedFeatureUids)||s)return o.call(n,t,s?i:null)}var p=h.projection,f=t;if(p.canWrapX()){var d=p.getExtent(),g=(0,ut.dz)(d),y=t[0];(y<d[0]||y>d[2])&&(f=[y+g*Math.ceil((d[0]-y)/g),t[1]])}var _,v=e.layerStatesArray;for(_=v.length-1;_>=0;--_){var m=v[_],S=m.layer;if((0,xt.l)(m,u)&&s.call(a,S)){var E=this.getLayerRenderer(S),b=S.getSource();if(b&&(l=E.forEachFeatureAtCoordinate(b.getWrapX()?f:t,e,i,c)),l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,i,o,n,s,a){return(0,r.O3)()},e.prototype.hasFeatureAtCoordinate=function(t,e,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,ct.uX,this,r,o)},e.prototype.getLayerRenderer=function(t){var e=(0,r.sq)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,o=0,n=this.layerRendererConstructors_.length;o<n;++o){var s=this.layerRendererConstructors_[o];if(s.handles(t)){i=s.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=(0,u.oL)(i,et.Z.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],(0,u.bN)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.renderFrame=function(t){(0,r.O3)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Dt)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(Mt.Z);var zt=i(82418),Ut=[];const Kt=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=(0,ht.E4)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Rt.XV,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,dt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),r=this.context_;if(i.hasListener(t)){var o=e.extent,n=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),l=new Zt(r,n,o,a,s),h=new wt(t,l,e,r,null);i.dispatchEvent(h)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,r=this.canvas_.height/2,o=t.pixelRatio/e.resolution,n=-o,s=-e.rotation,a=-e.center[0],l=-e.center[1];return(0,dt.qC)(this.transform_,i,r,o,n,s,a,l)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,r=Math.round(t.size[0]*i),o=Math.round(t.size[1]*i);this.canvas_.width!=r||this.canvas_.height!=o?(this.canvas_.width=r,this.canvas_.height=o):e.clearRect(0,0,r,o);var n=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(J.Z.PRECOMPOSE,t);var s=t.layerStatesArray;(0,j.XV)(s,jt),n&&(e.save(),(0,Ct.qs)(e,n,r/2,o/2));var a,l,h=t.viewState.resolution;for(a=0,l=s.length;a<l;++a){var u=s[a],c=u.layer,p=this.getLayerRenderer(c);(0,xt.l)(u,h)&&u.sourceState==zt.Z.READY&&p.prepareFrame(t,u)&&p.composeFrame(t,u,e)}n&&e.restore(),this.dispatchRenderEvent(J.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,r,o,n,s){var a,l,h=e.viewState.resolution,u=e.layerStatesArray,c=u.length,p=(0,dt.nn)(e.pixelToCoordinateTransform,t.slice());for(l=c-1;l>=0;--l){var f=u[l],d=f.layer;if((0,xt.l)(f,h)&&n.call(s,d)&&(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(p,e,i,r,o)))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,r=e.length;i<r;++i){var o=e[i];(0,j.q9)(Ut,o)||Ut.push(o)}},e}(Gt);var Wt=i(90728);const Bt=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=(0,dt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var r=e.pixelRatio,o=e.size[0]*r,n=e.size[1]*r,s=e.viewState.rotation,a=(0,ut.rL)(i),l=(0,ut.Xv)(i),h=(0,ut.w$)(i),u=(0,ut.hC)(i);(0,dt.nn)(e.coordinateToPixelTransform,a),(0,dt.nn)(e.coordinateToPixelTransform,l),(0,dt.nn)(e.coordinateToPixelTransform,h),(0,dt.nn)(e.coordinateToPixelTransform,u),t.save(),(0,Ct.qs)(t,-s,o/2,n/2),t.beginPath(),t.moveTo(a[0]*r,a[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(h[0]*r,h[1]*r),t.lineTo(u[0]*r,u[1]*r),t.clip(),(0,Ct.qs)(t,s,o/2,n/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,r){var o=this.getLayer();if(o.hasListener(t)){var n=i.size[0]*i.pixelRatio,s=i.size[1]*i.pixelRatio,a=i.viewState.rotation;(0,Ct.qs)(e,-a,n/2,s/2);var l=void 0!==r?r:this.getTransform(i,0),h=new Zt(e,i.pixelRatio,i.extent,l,i.viewState.rotation),u=new wt(t,h,i,e,null);o.dispatchEvent(u),(0,Ct.qs)(e,a,n/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,r,o){return this.forEachFeatureAtCoordinate(t,e,i,ct.uX)?r.call(o,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,r){this.dispatchComposeEvent_(J.Z.POSTCOMPOSE,t,e,r)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(J.Z.PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(J.Z.RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,r=t.pixelRatio,o=r*t.size[0]/2,n=r*t.size[1]/2,s=r/i.resolution,a=-s,l=-i.rotation,h=-i.center[0]+e,u=-i.center[1];return(0,dt.qC)(this.transform_,o,n,s,a,l,h,u)},e.prototype.composeFrame=function(t,e,i){(0,r.O3)()},e.prototype.prepareFrame=function(t,e){return(0,r.O3)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(r,o){return t.forEachLoadedTile(e,r,o,(function(t){i[r]||(i[r]={}),i[r][t.tileCoord.toString()]=t}))}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Et.Z.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=Et.Z.LOADED&&e!=Et.Z.ERROR&&(0,u.oL)(t,et.Z.CHANGE,this.handleImageChange_,this),e==Et.Z.IDLE&&(t.load(),e=t.getState()),e==Et.Z.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==zt.Z.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var o=(0,r.sq)(t);o in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[o])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,o){var n=(0,r.sq)(e),s=i.toString();n in t?s in t[n]?t[n][s].extend(o):t[n][s]=o:(t[n]={},t[n][s]=o)},e.prototype.manageTilePyramid=function(t,e,i,o,n,s,a,l,h,u){var c=(0,r.sq)(e);c in t.wantedTiles||(t.wantedTiles[c]={});var p,f,d,g,y,_,v=t.wantedTiles[c],m=t.tileQueue;for(_=i.getMinZoom();_<=a;++_)for(f=i.getTileRangeForExtentAndZ(s,_,f),d=i.getResolution(_),g=f.minX;g<=f.maxX;++g)for(y=f.minY;y<=f.maxY;++y)a-_<=l?((p=e.getTile(_,g,y,o,n)).getState()==tt.Z.IDLE&&(v[p.getKey()]=!0,m.isKeyQueued(p.getKey())||m.enqueue([p,c,i.getTileCoordCenter(p.tileCoord),d])),void 0!==h&&h.call(u,p)):e.useTile(_,g,y,n)},e}(i(56834).Z)),Vt=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=(0,dt.Ue)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var r=this.getImage();if(r){var o=e.extent,n=void 0!==o&&!(0,ut.r4)(o,t.extent)&&(0,ut.kK)(o,t.extent);n&&this.clip(i,t,o);var s=this.getImageTransform(),a=i.globalAlpha;i.globalAlpha=e.opacity;var l=s[4],h=s[5],u=r.width*s[0],c=r.height*s[3];u>=.5&&c>=.5&&i.drawImage(r,0,0,+r.width,+r.height,Math.round(l),Math.round(h),Math.round(u),Math.round(c)),i.globalAlpha=a,n&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){return(0,r.O3)()},e.prototype.getImageTransform=function(){return(0,r.O3)()},e.prototype.forEachLayerAtCoordinate=function(t,e,i,r,o){if(this.getImage()){var n=(0,dt.nn)(this.coordinateToCanvasPixelTransform,t.slice());(0,Wt.bA)(n,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,ht.E4)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),n[0],n[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?r.call(o,this.getLayer(),s):void 0}},e}(Bt);var Yt=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=(0,dt.Ue)(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===Ot.Z.VECTOR)for(var r=0,o=Ut.length;r<o;++r){var n=Ut[r];if(n!==e&&n.handles(i)){this.vectorRenderer_=new n(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,r=t.pixelRatio,o=t.size,n=t.viewState,s=n.center,a=n.resolution,l=this.getLayer().getSource(),h=t.viewHints,u=this.vectorRenderer_,c=t.extent;if(u||void 0===e.extent||(c=(0,ut.Ed)(c,e.extent)),!h[lt.Z.ANIMATING]&&!h[lt.Z.INTERACTING]&&!(0,ut.xb)(c)){var p=n.projection;if(!mt.j){var f=l.getProjection();f&&(p=f)}var d=this.skippedFeatures_;if(u){var g=u.context,y=(0,rt.f0)({},t,{size:[(0,ut.dz)(c)/a,(0,ut.Cr)(c)/a],viewState:(0,rt.f0)({},t.viewState,{rotation:0})}),_=Object.keys(y.skippedFeatureUids).sort();i=new bt(c,a,r,g.canvas,(function(t){!u.prepareFrame(y,e)||!u.replayGroupChanged&&(0,j.fS)(d,_)||(g.canvas.width=y.size[0]*r,g.canvas.height=y.size[1]*r,u.compose(g,y,e),d=_,t())}))}else i=l.getImage(c,a,r,p);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=d)}if(this.image_){var v=(i=this.image_).getExtent(),m=i.getResolution(),S=i.getPixelRatio(),E=r*m/(a*S),b=(0,dt.qC)(this.imageTransform_,r*o[0]/2,r*o[1]/2,E,E,0,S*(v[0]-s[0])/m,S*(s[1]-v[3])/m);(0,dt.qC)(this.coordinateToCanvasPixelTransform,r*o[0]/2-b[4],r*o[1]/2-b[5],r/a,-r/a,0,-s[0],-s[1]),this.renderedResolution=m*r/S}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,r,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,r,o):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,r,o)},e}(Vt);Yt.handles=function(t){return t.getType()===Ot.Z.IMAGE||t.getType()===Ot.Z.VECTOR&&t.getRenderMode()===Tt.Z.IMAGE},Yt.create=function(t,e){return new Yt(e)};const Ht=Yt;var Xt=i(19473),qt=function(t){function e(e,i){t.call(this,e),this.context=i?null:(0,ht.E4)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,ut.lJ)(),this.tmpTileRange_=new Xt.Z(0,0,0,0),this.imageTransform_=(0,dt.Ue)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),r=e.getUseInterimTilesOnError();return i==tt.Z.LOADED||i==tt.Z.EMPTY||i==tt.Z.ERROR&&!r},e.prototype.getTile=function(t,e,i,r,o){var n=this.getLayer(),s=n.getSource().getTile(t,e,i,r,o);return s.getState()==tt.Z.ERROR&&(n.getUseInterimTilesOnError()?n.getPreload()>0&&(this.newTiles_=!0):s.setState(tt.Z.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,o=t.size,n=t.viewState,s=n.projection,a=n.resolution,l=n.center,h=this.getLayer(),u=h.getSource(),c=u.getRevision(),p=u.getTileGridForProjection(s),f=p.getZForResolution(a,this.zDirection),d=p.getResolution(f),g=Math.round(a/d)||1,y=t.extent;if(void 0!==e.extent&&(y=(0,ut.Ed)(y,e.extent)),(0,ut.xb)(y))return!1;var _=p.getTileRangeForExtentAndZ(y,f),v=p.getTileRangeExtent(f,_),m=u.getTilePixelRatio(i),S={};S[f]={};var E,b,O,T=this.createLoadedTileFinder(u,s,S),R=t.viewHints,x=R[lt.Z.ANIMATING]||R[lt.Z.INTERACTING],w=this.tmpExtent,C=this.tmpTileRange_;for(this.newTiles_=!1,b=_.minX;b<=_.maxX;++b)for(O=_.minY;O<=_.maxY;++O)if(!(Date.now()-t.time>16&&x)){if(E=this.getTile(f,b,O,i,s),this.isDrawableTile_(E)){var I=(0,r.sq)(this);if(E.getState()==tt.Z.LOADED){S[f][E.tileCoord.toString()]=E;var L=E.inTransition(I);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(E)||(this.newTiles_=!0)}if(1===E.getAlpha(I,t.time))continue}var k=p.getTileCoordChildTileRange(E.tileCoord,C,w),A=!1;k&&(A=T(f+1,k)),A||p.forEachTileCoordParentTileRange(E.tileCoord,T,null,C,w)}var F=d*i/m*g;if(!(this.renderedResolution&&Date.now()-t.time>16&&x)&&(this.newTiles_||!this.renderedExtent_||!(0,ut.r4)(this.renderedExtent_,y)||this.renderedRevision!=c||g!=this.oversampling_||!x&&F!=this.renderedResolution)){var P=this.context;if(P){var Z=u.getTilePixelSize(f,i,s),M=Math.round(_.getWidth()*Z[0]/g),N=Math.round(_.getHeight()*Z[1]/g),D=P.canvas;D.width!=M||D.height!=N?(this.oversampling_=g,D.width=M,D.height=N):(this.renderedExtent_&&!(0,ut.fS)(v,this.renderedExtent_)&&P.clearRect(0,0,M,N),g=this.oversampling_)}this.renderedTiles.length=0;var j,G,z,U,K,W,B,V,Y,H,X=Object.keys(S).map(Number);for(X.sort((function(t,e){return t===f?1:e===f?-1:t>e?1:t<e?-1:0})),U=0,K=X.length;U<K;++U)for(var q in z=X[U],G=u.getTilePixelSize(z,i,s),j=p.getResolution(z)/d,B=m*u.getGutterForProjection(s),V=S[z])E=V[q],b=((W=p.getTileCoordExtent(E.getTileCoord(),w))[0]-v[0])/d*m/g,O=(v[3]-W[3])/d*m/g,Y=G[0]*j/g,H=G[1]*j/g,this.drawTileImage(E,t,e,b,O,Y,H,B,f===z),this.renderedTiles.push(E);this.renderedRevision=c,this.renderedResolution=d*i/m*g,this.renderedExtent_=v}var J=this.renderedResolution/a,Q=(0,dt.qC)(this.imageTransform_,i*o[0]/2,i*o[1]/2,J,J,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*i,(l[1]-this.renderedExtent_[3])/this.renderedResolution*i);return(0,dt.qC)(this.coordinateToCanvasPixelTransform,i*o[0]/2-Q[4],i*o[1]/2-Q[5],i/a,-i/a,0,-l[0],-l[1]),this.updateUsedTiles(t.usedTiles,u,f,_),this.manageTilePyramid(t,u,p,i,s,y,f,h.getPreload()),this.scheduleExpireCache(t,u),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,o,n,s,a,l,h){var u=this.getTileImage(t);if(u){var c=(0,r.sq)(this),p=h?t.getAlpha(c,e.time):1,f=this.getLayer().getSource();1!==p||f.getOpaque(e.viewState.projection)||this.context.clearRect(o,n,s,a);var d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(u,l,l,u.width-2*l,u.height-2*l,o,n,s,a),d&&this.context.restore(),1!==p?e.animate=!0:h&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(Vt);qt.handles=function(t){return t.getType()===Ot.Z.TILE},qt.create=function(t,e){return new qt(e)},qt.prototype.getLayer;const Jt=qt;var Qt=i(65510),$t=i.n(Qt),te=function(){};te.prototype.getReplay=function(t,e){return(0,r.O3)()},te.prototype.isEmpty=function(){return(0,r.O3)()},te.prototype.addDeclutter=function(t){return(0,r.O3)()};const ee=te,ie="Circle",re="Default",oe="Image",ne="LineString",se="Polygon",ae="Text";var le=i(34178),he=i(86204),ue=i(4027),ce=i(21882);function pe(t,e,i,r,o,n,s,a){for(var l,h,u,c=[],p=t[e]>t[i-r],f=o.length,d=t[e],g=t[e+1],y=t[e+=r],_=t[e+1],v=0,m=Math.sqrt(Math.pow(y-d,2)+Math.pow(_-g,2)),S="",E=0,b=0;b<f;++b){h=p?f-b-1:b;var O=o.charAt(h),T=n(S=p?O+S:S+O)-E;E+=T;for(var R=s+T/2;e<i-r&&v+m<R;)d=y,g=_,y=t[e+=r],_=t[e+1],v+=m,m=Math.sqrt(Math.pow(y-d,2)+Math.pow(_-g,2));var x=R-v,w=Math.atan2(_-g,y-d);if(p&&(w+=w>0?-Math.PI:Math.PI),void 0!==u){var C=w-u;if(C+=C>Math.PI?-2*Math.PI:C<-Math.PI?2*Math.PI:0,Math.abs(C)>a)return null}var I=x/m,L=(0,ce.t7)(d,y,I),k=(0,ce.t7)(g,_,I);u==w?(p&&(l[0]=L,l[1]=k,l[2]=T/2),l[4]=S):(E=T,l=[L,k,T/2,w,S=O],p?c.unshift(l):c.push(l),u=w),s+=T}return c}var fe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},de=[fe.FILL],ge=[fe.STROKE],ye=[fe.BEGIN_PATH],_e=[fe.CLOSE_PATH];const ve=fe;var me=[se,ie,ne,oe,ae,re],Se={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Ee=(0,ut.lJ)(),be=(0,dt.Ue)();const Oe=function(t){function e(e,i,r,o,n,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=i,this.overlaps=n,this.pixelRatio=o,this.maxLineWidth=0,this.resolution=r,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,dt.Ue)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,r,o,n,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),n&&(this.alignFill_=n[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,i,r,o,n,s,a,l,h,u,c,p,f,d,g,y,_){var v=y||_;e-=o*=p,i-=n*=p;var m,S,E,b,O=d+h>r.width?r.width-h:d,T=a+u>r.height?r.height-u:a,R=g[3]+O*p+g[1],x=g[0]+T*p+g[2],w=e-g[3],C=i-g[0];(v||0!==c)&&(m=[w,C],S=[w+R,C],E=[w+R,C+x],b=[w,C+x]);var I=null;if(0!==c){var L=e+o,k=i+n;I=(0,dt.qC)(be,L,k,1,1,c,-L,-k),(0,ut.YN)(Ee),(0,ut.Wj)(Ee,(0,dt.nn)(be,m)),(0,ut.Wj)(Ee,(0,dt.nn)(be,S)),(0,ut.Wj)(Ee,(0,dt.nn)(be,E)),(0,ut.Wj)(Ee,(0,dt.nn)(be,b))}else(0,ut.T9)(w,C,w+R,C+x,Ee);var A=t.canvas,F=_?_[2]*p/2:0,P=Ee[0]-F<=A.width&&Ee[2]+F>=0&&Ee[1]-F<=A.height&&Ee[3]+F>=0;if(f&&(e=Math.round(e),i=Math.round(i)),s){if(!P&&1==s[4])return;(0,ut.l7)(s,Ee);var Z=P?[t,I?I.slice(0):null,l,r,h,u,O,T,e,i,p]:null;Z&&v&&Z.push(y,_,m,S,E,b),s.push(Z)}else P&&(v&&this.replayTextBackground_(t,m,S,E,b,y,_),(0,Ct.AE)(t,I,l,r,h,u,O,T,e,i,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,i,r,o,n){var s=this.coordinates.length,a=this.getBufferedMaxExtent();n&&(e+=r);var l,h,u,c=[t[e],t[e+1]],p=[NaN,NaN],f=!0;for(l=e+r;l<i;l+=r)p[0]=t[l],p[1]=t[l+1],(u=(0,ut.pX)(a,p))!==h?(f&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],f=!1):u===le.Z.INTERSECTING?(this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],f=!1):f=!0,c[0]=p[0],c[1]=p[1],h=u;return(o&&f||l===e+r)&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,i,r,o){for(var n=0,s=i.length;n<s;++n){var a=i[n],l=this.appendFlatCoordinates(t,e,a,r,!1,!1);o.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var r,o,n,s,a,l=t.getType(),h=t.getStride(),u=this.coordinates.length;if(l==Lt.Z.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),s=[];var c=t.getEndss();a=0;for(var p=0,f=c.length;p<f;++p){var d=[];a=this.drawCustomCoordinates_(r,a,c[p],h,d),s.push(d)}this.instructions.push([ve.CUSTOM,u,s,t,i,he.ug])}else l==Lt.Z.POLYGON||l==Lt.Z.MULTI_LINE_STRING?(n=[],r=l==Lt.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(r,0,t.getEnds(),h,n),this.instructions.push([ve.CUSTOM,u,n,t,i,he.o1])):l==Lt.Z.LINE_STRING||l==Lt.Z.MULTI_POINT?(r=t.getFlatCoordinates(),o=this.appendFlatCoordinates(r,0,r.length,h,!1,!1),this.instructions.push([ve.CUSTOM,u,o,t,i,he.Ml])):l==Lt.Z.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),o=this.coordinates.length,this.instructions.push([ve.CUSTOM,u,o,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[ve.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ve.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=(0,dt.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,Ct.Oz)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],a.XQ&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var o=5,n=t.length;o<n;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Ct.AE.apply(void 0,s))}}t.length=5,(0,ut.YN)(t)}}},e.prototype.replay_=function(t,e,i,o,n,s,a){var l;this.pixelCoordinates_&&(0,j.fS)(e,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=(0,At.vT)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,dt.lk)(this.renderedTransform_,e));for(var h,u,c,p,f,d,g,y,_,v,m,S,E=!(0,rt.xb)(i),b=0,O=o.length,T=0,R=0,x=0,w=null,C=null,I=this.coordinateCache_,L=this.viewRotation_,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:L},A=this.instructions!=o||this.overlaps?0:200;b<O;){var F=o[b];switch(F[0]){case ve.BEGIN_GEOMETRY:v=F[1],E&&i[(0,r.sq)(v)]||!v.getGeometry()?b=F[2]:void 0===a||(0,ut.kK)(a,v.getGeometry().getExtent())?++b:b=F[2]+1;break;case ve.BEGIN_PATH:R>A&&(this.fill_(t),R=0),x>A&&(t.stroke(),x=0),R||x||(t.beginPath(),p=f=NaN),++b;break;case ve.CIRCLE:var P=l[T=F[1]],Z=l[T+1],M=l[T+2]-P,N=l[T+3]-Z,D=Math.sqrt(M*M+N*N);t.moveTo(P+D,Z),t.arc(P,Z,D,0,2*Math.PI,!0),++b;break;case ve.CLOSE_PATH:t.closePath(),++b;break;case ve.CUSTOM:T=F[1],h=F[2];var G=F[3],z=F[4],U=6==F.length?F[5]:void 0;k.geometry=G,k.feature=v,b in I||(I[b]=[]);var K=I[b];U?U(l,T,h,2,K):(K[0]=l[T],K[1]=l[T+1],K.length=2),z(K,k),++b;break;case ve.DRAW_IMAGE:T=F[1],h=F[2],_=F[3],u=F[4],c=F[5],y=s?null:F[6];var W=F[7],B=F[8],V=F[9],Y=F[10],H=F[11],X=F[12],q=F[13],J=F[14],Q=void 0,$=void 0,tt=void 0;for(F.length>16?(Q=F[15],$=F[16],tt=F[17]):(Q=Ct.oB,$=tt=!1),H&&(X+=L);T<h;T+=2)this.replayImage_(t,l[T],l[T+1],_,u,c,y,W,B,V,Y,X,q,n,J,Q,$?w:null,tt?C:null);this.renderDeclutter_(y,v),++b;break;case ve.DRAW_CHARS:var et=F[1],it=F[2],ot=F[3];y=s?null:F[4];var nt=F[5],st=F[6],at=F[7],lt=F[8],ht=F[9],ct=F[10],pt=F[11],ft=F[12],gt=F[13],yt=F[14],_t=(0,ue.W)(l,et,it,2),vt=lt(ft);if(nt||vt<=_t){var mt=this,St=mt.textStates[gt].textAlign,Et=pe(l,et,it,2,ft,lt,(_t-vt)*Se[St],at);if(Et){var bt=void 0,Ot=void 0,Tt=void 0,Rt=void 0,xt=void 0;if(ct)for(bt=0,Ot=Et.length;bt<Ot;++bt)Tt=(xt=Et[bt])[4],Rt=mt.getImage(Tt,gt,"",ct),u=xt[2]+pt,c=ot*Rt.height+2*(.5-ot)*pt-ht,this.replayImage_(t,xt[0],xt[1],Rt,u,c,y,Rt.height,1,0,0,xt[3],yt,!1,Rt.width,Ct.oB,null,null);if(st)for(bt=0,Ot=Et.length;bt<Ot;++bt)Tt=(xt=Et[bt])[4],Rt=mt.getImage(Tt,gt,st,""),u=xt[2],c=ot*Rt.height-ht,this.replayImage_(t,xt[0],xt[1],Rt,u,c,y,Rt.height,1,0,0,xt[3],yt,!1,Rt.width,Ct.oB,null,null)}}this.renderDeclutter_(y,v),++b;break;case ve.END_GEOMETRY:if(void 0!==s){var wt=s(v=F[1]);if(wt)return wt}++b;break;case ve.FILL:A?R++:this.fill_(t),++b;break;case ve.MOVE_TO_LINE_TO:for(T=F[1],h=F[2],m=l[T],g=(S=l[T+1])+.5|0,(d=m+.5|0)===p&&g===f||(t.moveTo(m,S),p=d,f=g),T+=2;T<h;T+=2)d=(m=l[T])+.5|0,g=(S=l[T+1])+.5|0,T!=h-2&&d===p&&g===f||(t.lineTo(m,S),p=d,f=g);++b;break;case ve.SET_FILL_STYLE:w=F,this.alignFill_=F[2],R&&(this.fill_(t),R=0,x&&(t.stroke(),x=0)),t.fillStyle=F[1],++b;break;case ve.SET_STROKE_STYLE:C=F,x&&(t.stroke(),x=0),this.setStrokeStyle_(t,F),++b;break;case ve.STROKE:A?x++:t.stroke(),++b;break;default:++b}}R&&this.fill_(t),x&&t.stroke()},e.prototype.replay=function(t,e,i,r,o){this.viewRotation_=i,this.replay_(t,e,r,this.instructions,o,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,r,o,n){return this.viewRotation_=i,this.replay_(t,e,r,this.hitDetectionInstructions,!0,o,n)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,r,o=e.length,n=-1;for(t=0;t<o;++t)(r=(i=e[t])[0])==ve.END_GEOMETRY?n=t:r==ve.BEGIN_GEOMETRY&&(i[2]=t,(0,j.FZ)(this.hitDetectionInstructions,n,t),n=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var r=t.getColor();i.fillStyle=(0,It.y)(r||Ct.bL)}else i.fillStyle=void 0;if(e){var o=e.getColor();i.strokeStyle=(0,It.y)(o||Ct.Tx);var n=e.getLineCap();i.lineCap=void 0!==n?n:Ct.mb;var s=e.getLineDash();i.lineDash=s?s.slice():Ct.X9;var a=e.getLineDashOffset();i.lineDashOffset=a||Ct.He;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:Ct.rc;var h=e.getWidth();i.lineWidth=void 0!==h?h:Ct.yC;var u=e.getMiterLimit();i.miterLimit=void 0!==u?u:Ct.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,r=[ve.SET_FILL_STYLE,i];return"string"!=typeof i&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[ve.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,r=t.lineCap,o=t.lineDash,n=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||o!=t.currentLineDash&&!(0,j.fS)(t.currentLineDash,o)||t.currentLineDashOffset!=n||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=n,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[ve.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,ut.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,ut.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Pt),Te=function(t){function e(e,i,r,o,n,s){t.call(this,e,i,r,o,n,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,r){return this.appendFlatCoordinates(t,e,i,r,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,n=this.drawCoordinates_(i,0,i.length,r);this.instructions.push([ve.DRAW_IMAGE,o,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ve.DRAW_IMAGE,o,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,n=this.drawCoordinates_(i,0,i.length,r);this.instructions.push([ve.DRAW_IMAGE,o,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ve.DRAW_IMAGE,o,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),r=t.getSize(),o=t.getHitDetectionImage(1),n=t.getImage(1),s=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=o,this.image_=n,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=r[0]},e}(Oe),Re=function(t){function e(e,i,r,o,n,s){t.call(this,e,i,r,o,n,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,r){var o=this.coordinates.length,n=this.appendFlatCoordinates(t,e,i,r,!1,!1),s=[ve.MOVE_TO_LINE_TO,o,n];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],ye);var n=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(n,0,n.length,s),this.hitDetectionInstructions.push(ge),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],ye);for(var n=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,h=0,u=n.length;h<u;++h)l=this.drawFlatCoordinates_(s,l,n[h],a);this.hitDetectionInstructions.push(ge),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ge),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(ge),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(ye)},e}(Oe);var xe=i(8913),we=i(62418);const Ce=function(t){function e(e,i,r,o,n,s){t.call(this,e,i,r,o,n,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,r){var o=this.state,n=void 0!==o.fillStyle,s=null!=o.strokeStyle,a=i.length;this.instructions.push(ye),this.hitDetectionInstructions.push(ye);for(var l=0;l<a;++l){var h=i[l],u=this.coordinates.length,c=this.appendFlatCoordinates(t,e,h,r,!0,!s),p=[ve.MOVE_TO_LINE_TO,u,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(_e),this.hitDetectionInstructions.push(_e)),e=h}return n&&(this.instructions.push(de),this.hitDetectionInstructions.push(de)),s&&(this.instructions.push(ge),this.hitDetectionInstructions.push(ge)),e},e.prototype.drawCircle=function(t,e){var i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ve.SET_FILL_STYLE,(0,xe.XC)(Ct.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var n=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(n,0,n.length,s,!1,!1);var l=[ve.CIRCLE,a];this.instructions.push(ye,l),this.hitDetectionInstructions.push(ye,l),this.hitDetectionInstructions.push(de),void 0!==i.fillStyle&&this.instructions.push(de),void 0!==i.strokeStyle&&(this.instructions.push(ge),this.hitDetectionInstructions.push(ge)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ve.SET_FILL_STYLE,(0,xe.XC)(Ct.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var n=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,n,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ve.SET_FILL_STYLE,(0,xe.XC)(Ct.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var n=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,h=0,u=n.length;h<u;++h)l=this.drawFlatCoordinatess_(s,l,n[h],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,r=e.length;i<r;++i)e[i]=(0,we.uZ)(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(Oe);function Ie(t,e,i,r,o){var n,s,a,l,h,u,c,p,f,d=i,g=i,y=0,_=0,v=i;for(n=i;n<r;n+=o){var m=e[n],S=e[n+1];void 0!==l&&(p=m-l,f=S-h,a=Math.sqrt(p*p+f*f),void 0!==u&&(_+=s,Math.acos((u*p+c*f)/(s*a))>t&&(_>y&&(y=_,d=v,g=n),_=0,v=n-o)),s=a,u=p,c=f),l=m,h=S}return(_+=a)>y?[v,n]:[d,g]}var Le=i(78288),ke={Circle:Ce,Default:Oe,Image:Te,LineString:Re,Polygon:Ce,Text:function(t){function e(e,i,r,o,n,s){t.call(this,e,i,r,o,n,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Ct.GK.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(i||r)){var n,s,a=this.coordinates.length,l=t.getType(),h=null,u=2,c=2;if(o.placement===Le.Z.LINE){if(!(0,ut.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var p;if(h=t.getFlatCoordinates(),c=t.getStride(),l==Lt.Z.LINE_STRING)p=[h.length];else if(l==Lt.Z.MULTI_LINE_STRING)p=t.getEnds();else if(l==Lt.Z.POLYGON)p=t.getEnds().slice(0,1);else if(l==Lt.Z.MULTI_POLYGON){var f=t.getEndss();for(p=[],n=0,s=f.length;n<s;++n)p.push(f[n][0])}this.beginGeometry(t,e);for(var d,g=o.textAlign,y=0,_=0,v=p.length;_<v;++_){if(null==g){var m=Ie(o.maxAngle,h,y,p[_],c);y=m[0],d=m[1]}else d=p[_];for(n=y;n<d;n+=c)this.coordinates.push(h[n],h[n+1]);u=this.coordinates.length,y=p[_],this.drawChars_(a,u,this.declutterGroup_),a=u}this.endGeometry(t,e)}else{var S=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),E=S.width/this.pixelRatio;switch(l){case Lt.Z.POINT:case Lt.Z.MULTI_POINT:u=(h=t.getFlatCoordinates()).length;break;case Lt.Z.LINE_STRING:h=t.getFlatMidpoint();break;case Lt.Z.CIRCLE:h=t.getCenter();break;case Lt.Z.MULTI_LINE_STRING:u=(h=t.getFlatMidpoints()).length;break;case Lt.Z.POLYGON:if(h=t.getFlatInteriorPoint(),!o.overflow&&h[2]/this.resolution<E)return;c=3;break;case Lt.Z.MULTI_POLYGON:var b=t.getFlatInteriorPoints();for(h=[],n=0,s=b.length;n<s;n+=3)(o.overflow||b[n+2]/this.resolution>=E)&&h.push(b[n],b[n+1]);if(0==(u=h.length))return}u=this.appendFlatCoordinates(h,0,u,c,!1,!1),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(S,a,u),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,r){var o,n=r+e+t+i+this.pixelRatio;if(!Ct.GK.containsKey(n)){var s=r?this.strokeStates[r]||this.textStrokeState_:null,l=i?this.fillStates[i]||this.textFillState_:null,h=this.textStates[e]||this.textState_,u=this.pixelRatio,c=h.scale*u,p=Se[h.textAlign||Ct.PH],f=r&&s.lineWidth?s.lineWidth:0,d=t.split("\n"),g=d.length,y=[],_=function(t,e,i){for(var r=e.length,o=0,n=0;n<r;++n){var s=(0,Ct.Ux)(t,e[n]);o=Math.max(o,s),i.push(s)}return o}(h.font,d,y),v=(0,Ct.fk)(h.font),m=v*g,S=_+f,E=(0,ht.E4)(Math.ceil(S*c),Math.ceil((m+f)*c));o=E.canvas,Ct.GK.set(n,o),1!=c&&E.scale(c,c),E.font=h.font,r&&(E.strokeStyle=s.strokeStyle,E.lineWidth=f,E.lineCap=s.lineCap,E.lineJoin=s.lineJoin,E.miterLimit=s.miterLimit,a.XQ&&s.lineDash.length&&(E.setLineDash(s.lineDash),E.lineDashOffset=s.lineDashOffset)),i&&(E.fillStyle=l.fillStyle),E.textBaseline="middle",E.textAlign="center";var b,O=.5-p,T=p*o.width/c+O*f;if(r)for(b=0;b<g;++b)E.strokeText(d[b],T+O*y[b],.5*(f+v)+b*v);if(i)for(b=0;b<g;++b)E.fillText(d[b],T+O*y[b],.5*(f+v)+b*v)}return Ct.GK.get(n)},e.prototype.drawTextImage_=function(t,e,i){var r=this.textState_,o=this.textStrokeState_,n=this.pixelRatio,s=Se[r.textAlign||Ct.PH],a=Se[r.textBaseline],l=o&&o.lineWidth?o.lineWidth:0,h=s*t.width/n+2*(.5-s)*l,u=a*t.height/n+2*(.5-a)*l;this.instructions.push([ve.DRAW_IMAGE,e,i,t,(h-this.textOffsetX_)*n,(u-this.textOffsetY_)*n,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,r.padding==Ct.oB?Ct.oB:r.padding.map((function(t){return t*n})),!!r.backgroundFill,!!r.backgroundStroke]),this.hitDetectionInstructions.push([ve.DRAW_IMAGE,e,i,t,(h-this.textOffsetX_)*n,(u-this.textOffsetY_)*n,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/n,t.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var r=this.textStrokeState_,o=this.textState_,n=this.textFillState_,s=this.strokeKey_;r&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:o.font,textAlign:o.textAlign||Ct.PH,scale:o.scale});var l=this.fillKey_;n&&(l in this.fillStates||(this.fillStates[l]={fillStyle:n.fillStyle}));var h=this.pixelRatio,u=Se[o.textBaseline],c=this.textOffsetY_*h,p=this.text_,f=o.font,d=o.scale,g=r?r.lineWidth*d/2:0,y=this.widths_[f];y||(this.widths_[f]=y={}),this.instructions.push([ve.DRAW_CHARS,t,e,u,i,o.overflow,l,o.maxAngle,function(t){var e=y[t];return e||(e=y[t]=(0,Ct.Ux)(f,t)),e*d*h},c,s,g*h,p,a,1]),this.hitDetectionInstructions.push([ve.DRAW_CHARS,t,e,u,i,o.overflow,l,o.maxAngle,function(t){var e=y[t];return e||(e=y[t]=(0,Ct.Ux)(f,t)),e*d},c,s,g,p,a,1/h])},e.prototype.setTextStyle=function(t,e){var i,o,n;if(t){this.declutterGroup_=e;var s=t.getFill();s?((o=this.textFillState_)||(o=this.textFillState_={}),o.fillStyle=(0,It.y)(s.getColor()||Ct.bL)):o=this.textFillState_=null;var a=t.getStroke();if(a){(n=this.textStrokeState_)||(n=this.textStrokeState_={});var l=a.getLineDash(),h=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();n.lineCap=a.getLineCap()||Ct.mb,n.lineDash=l?l.slice():Ct.X9,n.lineDashOffset=void 0===h?Ct.He:h,n.lineJoin=a.getLineJoin()||Ct.rc,n.lineWidth=void 0===u?Ct.yC:u,n.miterLimit=void 0===c?Ct.V4:c,n.strokeStyle=(0,It.y)(a.getColor()||Ct.Tx)}else n=this.textStrokeState_=null;i=this.textState_;var p=t.getFont()||Ct.Df;(0,Ct.Uh)(p);var f=t.getScale();i.overflow=t.getOverflow(),i.font=p,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||Ct.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Ct.oB,i.scale=void 0===f?1:f;var d=t.getOffsetX(),g=t.getOffsetY(),y=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===_?0:_,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,r.sq)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,r.sq)(o.fillStyle):""}else this.text_=""},e}(Oe)},Ae=function(t){function e(e,i,r,o,n,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=n,this.pixelRatio_=o,this.resolution_=r,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=(0,ht.E4)(1,1),this.hitDetectionTransform_=(0,dt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=(0,ut.lJ)()).push(1)),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],r=0,o=t.length;r<o;++r)if(t[r]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,o,n,s){var a,l=2*(r=Math.round(r))+1,h=(0,dt.qC)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),u=this.hitDetectionContext_;u.canvas.width!==l||u.canvas.height!==l?(u.canvas.width=l,u.canvas.height=l):u.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(a=(0,ut.lJ)(),(0,ut.Wj)(a,t),(0,ut.f3)(a,e*(this.renderBuffer_+r),a));var c,p,f=function(t){if(void 0!==Fe[t])return Fe[t];for(var e=2*t+1,i=new Array(e),r=0;r<e;r++)i[r]=new Array(e);for(var o=t,n=0,s=0;o>=n;)Pe(i,t+o,t+n),Pe(i,t+n,t+o),Pe(i,t-n,t+o),Pe(i,t-o,t+n),Pe(i,t-o,t-n),Pe(i,t-n,t-o),Pe(i,t+n,t-o),Pe(i,t+o,t-n),2*((s+=1+2*++n)-o)+1>0&&(s+=1-2*(o-=1));return Fe[t]=i,i}(r);function d(t){for(var e=u.getImageData(0,0,l,l).data,i=0;i<l;i++)for(var r=0;r<l;r++)if(f[i][r]&&e[4*(r*l+i)+3]>0){var o=void 0;return(!c||p!=oe&&p!=ae||-1!==c.indexOf(t))&&(o=n(t)),o||void u.clearRect(0,0,l,l)}}this.declutterTree_&&(c=this.declutterTree_.all().map((function(t){return t.value})));var g,y,_,v,m,S=Object.keys(this.replaysByZIndex_).map(Number);for(S.sort(j.kK),g=S.length-1;g>=0;--g){var E=S[g].toString();for(_=this.replaysByZIndex_[E],y=me.length-1;y>=0;--y)if(void 0!==(v=_[p=me[y]]))if(!s||p!=oe&&p!=ae){if(m=v.replayHitDetection(u,h,i,o,d,a))return m}else{var b=s[E];b?b.push(v,h.slice(0)):s[E]=[v,h.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],r=e[1],o=e[2],n=e[3],s=[i,r,i,n,o,n,o,r];return(0,At.vT)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[i];void 0===r&&(r={},this.replaysByZIndex_[i]=r);var o=r[e];return void 0===o&&(o=new(0,ke[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),r[e]=o),o},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return(0,rt.xb)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,r,o,n,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(j.kK),t.save(),this.clip(t,e);var l,h,u,c,p,f,d=n||me;for(l=0,h=a.length;l<h;++l){var g=a[l].toString();for(p=this.replaysByZIndex_[g],u=0,c=d.length;u<c;++u){var y=d[u];if(void 0!==(f=p[y]))if(!s||y!=oe&&y!=ae)f.replay(t,e,i,r,o);else{var _=s[g];_?_.push(f,e.slice(0)):s[g]=[f,e.slice(0)]}}}t.restore()},e}(ee),Fe={0:[[!0]]};function Pe(t,e,i){var r,o=Math.floor(t.length/2);if(e>=o)for(r=o;r<e;r++)t[r][i]=!0;else if(e<o)for(r=e+1;r<o;r++)t[r][i]=!0}const Ze=Ae;var Me={Point:function(t,e,i,r){var o=i.getImage();if(o){if(o.getImageState()!=Et.Z.LOADED)return;var n=t.getReplay(i.getZIndex(),oe);n.setImageStyle(o,t.addDeclutter(!1)),n.drawPoint(e,r)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!!o)),a.drawText(e,r)}},LineString:function(t,e,i,r){var o=i.getStroke();if(o){var n=t.getReplay(i.getZIndex(),ne);n.setFillStrokeStyle(null,o),n.drawLineString(e,r)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,r)}},Polygon:function(t,e,i,r){var o=i.getFill(),n=i.getStroke();if(o||n){var s=t.getReplay(i.getZIndex(),se);s.setFillStrokeStyle(o,n),s.drawPolygon(e,r)}var a=i.getText();if(a){var l=t.getReplay(i.getZIndex(),ae);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,r)}},MultiPoint:function(t,e,i,r){var o=i.getImage();if(o){if(o.getImageState()!=Et.Z.LOADED)return;var n=t.getReplay(i.getZIndex(),oe);n.setImageStyle(o,t.addDeclutter(!1)),n.drawMultiPoint(e,r)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!!o)),a.drawText(e,r)}},MultiLineString:function(t,e,i,r){var o=i.getStroke();if(o){var n=t.getReplay(i.getZIndex(),ne);n.setFillStrokeStyle(null,o),n.drawMultiLineString(e,r)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,r)}},MultiPolygon:function(t,e,i,r){var o=i.getFill(),n=i.getStroke();if(n||o){var s=t.getReplay(i.getZIndex(),se);s.setFillStrokeStyle(o,n),s.drawMultiPolygon(e,r)}var a=i.getText();if(a){var l=t.getReplay(i.getZIndex(),ae);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,r)}},GeometryCollection:function(t,e,i,r){var o,n,s=e.getGeometriesArray();for(o=0,n=s.length;o<n;++o)(0,Me[s[o].getType()])(t,s[o],i,r)},Circle:function(t,e,i,r){var o=i.getFill(),n=i.getStroke();if(o||n){var s=t.getReplay(i.getZIndex(),ie);s.setFillStrokeStyle(o,n),s.drawCircle(e,r)}var a=i.getText();if(a){var l=t.getReplay(i.getZIndex(),ae);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,r)}}};function Ne(t,e){return parseInt((0,r.sq)(t),10)-parseInt((0,r.sq)(e),10)}function De(t,e){var i=je(t,e);return i*i}function je(t,e){return.5*t/e}function Ge(t,e,i,r,o,n){var s=!1,a=i.getImage();if(a){var l=a.getImageState();l==Et.Z.LOADED||l==Et.Z.ERROR?a.unlistenImageChange(o,n):(l==Et.Z.IDLE&&a.load(),l=a.getImageState(),a.listenImageChange(o,n),s=!0)}return function(t,e,i,r){var o=i.getGeometryFunction()(e);if(o){var n=o.getSimplifiedGeometry(r);i.getRenderer()?ze(t,n,i,e):(0,Me[n.getType()])(t,n,i,e)}}(t,e,i,r),s}function ze(t,e,i,r){if(e.getType()!=Lt.Z.GEOMETRY_COLLECTION)t.getReplay(i.getZIndex(),re).drawCustom(e,r,i.getRenderer());else for(var o=e.getGeometries(),n=0,s=o.length;n<s;++n)ze(t,o[n],i,r)}var Ue=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?$t()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,ut.lJ)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,ht.E4)(),(0,u.oL)(Ct.GK,et.Z.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,u.Ev)(Ct.GK,et.Z.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var r=e.extent,o=e.pixelRatio,n=i.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,l=s.rotation,h=a.getExtent(),u=this.getLayer().getSource(),c=this.getTransform(e,0),p=i.extent,f=void 0!==p;f&&this.clip(t,e,p);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,y=this.getLayer(),_=0,v=0,m=1!==i.opacity,S=y.hasListener(J.Z.RENDER);if(m||S){var E=t.canvas.width,b=t.canvas.height;if(l){var O=Math.round(Math.sqrt(E*E+b*b));_=(O-E)/2,v=(O-b)/2,E=b=O}this.context.canvas.width=E,this.context.canvas.height=b,g=this.context}else g=t;var T=g.globalAlpha;m||(g.globalAlpha=i.opacity),g!=t&&g.translate(_,v);var R=e.viewHints,x=!(R[lt.Z.ANIMATING]||R[lt.Z.INTERACTING]),w=e.size[0]*o,C=e.size[1]*o;if((0,Ct.qs)(g,-l,w/2,C/2),d.replay(g,c,l,n,x),u.getWrapX()&&a.canWrapX()&&!(0,ut.r4)(h,r)){for(var I,L=r[0],k=(0,ut.dz)(h),A=0;L<h[0];)I=k*--A,c=this.getTransform(e,I),d.replay(g,c,l,n,x),L+=k;for(A=0,L=r[2];L>h[2];)I=k*++A,c=this.getTransform(e,I),d.replay(g,c,l,n,x),L-=k}if((0,Ct.qs)(g,l,w/2,C/2),S&&this.dispatchRenderEvent(g,e,c),g!=t){if(m){var F=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(g.canvas,-_,-v),t.globalAlpha=F}else t.drawImage(g.canvas,-_,-v);g.translate(-_,-v)}m||(g.globalAlpha=T)}f&&t.restore()},e.prototype.composeFrame=function(t,e,i){var r=this.getTransform(t,0);this.preCompose(i,t,r),this.compose(i,t,e),this.postCompose(i,t,e,r)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,n){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,l=this.getLayer(),h={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,i,{},(function(t){var e=(0,r.sq)(t);if(!(e in h))return h[e]=!0,o.call(n,t,l)}),null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),r=i.getSource(),o=t.viewHints[lt.Z.ANIMATING],n=t.viewHints[lt.Z.INTERACTING],s=i.getUpdateWhileAnimating(),a=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!a&&n)return!0;var l=t.extent,h=t.viewState,u=h.projection,c=h.resolution,p=t.pixelRatio,f=i.getRevision(),d=i.getRenderBuffer(),g=i.getRenderOrder();void 0===g&&(g=Ne);var y=(0,ut.f3)(l,d*c),_=h.projection.getExtent();if(r.getWrapX()&&h.projection.canWrapX()&&!(0,ut.r4)(_,t.extent)){var v=(0,ut.dz)(_),m=Math.max((0,ut.dz)(y)/2,v);y[0]=_[0]-m,y[2]=_[2]+m}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==g&&(0,ut.r4)(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var S=new Ze(je(c,p),y,c,p,r.getOverlaps(),this.declutterTree_,i.getRenderBuffer());r.loadFeatures(y,c,u);var E=function(t){var e,r=t.getStyleFunction()||i.getStyleFunction();if(r&&(e=r(t,c)),e){var o=this.renderFeature(t,c,p,e,S);this.dirty_=this.dirty_||o}}.bind(this);if(g){var b=[];r.forEachFeatureInExtent(y,(function(t){b.push(t)})),b.sort(g);for(var O=0,T=b.length;O<T;++O)E(b[O])}else r.forEachFeatureInExtent(y,E);return S.finish(),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=g,this.renderedExtent_=y,this.replayGroup_=S,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,r,o){if(!r)return!1;var n=!1;if(Array.isArray(r))for(var s=0,a=r.length;s<a;++s)n=Ge(o,t,r[s],De(e,i),this.handleStyleImageChange_,this)||n;else n=Ge(o,t,r,De(e,i),this.handleStyleImageChange_,this);return n},e}(Bt);Ue.handles=function(t){return t.getType()===Ot.Z.VECTOR},Ue.create=function(t,e){return new Ue(e)};const Ke=Ue;var We=i(78181),Be=i(18672),Ve=i(40868),Ye={image:[se,ie,ne,oe,ae],hybrid:[se,ne]},He={image:[re],hybrid:[oe,ae,re],vector:me},Xe=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?$t()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,dt.Ue)();var i=e.getRenderMode();this.zDirection=i===We.Z.VECTOR?1:0,i!==We.Z.VECTOR&&(this.context=(0,ht.E4)()),(0,u.oL)(Ct.GK,et.Z.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,u.Ev)(Ct.GK,et.Z.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,r,o,n){var s=t.prototype.getTile.call(this,e,i,r,o,n);return s.getState()===tt.Z.LOADED&&(this.createReplayGroup_(s,o,n),this.context&&this.renderTileImage_(s,o,n)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,i){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var r=this,o=this.getLayer(),n=o.getRevision(),s=o.getRenderOrder()||null,a=t.getReplayState(o);if(a.dirty||a.renderedRevision!=n||a.renderedRenderOrder!=s){for(var l=o.getSource(),h=l.getTileGrid(),u=l.getTileGridForProjection(i).getResolution(t.tileCoord[0]),c=t.extent,p=function(n,p){var f=t.getTile(t.tileKeys[n]);if(f.getState()==tt.Z.LOADED){var d=f.tileCoord,g=h.getTileCoordExtent(d),y=(0,ut.Ed)(c,g),_=(0,ut.fS)(g,y)?null:(0,ut.f3)(y,o.getRenderBuffer()*u,r.tmpExtent),v=f.getProjection(),m=!1;(0,Be.OP)(i,v)||(m=!0,f.setProjection(i)),a.dirty=!1;var S=new Ze(0,y,u,e,l.getOverlaps(),r.declutterTree_,o.getRenderBuffer()),E=De(u,e),b=function(t){var e,i=t.getStyleFunction()||o.getStyleFunction();if(i&&(e=i(t,u)),e){var r=this.renderFeature(t,E,e,S);this.dirty_=this.dirty_||r,a.dirty=a.dirty||r}},O=f.getFeatures();s&&s!==a.renderedRenderOrder&&O.sort(s);for(var T=0,R=O.length;T<R;++T){var x=O[T];m&&(v.getUnits()==Ve.default.TILE_PIXELS&&(v.setWorldExtent(g),v.setExtent(f.getExtent())),x.getGeometry().transform(v,i)),_&&!(0,ut.kK)(_,x.getGeometry().getExtent())||b.call(r,x)}S.finish(),f.setReplayGroup(o,t.tileCoord.toString(),S)}},f=0,d=t.tileKeys.length;f<d;++f)p(f);a.renderedRevision=n,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,n){var s=e.viewState.resolution,a=e.viewState.rotation;i=null==i?0:i;var l,h,u,c,p=this.getLayer(),f={},d=this.renderedTiles;for(u=0,c=d.length;u<c;++u){var g=d[u];if(l=(0,ut.f3)(g.extent,i*s,l),(0,ut.b8)(l,t))for(var y=0,_=g.tileKeys.length;y<_;++y){var v=g.getTile(g.tileKeys[y]);if(v.getState()==tt.Z.LOADED){var m=v.getReplayGroup(p,g.tileCoord.toString());h=h||m.forEachFeatureAtCoordinate(t,s,a,i,{},(function(t){var e=(0,r.sq)(t);if(!(e in f))return f[e]=!0,o.call(n,t,p)}),null)}}}return h},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer().getSource().getTileGrid(),r=t.tileCoord,o=i.getResolution(r[0]),n=e.viewState,s=e.pixelRatio,a=n.resolution/s,l=i.getTileCoordExtent(r,this.tmpExtent),h=n.center,u=(0,ut.rL)(l),c=e.size,p=Math.round(s*c[0]/2),f=Math.round(s*c[1]/2);return(0,dt.qC)(this.tmpTransform_,p,f,o/a,o/a,n.rotation,(u[0]-h[0])/o,(h[1]-u[1])/o)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,r){var o=this.getLayer(),n=o.getRenderMode();if(n!=We.Z.IMAGE){var s,a,l=o.getDeclutter()?{}:null,h=o.getSource(),u=He[n],c=i.pixelRatio,p=i.viewState.rotation,f=i.size;p&&(s=Math.round(c*f[0]/2),a=Math.round(c*f[1]/2),(0,Ct.qs)(e,-p,s,a)),l&&this.declutterTree_.clear();for(var d=i.viewHints,g=!(d[lt.Z.ANIMATING]||d[lt.Z.INTERACTING]),y=this.renderedTiles,_=h.getTileGridForProjection(i.viewState.projection),v=[],m=[],S=y.length-1;S>=0;--S){var E=y[S];if(E.getState()!=tt.Z.ABORT)for(var b=E.tileCoord,O=_.getTileCoordExtent(b,this.tmpExtent)[0]-E.extent[0],T=void 0,R=0,x=E.tileKeys.length;R<x;++R){var w=E.getTile(E.tileKeys[R]);if(w.getState()==tt.Z.LOADED){var C=w.getReplayGroup(o,b.toString());if(C&&C.hasReplays(u)){T||(T=this.getTransform(i,O));var I=w.tileCoord[0],L=C.getClipCoords(T);e.save(),e.globalAlpha=r.opacity;for(var k=0,A=v.length;k<A;++k){var F=v[k];I<m[k]&&(e.beginPath(),e.moveTo(L[0],L[1]),e.lineTo(L[2],L[3]),e.lineTo(L[4],L[5]),e.lineTo(L[6],L[7]),e.moveTo(F[6],F[7]),e.lineTo(F[4],F[5]),e.lineTo(F[2],F[3]),e.lineTo(F[0],F[1]),e.clip())}C.replay(e,T,p,{},g,u,l),e.restore(),v.push(L),m.push(I)}}}}l&&function(t,e,i,r){for(var o=Object.keys(t).map(Number).sort(j.kK),n={},s=0,a=o.length;s<a;++s)for(var l=t[o[s].toString()],h=0,u=l.length;h<u;){var c=l[h++],p=l[h++];c.replay(e,p,i,n,r)}}(l,e,p,g),p&&(0,Ct.qs)(e,p,s,a)}t.prototype.postCompose.call(this,e,i,r)},e.prototype.renderFeature=function(t,e,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var n=0,s=i.length;n<s;++n)o=Ge(r,t,i[n],e,this.handleStyleImageChange_,this)||o;else o=Ge(r,t,i,e,this.handleStyleImageChange_,this);return o},e.prototype.renderTileImage_=function(t,e,i){var r=this.getLayer(),o=t.getReplayState(r),n=r.getRevision(),s=Ye[r.getRenderMode()];if(s&&o.renderedTileRevision!==n){o.renderedTileRevision=n;var a=t.wrappedTileCoord,l=a[0],h=r.getSource(),u=h.getTileGridForProjection(i),c=u.getResolution(l),p=t.getContext(r),f=h.getTilePixelSize(l,e,i);p.canvas.width=f[0],p.canvas.height=f[1];for(var d=u.getTileCoordExtent(a,this.tmpExtent),g=0,y=t.tileKeys.length;g<y;++g){var _=t.getTile(t.tileKeys[g]);if(_.getState()==tt.Z.LOADED){var v=e/c,m=(0,dt.mc)(this.tmpTransform_);(0,dt.bA)(m,v,-v),(0,dt.Iu)(m,-d[0],-d[3]),_.getReplayGroup(r,t.tileCoord.toString()).replay(p,m,0,{},!0,s)}}}},e}(Jt);Xe.handles=function(t){return t.getType()===Ot.Z.VECTOR_TILE},Xe.create=function(t,e){return new Xe(e)};const qe=Xe,Je=function(t){function e(e){(e=(0,rt.f0)({},e)).controls||(e.controls=(0,_t.c)()),e.interactions||(e.interactions=(0,vt.ce)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Kt(this);return t.registerLayerRenderers([Ht,Jt,Ke,qe]),t},e}(gt)},32062:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r=function(t){function e(e,i,r,o,n){t.call(this,e,i,n),this.originalEvent=r,this.pixel=i.getEventPixel(r),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==o&&o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(i(10255).Z)},86968:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r=function(t){function e(e,i,r,o,n){t.call(this,e,i,r.originalEvent,o,n),this.pointerEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(32062).Z)},10255:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r=function(t){function e(e,i,r){t.call(this,e),this.map=i,this.frameState=void 0!==r?r:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(9520).ZP)},39850:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},76773:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>T});var r=i(10508),o=i(49179),n=i(64011),s=i(21882);function a(t){return t}var l=i(58493),h=i(79682),u=i(38642),c=i(6908),p=i(86340),f=i(38906),d=i(90728),g=i(86320),y=i(21915),_=i(28795),v=i(40353),m=i(13580),S=i(18672),E=i(40868);function b(t,e){setTimeout((function(){t(e)}),0)}function O(t){return!(t.sourceCenter&&t.targetCenter&&!(0,d.fS)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}const T=function(t){function e(e){t.call(this);var i=(0,m.f0)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,S.UQ)(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[p.Z.CENTER]=void 0!==t.center?t.center:null;var i=function(t){var e,i,o,n=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28,l=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var u=t.resolutions;i=u[n],o=void 0!==u[a]?u[a]:u[u.length-1],e=function(t){return function(e,i,r){if(void 0!==e){var o=(0,h.h7)(t,e,r);o=(0,s.uZ)(o+i,0,t.length-1);var n=Math.floor(o);if(o!=n&&n<t.length-1){var a=t[n]/t[n+1];return t[n]/Math.pow(a,o-n)}return t[n]}}}(u)}else{var c=(0,S.UQ)(t.projection,"EPSG:3857"),p=c.getExtent(),f=(p?Math.max((0,y.dz)(p),(0,y.Cr)(p)):360*E.METERS_PER_UNIT[E.default.DEGREES]/c.getMetersPerUnit())/r.S/Math.pow(2,0),d=f/Math.pow(2,28);void 0!==(i=t.maxResolution)?n=0:i=f/Math.pow(l,n),void 0===(o=t.minResolution)&&(o=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(l,a):f/Math.pow(l,a):d),a=n+Math.floor(Math.log(i/o)/Math.log(l)),o=i/Math.pow(l,a-n),e=function(t,e,i){return function(r,o,n){if(void 0!==r){var s=-n/2+.5,a=Math.floor(Math.log(e/r)/Math.log(t)+s),l=Math.max(a+o,0);return void 0!==i&&(l=Math.min(l,i)),e/Math.pow(t,l)}}}(l,i,a-n)}return{constraint:e,maxResolution:i,minResolution:o,minZoom:n,zoomFactor:l}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var o=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[(0,s.uZ)(t[0],e[0],e[2]),(0,s.uZ)(t[1],e[1],e[3])]:void 0}):a;var e}(t),n=i.constraint,l=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,u.Gw)():!1===e?u.YP:"number"==typeof e?(0,u.gE)(e):u.YP}return u.h$}(t);this.constraints_={center:o,resolution:n,rotation:l},void 0!==t.resolution?e[p.Z.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[p.Z.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[p.Z.RESOLUTION]=(0,s.uZ)(Number(this.getResolution()||e[p.Z.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[p.Z.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,m.f0)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),(0,m.f0)({},e,t)},e.prototype.animate=function(t){var e,i=arguments,r=arguments.length;if(r>1&&"function"==typeof arguments[r-1]&&(e=arguments[r-1],--r),!this.isDef()){var o=arguments[r-1];return o.center&&this.setCenter(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(e&&b(e,!0))}for(var n=Date.now(),a=this.getCenter().slice(),l=this.getResolution(),h=this.getRotation(),u=[],p=0;p<r;++p){var f=i[p],d={start:n,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||g.rd};if(f.center&&(d.sourceCenter=a,d.targetCenter=f.center,a=d.targetCenter),void 0!==f.zoom?(d.sourceResolution=l,d.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0),l=d.targetResolution):f.resolution&&(d.sourceResolution=l,d.targetResolution=f.resolution,l=d.targetResolution),void 0!==f.rotation){d.sourceRotation=h;var y=(0,s.$W)(f.rotation-h+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=h+y,h=d.targetRotation}d.callback=e,O(d)?d.complete=!0:n+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(c.Z.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c.Z.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[c.Z.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(c.Z.ANIMATING,-this.hints_[c.Z.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&b(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var r=this.animations_[i],o=!0,n=0,a=r.length;n<a;++n){var l=r[n];if(!l.complete){var h=t-l.start,u=l.duration>0?h/l.duration:1;u>=1?(l.complete=!0,u=1):o=!1;var f=l.easing(u);if(l.sourceCenter){var d=l.sourceCenter[0],g=l.sourceCenter[1],y=d+f*(l.targetCenter[0]-d),_=g+f*(l.targetCenter[1]-g);this.set(p.Z.CENTER,[y,_])}if(l.sourceResolution&&l.targetResolution){var v=1===f?l.targetResolution:l.sourceResolution+f*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(p.Z.CENTER,this.calculateCenterZoom(v,l.anchor)),this.set(p.Z.RESOLUTION,v)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var m=1===f?(0,s.$W)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+f*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(p.Z.CENTER,this.calculateCenterRotate(m,l.anchor)),this.set(p.Z.ROTATION,m)}if(e=!0,!l.complete)break}}if(o){this.animations_[i]=null,this.setHint(c.Z.ANIMATING,-1);var S=r[0].callback;S&&b(S,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,r=this.getCenter();return void 0!==r&&(i=[r[0]-e[0],r[1]-e[1]],(0,d.U1)(i,t-this.getRotation()),(0,d.IH)(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,r=this.getCenter(),o=this.getResolution();return void 0!==r&&void 0!==o&&(i=[e[0]-t*(e[0]-r[0])/o,e[1]-t*(e[1]-r[1])/o]),i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,o.sq)(this)+'"]',i=document.querySelector(e);if(i){var r=getComputedStyle(i);t[0]=parseInt(r.width,10),t[1]=parseInt(r.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var r=e||0,o=i||0;return this.constraints_.resolution(t,r,o)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(p.Z.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();(0,f.h)(i,1);var r=this.getResolution();(0,f.h)(void 0!==r,2);var o=this.getRotation();return(0,f.h)(void 0!==o,3),(0,y.p8)(i,r,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(p.Z.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),r=(0,y.dz)(t)/i[0],o=(0,y.Cr)(t)/i[1];return Math.max(r,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,r=this.minResolution_,o=Math.log(i/r)/Math.log(e);return function(t){return i/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(p.Z.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,r=this.minResolution_,o=Math.log(i/r)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/o}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),r=this.getResolution(),o=r/t,n=this.getRotation();return{center:[Math.round(e[0]/o)*o,Math.round(e[1]/o)*o],projection:void 0!==i?i:null,resolution:r,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,r=this.minZoom_||0;if(this.resolutions_){var o=(0,h.h7)(this.resolutions_,t,1);r=o,e=this.resolutions_[o],i=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,i=this.zoomFactor_;return r+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,r=e||{},o=r.size;o||(o=this.getSizeFromViewport_()),(0,f.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,f.h)(!(0,y.xb)(t),25),i=(0,v.oJ)(t)):t.getType()===_.Z.CIRCLE?(t=t.getExtent(),(i=(0,v.oJ)(t)).rotate(this.getRotation(),(0,y.qg)(t))):i=t;var s,a=void 0!==r.padding?r.padding:[0,0,0,0],l=void 0===r.constrainResolution||r.constrainResolution,h=void 0!==r.nearest&&r.nearest;s=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0):0;for(var u=i.getFlatCoordinates(),c=this.getRotation(),p=Math.cos(-c),d=Math.sin(-c),g=1/0,m=1/0,S=-1/0,E=-1/0,O=i.getStride(),T=0,R=u.length;T<R;T+=O){var x=u[T]*p-u[T+1]*d,w=u[T]*d+u[T+1]*p;g=Math.min(g,x),m=Math.min(m,w),S=Math.max(S,x),E=Math.max(E,w)}var C=this.getResolutionForExtent([g,m,S,E],[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);if(C=isNaN(C)?s:Math.max(C,s),l){var I=this.constrainResolution(C,0,0);!h&&I<C&&(I=this.constrainResolution(I,-1,0)),C=I}d=-d;var L=(g+S)/2,k=(m+E)/2,A=[(L+=(a[1]-a[3])/2*C)*p-(k+=(a[0]-a[2])/2*C)*d,k*p+L*d],F=r.callback?r.callback:n.Zn;void 0!==r.duration?this.animate({resolution:C,center:A,duration:r.duration,easing:r.easing},F):(this.setResolution(C),this.setCenter(A),b(F,!0))},e.prototype.centerOn=function(t,e,i){var r=this.getRotation(),o=Math.cos(-r),n=Math.sin(-r),s=t[0]*o-t[1]*n,a=t[1]*o+t[0]*n,l=this.getResolution(),h=(s+=(e[0]/2-i[0])*l)*o-(a+=(i[1]-e[1]/2)*l)*(n=-n),u=a*o+s*n;this.setCenter([h,u])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(p.Z.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(p.Z.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(p.Z.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(l.ZP)},86340:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},19530:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var r=i(64011),o=i(40188),n=i(58493),s=i(85386),a=i(65637);const l=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:r.Zn,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,s.ZF)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,s.ZF)(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)(0,a.bN)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.Zn&&this.listenerKeys.push((0,a.oL)(t,o.Z.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(n.ZP)},99937:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var r=i(65637),o=i(73381),n=i(19530),s=i(67644),a=i(86320);const l=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var n=void 0!==i.className?i.className:"ol-zoom",a=void 0!==i.delta?i.delta:1,l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",h=void 0!==i.zoomOutLabel?i.zoomOutLabel:"−",u=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=n+"-in",p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof l?document.createTextNode(l):l),(0,r.oL)(p,o.Z.CLICK,this.handleClick_.bind(this,a));var f=document.createElement("button");f.className=n+"-out",f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof h?document.createTextNode(h):h),(0,r.oL)(f,o.Z.CLICK,this.handleClick_.bind(this,-a));var d=n+" "+s.XV+" "+s.hg,g=this.element;g.className=d,g.appendChild(p),g.appendChild(f),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getResolution();if(i){var r=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:r,duration:this.duration_,easing:a.Vv})):e.setResolution(r)}}},e}(n.Z)},70878:(t,e,i)=>{"use strict";i.d(e,{c:()=>_});var r=i(78426),o=i(79682),n=i(19530),s=i(67644),a=i(85386),l=i(65637),h=i(73381),u=i(77701);function c(t){this.updateElement_(t.frameState)}const p=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||c,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",n=void 0!==i.collapseLabel?i.collapseLabel:"»";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var a=void 0!==i.label?i.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,p=document.createElement("button");p.setAttribute("type","button"),p.title=o,p.appendChild(u),(0,l.oL)(p,h.Z.CLICK,this.handleClick_,this);var f=r+" "+s.XV+" "+s.hg+(this.collapsed_&&this.collapsible_?" "+s.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=f,d.appendChild(this.ulElement_),d.appendChild(p),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],r=t.layerStatesArray,o=t.viewState.resolution,n=0,s=r.length;n<s;++n){var a=r[n];if((0,u.l)(a,o)){var l=a.layer.getSource();if(l){var h=l.getAttributions();if(h){var c=h(t);if(c)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var p=0,f=c.length;p<f;++p)c[p]in e||(i.push(c[p]),e[c[p]]=!0);else c in e||(i.push(c),e[c]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,o.fS)(e,this.renderedAttributions_)){(0,a.ep)(this.ulElement_);for(var r=0,n=e.length;r<n;++r){var s=document.createElement("li");s.innerHTML=e[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(s.hN),this.collapsed_?(0,a.$H)(this.collapseLabel_,this.label_):(0,a.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(n.Z);var f=i(86320);function d(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var r="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(s.oj);o||0!==i?o&&0!==i&&this.element.classList.remove(s.oj):this.element.classList.add(s.oj)}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=i}}const g=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||d,target:i.target});var r=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"⇧";this.label_=null,"string"==typeof o?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=o):(this.label_=o,this.label_.classList.add("ol-compass"));var n=i.tipLabel?i.tipLabel:"Reset rotation",a=document.createElement("button");a.className=r+"-reset",a.setAttribute("type","button"),a.title=n,a.appendChild(this.label_),(0,l.oL)(a,h.Z.CLICK,this.handleClick_,this);var u=r+" "+s.XV+" "+s.hg,c=this.element;c.className=u,c.appendChild(a),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(s.oj)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:f.Vv}):t.setRotation(0))},e}(n.Z);var y=i(99937);function _(t){var e=t||{},i=new r.Z;return(void 0===e.zoom||e.zoom)&&i.push(new y.Z(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new g(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new p(e.attributionOptions)),i}},87540:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a,j:()=>l});var r=i(13580),o=i(49179),n=i(18672),s=function(){this.dataProjection=null,this.defaultFeatureProjection=null};s.prototype.getReadOptions=function(t,e){var i;return e&&(i={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(i)},s.prototype.adaptOptions=function(t){return(0,r.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},s.prototype.getLastExtent=function(){return null},s.prototype.getType=function(){return(0,o.O3)()},s.prototype.readFeature=function(t,e){return(0,o.O3)()},s.prototype.readFeatures=function(t,e){return(0,o.O3)()},s.prototype.readGeometry=function(t,e){return(0,o.O3)()},s.prototype.readProjection=function(t){return(0,o.O3)()},s.prototype.writeFeature=function(t,e){return(0,o.O3)()},s.prototype.writeFeatures=function(t,e){return(0,o.O3)()},s.prototype.writeGeometry=function(t,e){return(0,o.O3)()};const a=s;function l(t,e,i){var r,o=i?(0,n.U2)(i.featureProjection):null,s=i?(0,n.U2)(i.dataProjection):null;if(r=o&&s&&!(0,n.OP)(o,s)?Array.isArray(t)?(0,n.$A)(t,s,o):(e?t.clone():t).transform(e?o:s,e?s:o):t,e&&i&&void 0!==i.decimals&&!Array.isArray(r)){var a=Math.pow(10,i.decimals);r===t&&(r=t.clone()),r.applyTransform((function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r}},69141:(t,e,i)=>{"use strict";i.d(e,{Z:()=>m});var r=i(38906),o=i(23068),n=i(87540),s=i(98968),a=i(98090),l=i(44538),h=i(25642),u=i(52329),c=i(759),p=i(52043),f=i(40353),d=i(13580),g=i(18672),y=i(28795);function _(t,e){if(!t)return null;var i;switch(t.type){case y.Z.POINT:i=function(t){return new p.Z(t.coordinates)}(t);break;case y.Z.LINE_STRING:i=function(t){return new l.Z(t.coordinates)}(t);break;case y.Z.POLYGON:i=function(t){return new f.ZP(t.coordinates)}(t);break;case y.Z.MULTI_POINT:i=function(t){return new u.Z(t.coordinates)}(t);break;case y.Z.MULTI_LINE_STRING:i=function(t){return new h.Z(t.coordinates)}(t);break;case y.Z.MULTI_POLYGON:i=function(t){return new c.Z(t.coordinates)}(t);break;case y.Z.GEOMETRY_COLLECTION:i=function(t,e){var i=t.geometries.map((function(t){return _(t,undefined)}));return new a.default(i)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(0,n.j)(i,!1,e)}function v(t,e){var i,r=(t=(0,n.j)(t,!0,e)).getType();switch(r){case y.Z.POINT:i=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case y.Z.LINE_STRING:i=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case y.Z.POLYGON:i=function(t,e){var i;return e&&(i=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(i)}}(t,e);break;case y.Z.MULTI_POINT:i=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case y.Z.MULTI_LINE_STRING:i=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case y.Z.MULTI_POLYGON:i=function(t,e){var i;return e&&(i=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(i)}}(t,e);break;case y.Z.GEOMETRY_COLLECTION:i=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var i=(0,d.f0)({},e);return delete i.featureProjection,v(t,i)}))}}(t,e);break;case y.Z.CIRCLE:i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return i}const m=function(t){function e(e){var i=e||{};t.call(this),this.dataProjection=(0,g.U2)(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(this.defaultFeatureProjection=(0,g.U2)(i.featureProjection)),this.geometryName_=i.geometryName,this.extractGeometryName_=i.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var i,r=_((i="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),n=new o.Z;return this.geometryName_?n.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&n.setGeometryName(i.geometry_name),n.setGeometry(r),"id"in i&&n.setId(i.id),i.properties&&n.setProperties(i.properties),n},e.prototype.readFeaturesFromObject=function(t,e){var i=null;if("FeatureCollection"===t.type){i=[];for(var r=t.features,o=0,n=r.length;o<n;++o)i.push(this.readFeatureFromObject(r[o],e))}else i=[this.readFeatureFromObject(t,e)];return i},e.prototype.readGeometryFromObject=function(t,e){return _(t,e)},e.prototype.readProjectionFromObject=function(t){var e,i=t.crs;return i?"name"==i.type?e=(0,g.U2)(i.properties.name):(0,r.h)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},r=t.getId();void 0!==r&&(i.id=r);var o=t.getGeometry();o&&(i.geometry=v(o,e));var n=t.getProperties();return delete n[t.getGeometryName()],(0,d.xb)(n)||(i.properties=n),i},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],r=0,o=t.length;r<o;++r)i.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,e){return v(t,this.adaptOptions(e))},e}(s.Z)},98968:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var r=i(49179),o=i(87540),n=i(34007);function s(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const a=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return n.Z.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,r.O3)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,r.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,r.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(s(t))},e.prototype.readProjectionFromObject=function(t){return(0,r.O3)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,r.O3)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,r.O3)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,r.O3)()},e}(o.Z)},37566:(t,e,i)=>{"use strict";i.d(e,{ce:()=>y});var r=i(78426),o=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};o.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},o.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},o.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var r=this.points_[e+2]-this.points_[i+2];if(r<1e3/60)return!1;var o=this.points_[e]-this.points_[i],n=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(n,o),this.initialVelocity_=Math.sqrt(o*o+n*n)/r,this.initialVelocity_>this.minVelocity_},o.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},o.prototype.getAngle=function(){return this.angle_};const n=o;var s=i(18369),a=i(73800),l=i(97950),h=i(78516),u=i(45801),c=i(52),p=i(86306),f=i(78653),d=i(48041),g=i(36403);function y(t){var e=t||{},i=new r.Z,o=new n(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new l.Z),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new s.Z({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new a.Z({condition:e.onFocusOnly?g.T_:void 0,kinetic:o})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new f.Z),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new d.Z({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new u.Z),i.push(new c.Z({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new p.Z({condition:e.onFocusOnly?g.T_:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new h.Z({duration:e.zoomDuration})),i}},31742:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>y});var r=i(49179),o=i(78426),n=i(19629),s=i(58493),a=i(13910),l=i(38906),h=i(65637),u=i(73381),c=i(21915),p=i(10410),f=i(13580),d=i(82418),g="layers";const y=function(t){function e(e){var i=e||{},r=(0,f.f0)({},i);delete r.layers;var n=i.layers;t.call(this,r),this.layersListenerKeys_=[],this.listenerKeys_={},(0,h.oL)(this,(0,s.v_)(g),this.handleLayersChanged_,this),n?Array.isArray(n)?n=new o.Z(n.slice(),{unique:!0}):(0,l.h)("function"==typeof n.getArray,43):n=new o.Z(void 0,{unique:!0}),this.setLayers(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(h.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,h.oL)(t,n.Z.ADD,this.handleLayersAdd_,this),(0,h.oL)(t,n.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(h.bN);(0,f.ZH)(this.listenerKeys_);for(var i=t.getArray(),o=0,s=i.length;o<s;o++){var l=i[o];this.listenerKeys_[(0,r.sq)(l)]=[(0,h.oL)(l,a.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,h.oL)(l,u.Z.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,r.sq)(e)]=[(0,h.oL)(e,a.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,h.oL)(e,u.Z.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=(0,r.sq)(e);this.listenerKeys_[i].forEach(h.bN),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(g)},e.prototype.setLayers=function(t){this.set(g,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var r=this.getLayerState(),o=i,n=e.length;o<n;o++){var s=e[o];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),void 0!==r.extent&&(void 0!==s.extent?s.extent=(0,c.Ed)(s.extent,r.extent):s.extent=r.extent)}return e},e.prototype.getSourceState=function(){return d.Z.READY},e}(p.default)},78181:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},34681:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var r=function(t,e){this.dispatcher=t,this.mapping_=e};r.prototype.getEvents=function(){return Object.keys(this.mapping_)},r.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};const o=r},14303:(t,e,i)=>{"use strict";i.d(e,{yA:()=>o,T2:()=>n,R:()=>c,ZP:()=>p});var r=i(34681),o=1,n="mouse";function s(t){if(!this.isEventSimulatedFromTouch_(t)){o.toString()in this.pointerMap&&this.cancel(t);var e=c(t,this.dispatcher);this.pointerMap[o.toString()]=t,this.dispatcher.down(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=c(t,this.dispatcher);this.dispatcher.move(e,t)}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[o.toString()];if(e&&e.button===t.button){var i=c(t,this.dispatcher);this.dispatcher.up(i,t),this.cleanupMouse()}}}function h(t){if(!this.isEventSimulatedFromTouch_(t)){var e=c(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=c(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function c(t,e){var i=e.cloneEvent(t,t),r=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),r()},i.pointerId=o,i.isPrimary=!0,i.pointerType=n,i}const p=function(t){function e(e){var i={mousedown:s,mousemove:a,mouseup:l,mouseover:h,mouseout:u};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,r=t.clientY,o=0,n=e.length,s=void 0;o<n&&(s=e[o]);o++){var a=Math.abs(i-s[0]),l=Math.abs(r-s[1]);if(a<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=c(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[o.toString()]},e}(r.Z)},92663:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>C});var r=i(14431),o=i(29217),n=i(11256),s=i(65637),a=i(73381),l=i(21915);const h=function(t){function e(e,i,r,o,s,a){t.call(this,e,i,r,n.Z.IDLE),this.src_=o,this.image_=new Image,null!==s&&(this.image_.crossOrigin=s),this.imageListenerKeys_=null,this.state=n.Z.IDLE,this.imageLoadFunction_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=n.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,l.Cr)(this.extent)/this.image_.height),this.state=n.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=n.Z.IDLE&&this.state!=n.Z.ERROR||(this.state=n.Z.LOADING,this.changed(),this.imageListenerKeys_=[(0,s.Vx)(this.image_,a.Z.ERROR,this.handleImageError_,this),(0,s.Vx)(this.image_,a.Z.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.bN),this.imageListenerKeys_=null},e}(o.Z);var u=i(38906),c=i(13580),p=i(18672),f=i(52209),d=i(49179),g=i(35211),y=i(79682),_=i(9520),v=i(56245);const m=function(t){function e(e,i,r,o,s,a){var h=e.getExtent(),u=i.getExtent(),c=u?(0,l.Ed)(r,u):r,p=(0,l.qg)(c),d=(0,f.a)(e,i,p,o),y=g.m,_=new v.Z(e,i,c,h,d*y),m=a(_.calculateSourceExtent(),d,s),S=n.Z.LOADED;m&&(S=n.Z.IDLE);var E=m?m.getPixelRatio():1;t.call(this,r,o,E,S),this.targetProj_=i,this.maxSourceExtent_=h,this.triangulation_=_,this.targetResolution_=o,this.targetExtent_=r,this.sourceImage_=m,this.sourcePixelRatio_=E,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n.Z.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==n.Z.LOADED){var e=(0,l.dz)(this.targetExtent_)/this.targetResolution_,i=(0,l.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,f.s)(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==n.Z.IDLE){this.state=n.Z.LOADING,this.changed();var t=this.sourceImage_.getState();t==n.Z.LOADED||t==n.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,s.oL)(this.sourceImage_,a.Z.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=n.Z.LOADED&&e!=n.Z.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,s.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(o.Z);var S=i(71405),E=function(t){function e(e,i){t.call(this,e),this.image=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(_.ZP);function b(t,e){t.getImage().src=e}const O=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,y.h7)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,i,r){var o=this.getProjection();if(g.j&&o&&r&&!(0,p.OP)(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,p.OP)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&(0,l.fS)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new m(o,r,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,o)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(t,e,i,r)},e.prototype.getImageInternal=function(t,e,i,r){return(0,d.O3)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case n.Z.LOADING:this.loading=!0,this.dispatchEvent(new E("imageloadstart",e));break;case n.Z.LOADED:this.loading=!1,this.dispatchEvent(new E("imageloadend",e));break;case n.Z.ERROR:this.loading=!1,this.dispatchEvent(new E("imageloaderror",e))}},e}(S.Z);var T=i(99274),R=i(4388),x=i(78487),w=[101,101];const C=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:b,this.params_=i.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,o){if(void 0!==this.url_){var n=(0,p.U2)(i),s=this.getProjection();s&&s!==n&&(e=(0,f.a)(s,n,t,e),t=(0,p.vs)(t,n,s));var a=(0,l.p8)(t,e,0,w),h={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,c.f0)(h,this.params_,o);var u=Math.floor((t[0]-a[0])/e),d=Math.floor((a[3]-t[1])/e);return h[this.v13_?"I":"X"]=u,h[this.v13_?"J":"Y"]=d,this.getRequestUrl_(a,w,1,s||n,h)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,o){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var n=e/i,u=(0,l.qg)(t),p=Math.ceil((0,l.dz)(t)/n),f=Math.ceil((0,l.Cr)(t)/n),d=(0,l.p8)(u,n,0,[p,f]),g=Math.ceil(this.ratio_*(0,l.dz)(t)/n),y=Math.ceil(this.ratio_*(0,l.Cr)(t)/n),_=(0,l.p8)(u,n,0,[g,y]),v=this.image_;if(v&&this.renderedRevision_==this.getRevision()&&v.getResolution()==e&&v.getPixelRatio()==i&&(0,l.r4)(v.getExtent(),d))return v;var m={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,c.f0)(m,this.params_),this.imageSize_[0]=Math.round((0,l.dz)(_)/n),this.imageSize_[1]=Math.round((0,l.Cr)(_)/n);var S=this.getRequestUrl_(_,this.imageSize_,i,o,m);return this.image_=new h(_,e,i,S,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,s.oL)(this.image_,a.Z.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,r,o){if((0,u.h)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case T.Z.GEOSERVER:var n=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+n:o.FORMAT_OPTIONS="dpi:"+n;break;case T.Z.MAPSERVER:o.MAP_RESOLUTION=90*i;break;case T.Z.CARMENTA_SERVER:case T.Z.QGIS:o.DPI=90*i;break;default:(0,u.h)(!1,8)}o.WIDTH=e[0],o.HEIGHT=e[1];var s,a=r.getAxisOrientation();return s=this.v13_&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,o.BBOX=s.join(","),(0,x.B)(this.url_,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,c.f0)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||r.E;this.v13_=(0,R.n)(t,"1.3")>=0},e}(O)},91587:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>_});var r=i(14431),o=i(38906),n=i(21915),s=i(13580),a=i(21882),l=i(18672),h=i(52209),u=i(50596),c=i(76122),p=i(99274),f=i(70701),d=i(4388),g=i(78487);function y(t,e,i){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(i)),!(o.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var a=o.getResolution(t[0]),l=o.getTileCoordExtent(t,this.tmpExtent_),h=(0,u.Pq)(o.getTileSize(t[0]),this.tmpSize),c=this.gutter_;0!==c&&(h=(0,u.f3)(h,c,this.tmpSize),l=(0,n.f3)(l,a*c,l)),1!=e&&(h=(0,u.bA)(h,e,this.tmpSize));var p={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,s.f0)(p,this.params_),this.getRequestUrl_(t,h,l,e,i,p)}}const _=function(t){function e(e){var i=e||{},r=i.params||{},o=!("TRANSPARENT"in r)||r.TRANSPARENT;t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!o,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:y,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.gutter_=void 0!==i.gutter?i.gutter:0,this.params_=r,this.v13_=!0,this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.tmpExtent_=(0,n.lJ)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,o){var a=(0,l.U2)(i),c=this.getProjection(),p=this.getTileGrid();p||(p=this.getTileGridForProjection(a));var f=p.getTileCoordForCoordAndResolution(t,e);if(!(p.getResolutions().length<=f[0])){var d=p.getResolution(f[0]),g=p.getTileCoordExtent(f,this.tmpExtent_),y=(0,u.Pq)(p.getTileSize(f[0]),this.tmpSize),_=this.gutter_;0!==_&&(y=(0,u.f3)(y,_,this.tmpSize),g=(0,n.f3)(g,d*_,g)),c&&c!==a&&(d=(0,h.a)(c,a,t,d),g=(0,l.$A)(g,a,c),t=(0,l.vs)(t,a,c));var v={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,s.f0)(v,this.params_,o);var m=Math.floor((t[0]-g[0])/d),S=Math.floor((g[3]-t[1])/d);return v[this.v13_?"I":"X"]=m,v[this.v13_?"J":"Y"]=S,this.getRequestUrl_(f,y,g,1,c||a,v)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,r,n,s){var l=this.urls;if(l){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(s.STYLES=""),1!=r)switch(this.serverType_){case p.Z.GEOSERVER:var h=90*r+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+h:s.FORMAT_OPTIONS="dpi:"+h;break;case p.Z.MAPSERVER:s.MAP_RESOLUTION=90*r;break;case p.Z.CARMENTA_SERVER:case p.Z.QGIS:s.DPI=90*r;break;default:(0,o.h)(!1,52)}var u,c,d=n.getAxisOrientation(),y=i;return this.v13_&&"ne"==d.substr(0,2)&&(u=i[0],y[0]=i[1],y[1]=u,u=i[2],y[2]=i[3],y[3]=u),s.BBOX=y.join(","),c=1==l.length?l[0]:l[(0,a.$W)((0,f.vp)(t),l.length)],(0,g.B)(c,s)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.updateParams=function(t){(0,s.f0)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||r.E;this.v13_=(0,d.n)(t,"1.3")>=0},e}(c.Z)},99274:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},14431:(t,e,i)=>{"use strict";i.d(e,{E:()=>r});var r="1.3.0"},62875:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>v});var r=i(49179),o=i(11256),n=i(38906),s=i(8913),a=i(65637),l=i(73381);const h="fraction";var u=i(85386),c=i(66575),p=i(16250),f=function(t){function e(e,i,r,o,n,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==o&&(this.image_.crossOrigin=o),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=n,this.size_=r,this.src_=i,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===o.Z.LOADED){this.tainted_=!1;var t=(0,u.E4)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=o.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=o.Z.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],i=this.size_[1],r=(0,u.E4)(e,i);r.fillRect(0,0,e,i),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==o.Z.IDLE){this.imageState_=o.Z.LOADING,this.imageListenerKeys_=[(0,a.Vx)(this.image_,l.Z.ERROR,this.handleImageError_,this),(0,a.Vx)(this.image_,l.Z.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,r=this.color_[0]/255,o=this.color_[1]/255,n=this.color_[2]/255,s=0,a=i.length;s<a;s+=4)i[s]*=r,i[s+1]*=o,i[s+2]*=n;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.bN),this.imageListenerKeys_=null},e}(c.Z);const d="bottom-left",g="bottom-right",y="top-left",_="top-right",v=function(t){function e(e){var i=e||{},a=void 0!==i.opacity?i.opacity:1,l=void 0!==i.rotation?i.rotation:0,u=void 0!==i.scale?i.scale:1,c=void 0!==i.rotateWithView&&i.rotateWithView;t.call(this,{opacity:a,rotation:l,scale:u,rotateWithView:c}),this.anchor_=void 0!==i.anchor?i.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:y,this.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:h,this.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:h,this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var d=void 0!==i.img?i.img:null,g=void 0!==i.imgSize?i.imgSize:null,_=i.src;(0,n.h)(!(void 0!==_&&d),4),(0,n.h)(!d||d&&g,5),void 0!==_&&0!==_.length||!d||(_=d.src||(0,r.sq)(d)),(0,n.h)(void 0!==_&&_.length>0,6);var v=void 0!==i.src?o.Z.IDLE:o.Z.LOADED;this.color_=void 0!==i.color?(0,s._2)(i.color):null,this.iconImage_=function(t,e,i,r,o,n){var s=p.c.get(e,r,n);return s||(s=new f(t,e,i,r,o,n),p.c.set(e,r,n,s)),s}(d,_,g,this.crossOrigin_,v,this.color_),this.offset_=void 0!==i.offset?i.offset:[0,0],this.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:y,this.origin_=null,this.size_=void 0!==i.size?i.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==h||this.anchorYUnits_==h){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==h&&(t[0]*=e[0]),this.anchorYUnits_==h&&(t[1]*=e[1])}if(this.anchorOrigin_!=y){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=_&&this.anchorOrigin_!=g||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=d&&this.anchorOrigin_!=g||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=y){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=_&&this.offsetOrigin_!=g||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=d&&this.offsetOrigin_!=g||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return(0,a.oL)(this.iconImage_,l.Z.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){(0,a.Ev)(this.iconImage_,l.Z.CHANGE,t,e)},e}(i(48039).default)},16250:(t,e,i)=>{"use strict";i.d(e,{c:()=>s});var r=i(8913),o=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function n(t,e,i){return e+":"+t+":"+(i?(0,r.XC)(i):"null")}o.prototype.clear=function(){this.cache_={},this.cacheSize_=0},o.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},o.prototype.get=function(t,e,i){var r=n(t,e,i);return r in this.cache_?this.cache_[r]:null},o.prototype.set=function(t,e,i,r){var o=n(t,e,i);this.cache_[o]=r,++this.cacheSize_},o.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new o},15565:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(98185),o=i(78288),n=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:o.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};n.prototype.clone=function(){return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(t){this.overflow_=t},n.prototype.setFont=function(t){this.font_=t},n.prototype.setMaxAngle=function(t){this.maxAngle_=t},n.prototype.setOffsetX=function(t){this.offsetX_=t},n.prototype.setOffsetY=function(t){this.offsetY_=t},n.prototype.setPlacement=function(t){this.placement_=t},n.prototype.setFill=function(t){this.fill_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.setText=function(t){this.text_=t},n.prototype.setTextAlign=function(t){this.textAlign_=t},n.prototype.setTextBaseline=function(t){this.textBaseline_=t},n.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},n.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},n.prototype.setPadding=function(t){this.padding_=t};const s=n},78288:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r={POINT:"point",LINE:"line"}},57129:(t,e)=>{"use strict";var i=Object.prototype.hasOwnProperty;function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var r,n,s=[];for(n in"string"!=typeof e&&(e="?"),t)if(i.call(t,n)){if((r=t[n])||null!=r&&!isNaN(r)||(r=""),n=o(n),r=o(r),null===n||null===r)continue;s.push(n+"="+r)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,i=/([^=?#&]+)=?([^&]*)/g,o={};e=i.exec(t);){var n=r(e[1]),s=r(e[2]);null===n||null===s||n in o||(o[n]=s)}return o}},47418:t=>{"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},20384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},55955:(t,e,i)=>{"use strict";var r=i(82584),o=i(48662),n=i(86430),s=i(85692);function a(t){return t.call.bind(t)}var l="undefined"!=typeof BigInt,h="undefined"!=typeof Symbol,u=a(Object.prototype.toString),c=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(l)var d=a(BigInt.prototype.valueOf);if(h)var g=a(Symbol.prototype.valueOf);function y(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function _(t){return"[object Map]"===u(t)}function v(t){return"[object Set]"===u(t)}function m(t){return"[object WeakMap]"===u(t)}function S(t){return"[object WeakSet]"===u(t)}function E(t){return"[object ArrayBuffer]"===u(t)}function b(t){return"undefined"!=typeof ArrayBuffer&&(E.working?E(t):t instanceof ArrayBuffer)}function O(t){return"[object DataView]"===u(t)}function T(t){return"undefined"!=typeof DataView&&(O.working?O(t):t instanceof DataView)}function R(t){return"[object SharedArrayBuffer]"===u(t)}function x(t){return"undefined"!=typeof SharedArrayBuffer&&(R.working?R(t):t instanceof SharedArrayBuffer)}function w(t){return y(t,c)}function C(t){return y(t,p)}function I(t){return y(t,f)}function L(t){return l&&y(t,d)}function k(t){return h&&y(t,g)}e.isArgumentsObject=r,e.isGeneratorFunction=o,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||T(t)},e.isUint8Array=function(t){return"Uint8Array"===n(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===n(t)},e.isUint16Array=function(t){return"Uint16Array"===n(t)},e.isUint32Array=function(t){return"Uint32Array"===n(t)},e.isInt8Array=function(t){return"Int8Array"===n(t)},e.isInt16Array=function(t){return"Int16Array"===n(t)},e.isInt32Array=function(t){return"Int32Array"===n(t)},e.isFloat32Array=function(t){return"Float32Array"===n(t)},e.isFloat64Array=function(t){return"Float64Array"===n(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===n(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===n(t)},_.working="undefined"!=typeof Map&&_(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(_.working?_(t):t instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(v.working?v(t):t instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(m.working?m(t):t instanceof WeakMap)},S.working="undefined"!=typeof WeakSet&&S(new WeakSet),e.isWeakSet=function(t){return S(t)},E.working="undefined"!=typeof ArrayBuffer&&E(new ArrayBuffer),e.isArrayBuffer=b,O.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&O(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=T,R.working="undefined"!=typeof SharedArrayBuffer&&R(new SharedArrayBuffer),e.isSharedArrayBuffer=x,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===u(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===u(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===u(t)},e.isGeneratorObject=function(t){return"[object Generator]"===u(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===u(t)},e.isNumberObject=w,e.isStringObject=C,e.isBooleanObject=I,e.isBigIntObject=L,e.isSymbolObject=k,e.isBoxedPrimitive=function(t){return w(t)||C(t)||I(t)||L(t)||k(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(b(t)||x(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},89539:(t,e,i)=>{var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++)i[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return i},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(l(arguments[i]));return e.join(" ")}i=1;for(var r=arguments,n=r.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(i>=n)return t;switch(t){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}default:return t}})),a=r[i];i<n;a=r[++i])y(a)||!E(a)?s+=" "+a:s+=" "+l(a);return s},e.deprecate=function(t,i){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(i);process.traceDeprecation?console.trace(i):console.error(i),r=!0}return t.apply(this,arguments)}};var n={},s=/^$/;if({NODE_ENV:"production"}.NODE_DEBUG){var a={NODE_ENV:"production"}.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function l(t,i){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(i)?r.showHidden=i:i&&e._extend(r,i),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=h),c(r,t,r.depth)}function h(t,e){var i=l.styles[e];return i?"["+l.colors[i][0]+"m"+t+"["+l.colors[i][1]+"m":t}function u(t,e){return t}function c(t,i,r){if(t.customInspect&&i&&T(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var o=i.inspect(r,t);return v(o)||(o=c(t,o,r)),o}var n=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(v(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return _(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}(t,i);if(n)return n;var s=Object.keys(i),a=function(t){var e={};return t.forEach((function(t,i){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(i)),O(i)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(i);if(0===s.length){if(T(i)){var l=i.name?": "+i.name:"";return t.stylize("[Function"+l+"]","special")}if(S(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(b(i))return t.stylize(Date.prototype.toString.call(i),"date");if(O(i))return p(i)}var h,u="",E=!1,R=["{","}"];return d(i)&&(E=!0,R=["[","]"]),T(i)&&(u=" [Function"+(i.name?": "+i.name:"")+"]"),S(i)&&(u=" "+RegExp.prototype.toString.call(i)),b(i)&&(u=" "+Date.prototype.toUTCString.call(i)),O(i)&&(u=" "+p(i)),0!==s.length||E&&0!=i.length?r<0?S(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special"):(t.seen.push(i),h=E?function(t,e,i,r,o){for(var n=[],s=0,a=e.length;s<a;++s)I(e,String(s))?n.push(f(t,e,i,r,String(s),!0)):n.push("");return o.forEach((function(o){o.match(/^\d+$/)||n.push(f(t,e,i,r,o,!0))})),n}(t,i,r,a,s):s.map((function(e){return f(t,i,r,a,e,E)})),t.seen.pop(),function(t,e,i){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}(h,u,R)):R[0]+u+R[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,i,r,o,n){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),I(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(l.value)<0?(a=y(i)?c(t,l.value,null):c(t,l.value,i-1)).indexOf("\n")>-1&&(a=n?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),m(s)){if(n&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function y(t){return null===t}function _(t){return"number"==typeof t}function v(t){return"string"==typeof t}function m(t){return void 0===t}function S(t){return E(t)&&"[object RegExp]"===R(t)}function E(t){return"object"==typeof t&&null!==t}function b(t){return E(t)&&"[object Date]"===R(t)}function O(t){return E(t)&&("[object Error]"===R(t)||t instanceof Error)}function T(t){return"function"==typeof t}function R(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!n[t])if(s.test(t)){var i=process.pid;n[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,r)}}else n[t]=function(){};return n[t]},e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=i(55955),e.isArray=d,e.isBoolean=g,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=_,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=S,e.types.isRegExp=S,e.isObject=E,e.isDate=b,e.types.isDate=b,e.isError=O,e.types.isNativeError=O,e.isFunction=T,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=i(20384);var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),w[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=i(35717),e._extend=function(t,e){if(!e||!E(e))return t;for(var i=Object.keys(e),r=i.length;r--;)t[i[r]]=e[i[r]];return t};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(L&&t[L]){var e;if("function"!=typeof(e=t[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,L,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,i,r=new Promise((function(t,r){e=t,i=r})),o=[],n=0;n<arguments.length;n++)o.push(arguments[n]);o.push((function(t,r){t?i(t):e(r)}));try{t.apply(this,o)}catch(t){i(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),L&&Object.defineProperty(e,L,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=L,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,n=function(){return r.apply(o,arguments)};t.apply(this,e).then((function(t){process.nextTick(n.bind(null,null,t))}),(function(t){process.nextTick(k.bind(null,t,n))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,r(t)),e}},10221:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,r.default)(t),(e=(0,o.default)(e,s)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));for(var i=t.split("."),n=0;n<i.length;n++)if(i[n].length>63)return!1;if(e.require_tld){var a=i.pop();if(!i.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(a))return!1}for(var l,h=0;h<i.length;h++){if(l=i[h],e.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var r=n(i(65571)),o=n(i(84808));function n(t){return t&&t.__esModule?t:{default:t}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.exports=e.default,t.exports.default=e.default},61028:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,o.default)(e),!(i=String(i)))return t(e,4)||t(e,6);if("4"===i){if(!n.test(e))return!1;var r=e.split(".").sort((function(t,e){return t-e}));return r[3]<=255}if("6"===i){var a=e.split(":"),l=!1,h=t(a[a.length-1],4),u=h?7:8;if(a.length>u)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(a.shift(),a.shift(),l=!0):"::"===e.substr(e.length-2)&&(a.pop(),a.pop(),l=!0);for(var c=0;c<a.length;++c)if(""===a[c]&&c>0&&c<a.length-1){if(l)return!1;l=!0}else if(h&&c===a.length-1);else if(!s.test(a[c]))return!1;return l?a.length>=1:a.length===u}return!1};var r,o=(r=i(65571))&&r.__esModule?r:{default:r},n=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,s=/^[0-9A-F]{1,4}$/i;t.exports=e.default,t.exports.default=e.default},2492:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,r.default)(t),!t||t.length>=2083||/[\s<>]/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;var i,a,c,p,f,d,g,y;if(e=(0,s.default)(e,l),g=t.split("#"),t=g.shift(),g=t.split("?"),t=g.shift(),(g=t.split("://")).length>1){if(i=g.shift().toLowerCase(),e.require_valid_protocol&&-1===e.protocols.indexOf(i))return!1}else{if(e.require_protocol)return!1;if("//"===t.substr(0,2)){if(!e.allow_protocol_relative_urls)return!1;g[0]=t.substr(2)}}if(""===(t=g.join("://")))return!1;if(g=t.split("/"),""===(t=g.shift())&&!e.require_host)return!0;if((g=t.split("@")).length>1){if(e.disallow_auth)return!1;if((a=g.shift()).indexOf(":")>=0&&a.split(":").length>2)return!1}d=null,y=null;var _=(p=g.join("@")).match(h);return _?(c="",y=_[1],d=_[2]||null):(c=(g=p.split(":")).shift(),g.length&&(d=g.join(":"))),!(null!==d&&(f=parseInt(d,10),!/^[0-9]+$/.test(d)||f<=0||f>65535))&&(!!((0,n.default)(c)||(0,o.default)(c,e)||y&&(0,n.default)(y,6))&&(c=c||y,!(e.host_whitelist&&!u(c,e.host_whitelist))&&(!e.host_blacklist||!u(c,e.host_blacklist))))};var r=a(i(65571)),o=a(i(10221)),n=a(i(61028)),s=a(i(84808));function a(t){return t&&t.__esModule?t:{default:t}}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},h=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(t,e){for(var i=0;i<e.length;i++){var r=e[i];if(t===r||(o=r,"[object RegExp]"===Object.prototype.toString.call(o)&&r.test(t)))return!0}var o;return!1}t.exports=e.default,t.exports.default=e.default},65571:(t,e)=>{"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;if(!("string"==typeof t||t instanceof String))throw e=null===t?"null":"object"===(e=i(t))&&t.constructor&&t.constructor.hasOwnProperty("name")?t.constructor.name:"a ".concat(e),new TypeError("Expected string but received ".concat(e,"."))},t.exports=e.default,t.exports.default=e.default},84808:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},t.exports=e.default,t.exports.default=e.default},86430:(t,e,i)=>{"use strict";var r=i(49804),o=i(16314),n=i(21924),s=n("Object.prototype.toString"),a=i(41405)()&&"symbol"==typeof Symbol.toStringTag,l=o(),h=n("String.prototype.slice"),u={},c=i(94079),p=Object.getPrototypeOf;a&&c&&p&&r(l,(function(t){if("function"==typeof i.g[t]){var e=new i.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=p(e),o=c(r,Symbol.toStringTag);if(!o){var n=p(r);o=c(n,Symbol.toStringTag)}u[t]=o.get}}));var f=i(85692);t.exports=function(t){return!!f(t)&&(a?function(t){var e=!1;return r(u,(function(i,r){if(!e)try{var o=i.call(t);o===r&&(e=o)}catch(t){}})),e}(t):h(s(t),8,-1))}}}]);