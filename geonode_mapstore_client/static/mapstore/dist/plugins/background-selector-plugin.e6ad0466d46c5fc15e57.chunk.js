(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4813],{81808:(e,t,r)=>{"use strict";r.d(t,{eD:()=>n,AM:()=>o,ok:()=>c,Gg:()=>i,nT:()=>u,TL:()=>a,KS:()=>l,EB:()=>s,DZ:()=>f,Aw:()=>p,V_:()=>d,H0:()=>y,jW:()=>b,JZ:()=>m,fQ:()=>h,HK:()=>v,YO:()=>g,I6:()=>O,$D:()=>E,SI:()=>A});var n="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",c="MAP_CONFIG_LOADED",i="MAP_CONFIG_LOAD_ERROR",u="MAP_LOAD_INFO",a="MAP_INFO_LOAD_START",l="MAP_INFO_LOADED",s="MAP_INFO_LOAD_ERROR",f="MAP:MAP_SAVE_ERROR",p="MAP:MAP_SAVED",d="MAP:RESET_MAP_SAVE_ERROR";function y(e,t,r){return{type:c,config:e,legacy:!!t,mapId:t,zoomToExtent:r}}function b(e,t){return{type:i,error:e,mapId:t}}function m(e,t,r,n,c){return{type:o,configName:e,mapId:t,config:r,mapInfo:n,overrideConfig:c}}function h(e,t){return{type:l,mapId:t,info:e}}function v(e,t){return{type:s,mapId:e,error:t}}function g(e){return{type:a,mapId:e}}function O(e){return{type:u,mapId:e}}var E=function(e){return{type:f,error:e}},A=function(e){return{type:p,resourceId:e}}},80416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>c,ih:()=>i,OX:()=>u,sb:()=>a,K$:()=>l,k7:()=>s,cX:()=>f,x9:()=>p,vs:()=>d,oE:()=>y,Po:()=>b,qv:()=>m,cI:()=>h,g6:()=>v,I4:()=>g,l$:()=>O,Xv:()=>E,k3:()=>A,CQ:()=>P,sH:()=>S,c7:()=>R,_7:()=>_,eF:()=>w,O6:()=>D,ED:()=>j,RP:()=>C,sF:()=>L,VP:()=>T,He:()=>k,vO:()=>I,WO:()=>x,bh:()=>N,pV:()=>M,ZF:()=>B,tV:()=>Y,Dv:()=>G,Yz:()=>Z,kI:()=>F,XG:()=>H,A4:()=>V,ct:()=>z,oh:()=>U,$h:()=>X,ud:()=>W,Qr:()=>$,LR:()=>q,nN:()=>K,UG:()=>J,F5:()=>Q,c9:()=>ee,Jh:()=>te});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",c="CHANGE_GROUP_PROPERTIES",i="TOGGLE_NODE",u="SORT_NODE",a="REMOVE_NODE",l="UPDATE_NODE",s="MOVE_NODE",f="LAYER_LOADING",p="LAYER_LOAD",d="LAYER_ERROR",y="ADD_LAYER",b="ADD_GROUP",m="REMOVE_LAYER",h="SHOW_SETTINGS",v="HIDE_SETTINGS",g="UPDATE_SETTINGS",O="REFRESH_LAYERS",E="LAYERS:UPDATE_LAYERS_DIMENSION",A="LAYERS_REFRESHED",P="LAYERS_REFRESH_ERROR",S="LAYERS:CLEAR_LAYERS",R="LAYERS:SELECT_NODE",_="LAYERS:FILTER_LAYERS",w="LAYERS:SHOW_LAYER_METADATA",D="LAYERS:HIDE_LAYER_METADATA",j="LAYERS:UPDATE_SETTINGS_PARAMS";function C(e,t,r){return{type:h,node:e,nodeType:t,options:r}}function L(){return{type:v}}function T(e){return{type:g,options:e}}function k(e,t){return{type:n,newProperties:t,layer:e}}function I(e,t){return{type:o,layer:e,params:t}}function x(e,t){return{type:c,newProperties:t,group:e}}function N(e,t,r){return{type:i,node:e,nodeType:t,status:!r}}function M(e){return{type:"CONTEXT_NODE",node:e}}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:a,node:e,nodeType:t,removeEmpty:r}}function Y(e,t,r){return{type:l,node:e,nodeType:t,options:r}}function G(e,t,r){return{type:s,node:e,groupId:t,index:r}}function Z(e){return{type:f,layerId:e}}function F(e,t){return{type:p,layerId:e,error:t}}function H(e,t,r){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:r}}function V(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:y,layer:e,foreground:t}}function z(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function U(e){return{type:A,layers:e}}function X(e,t){return{type:P,layers:e,error:t}}function W(e,t,r,n){return{type:E,dimension:e,value:t,options:r,layers:n}}function $(e){return{type:"LAYERS:BROWSE_DATA",layer:e}}function q(e){return{type:"LAYERS:DOWNLOAD",layer:e}}function K(){return{type:S}}function J(e,t,r){return{type:R,id:e,nodeType:t,ctrlKey:r}}function Q(e){return{type:_,text:e}}function ee(e,t){return{type:w,metadataRecord:e,maskLoading:t}}function te(){return{type:D}}},1262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(27418),o=r.n(n),c=r(45697),i=r.n(c),u=r(5053),a=r.n(u),l=r(64386),s=r.n(l),f=r(30294),p=r(38560),d=r(5346),y=r(7472);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,r,n,c,i=(n=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(n);if(c){var r=E(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return g(this,e)});function u(){var e;m(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(O(e=i.call.apply(i,[this].concat(r))),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&s().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return a().createElement(y.Z,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},a().createElement("span",{role:"header"},a().createElement("span",{className:"user-panel-title"},this.props.title),a().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?a().createElement(f.Glyphicon,{glyph:this.props.closeGlyph}):a().createElement("span",null,"Ã—"))),a().createElement("div",{role:"body"},this.props.children),a().createElement("div",{role:"footer"},a().createElement(f.ButtonGroup,null,a().createElement(p.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),a().createElement(p.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&h(t.prototype,r),u}(a().Component);A(P,"propTypes",{show:i().bool,draggable:i().bool,onClose:i().func,onConfirm:i().func,onSave:i().func,modal:i().bool,closeGlyph:i().string,style:i().object,buttonSize:i().string,inputStyle:i().object,title:i().node,confirmButtonContent:i().node,confirmButtonDisabled:i().bool,closeText:i().node,confirmButtonBSStyle:i().string,focusConfirm:i().bool}),A(P,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:a().createElement(d.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:a().createElement(d.Z,{msgId:"confirm"})||"Confirm",closeText:a().createElement(d.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const S=P},80833:(e,t,r)=>{"use strict";r.d(t,{kB:()=>a}),r(8575),r(91175);var n=r(90173),o=r(89255),c=r(67007),i=(r(75875),r(90183),r(24262)),u=r(10284);r(33044),n.default;var a=function(e){return o.Observable.defer((function(){return c.ZP.getCapabilities((0,i.Fh)(e))})).let(u.oB).map((function(t){return c.ZP.parseLayerCapabilities(t,e)}))}},23634:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(89208),o=r(49848),c=r(13311),i=r.n(c),u=r(82904),a=r(80416),l=r(53001),s=r(22222),f=r(75110),p=r(827),d=r(31935),y=r(55105),b=r(7872),m=r(22843),h=r(25108),v=r(62632),g=r(79504),O=r(2220);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=(0,s.P1)([p.uy,d.B0,d.Mz,d.TC,f.pV,p.Od,p.HJ,d.TP,f.X_,f.DP,f.qh,function(e){return(0,y.ic)(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},d.qS,d.Pe],(function(e,t,r,n,o,c,i,u,a,l,s,f,p,d,y,b){return{mode:d,modalParams:t,backgroundList:r,deletedId:n,backgrounds:o,size:c&&c.size||{width:0,height:0},mapIsEditable:i,layers:u,tempLayer:s,currentLayer:l,start:a.start||0,enabled:a.enabled,style:f,enabledCatalog:p,confirmDeleteBackgroundModal:y,allowDeletion:b,projection:e}})),R=(0,o.compose)((0,n.connect)(S,{onPropertiesChange:a.He,onToggle:u.Xi.bind(null,"backgroundSelector",null),onLayerChange:u.Xg.bind(null,"backgroundSelector"),onStartChange:u.Xg.bind(null,"backgroundSelector","start"),onAdd:l.st,addLayer:a.A4,backgroundAdded:l.pW,onRemove:a.ZF,onBackgroundEdit:l.$D,updateNode:a.tV,onUpdateThumbnail:l.r5,removeBackground:l.X1,clearModal:l.V3,addBackgroundProperties:l.US,onRemoveBackground:l.p2,setCurrentBackgroundLayer:l.ke},(function(e,t,r){return A(A(A(A({},e),t),r),{},{thumbs:A(A({},b.Z),r.thumbs)})})),(0,o.withProps)((function(e){var t=e.items,r=void 0===t?[]:t;return{hasCatalog:!!i()(r,{name:"MetadataExplorer"})}})))(O.Z);const _=(0,m.rx)("BackgroundSelector",{component:R,reducers:{controls:h.Z,backgroundSelector:v.Z},epics:g.Z})},25108:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(82904),o=r(27418),c=r.n(o);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.kM:var r=t.property||"enabled";return c()({},e,i({},t.control,c()({},e[t.control],i({},r,!(e[t.control]||{})[r]))));case n.At:return!0===t.toggle&&e[t.control]&&e[t.control][t.property]===t.value?c()({},e,i({},t.control,c()({},e[t.control],i({},t.property,void 0)))):c()({},e,i({},t.control,c()({},e[t.control],i({},t.property,t.value))));case n.dc:return c()({},e,i({},t.control,c()({},e[t.control],t.properties)));case n.l:var o=Object.keys(e).filter((function(e){return-1===(t.skip||[]).indexOf(e)})),u=o.reduce((function(t,r){return c()(t,i({},r,c()({},e[r],!0===e[r].enabled?{enabled:!1}:{})))}),{});return c()({},e,u);default:return e}}},88113:(e,t,r)=>{"use strict";r.d(t,{b6:()=>p,_S:()=>d,R7:()=>y,bA:()=>b,Cb:()=>m,$t:()=>h,kS:()=>v,y:()=>g,l2:()=>O,HN:()=>E,CK:()=>A});var n=r(22222),o=r(27361),c=r.n(o),i=r(78718),u=r.n(i),a=r(827);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(76712);var p=function(e){return c()(e,"catalog.services")},d=((0,n.P1)((function(e){return c()(e,"catalog.default.staticServices")}),p,(function(e,t){return s(s({},t),u()(e,"default_map_backgrounds"))})),function(e){return c()(e,"catalog.newService")}),y=function(e){return c()(e,'catalog.services["'.concat(c()(e,"catalog.selectedService"),'"]'))},b=function(e){return c()(e,"catalog.searchOptions")},m=function(e){return c()(e,"catalog.selectedService")},h=function(e){return"metadataexplorer"===c()(e,"controls.toolbar.active")||c()(e,"controls.metadataexplorer.enabled")},v=function(e){return(c()(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},g=function(e){return c()(e,"catalog.pageSize",4)},O=function(e){return c()(e,"catalog.delayAutoSearch",1e3)},E=(0,n.zB)({projection:a.uy}),A=function(e){return c()(e,"catalog.newService.formatUrlUsed","")}},55105:(e,t,r)=>{"use strict";r.d(t,{Nr:()=>l,ic:()=>s,CF:()=>f}),r(91175);var n=r(827),o=r(52259);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){return e.maplayout&&e.maplayout.layout||{}},l=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return i(i({},e),{},u({},t,r[t]))}),{})||{}},f=function(e){var t=(0,n.Od)(e),r=l(e);return r&&t&&t.size&&{left:(0,o.parseLayoutValue)(r.left,t.size.width),bottom:(0,o.parseLayoutValue)(r.bottom,t.size.height),right:(0,o.parseLayoutValue)(r.right,t.size.width),top:(0,o.parseLayoutValue)(r.top,t.size.height)}}},10284:(e,t,r)=>{"use strict";r.d(t,{sw:()=>h,oB:()=>v,X0:()=>g});var n=r(89255),o=r(27361),c=r.n(o),i=r(5055),u=r(7526),a=r(24384);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)})(e)}function p(e,t,r){return(p=d()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&y(o,r.prototype),o}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(o,e);var t,r,n=(t=o,r=d(),function(){var e,n=b(t);if(r){var o=b(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return s(this,e)});function o(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e)).name="OGCError",r.code=t,r}return o}(f(Error)),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tagNameProcessors:[u.stripPrefix],explicitArray:!1,mergeAttrs:!0};return n.Observable.bindNodeCallback((function(e,r){return(0,i.parseString)(e,t,r)}))(e)},v=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?n.Observable.bindNodeCallback((function(e,t){return(0,i.parseString)(e,{tagNameProcessors:[u.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=c()(e,"ExceptionReport.Exception.ExceptionText");throw new m(t||"Undefined OGC Service Error",c()(e,"ExceptionReport.Exception.exceptionCode"))})):n.Observable.of(e)}))},g=function(e,t){return e?a.Z.deleteResource(e,t).then((function(e){return{data:e.data,resType:"success",error:null}})).catch((function(e){return{error:e,resType:"error"}})):n.Observable.of({resType:"success"})}},83139:(e,t,r)=>{"use strict";r.d(t,{Xq:()=>n,v9:()=>c});var n=function(e,t){return new Promise((function(r,n){var o=t||{},c=o.width,i=void 0===c?64:c,u=o.height,a=void 0===u?64:u,l=o.contain,s=o.type,f=void 0===s?"image/jpeg":s,p=o.quality,d=void 0===p?.5:p,y=new Image;y.crossOrigin="anonymous",y.onload=function(){var e=y.naturalWidth/y.naturalHeight,t=i,n=a,o=i/a,c=document.createElement("canvas");c.setAttribute("width",i),c.setAttribute("height",a),c.style.width=i+"px",c.style.height=a+"px";var u=c.getContext("2d"),s=!l&&e<o||l&&e>o?[t,t/e]:[n*e,n];u.save(),u.translate(t/2,n/2),u.drawImage(y,-s[0]/2,-s[1]/2,s[0],s[1]),u.restore();var p=c.toDataURL(f,d);r(p)},y.onerror=function(e){n(e)},y.src=e}))},o=function(e,t){return new Promise((function(r,n){var o=t||{},c=o.type,i=void 0===c?"image/jpeg":c,u=o.quality,a=void 0===u?.5:u,l=document.createElement("video");l.crossOrigin="anonymous";var s=document.createElement("source"),f=document.createElement("canvas");l.addEventListener("loadedmetadata",(function(){var e=l.videoWidth,t=l.videoHeight;f.setAttribute("width",e),f.setAttribute("height",t),f.style.width=e+"px",f.style.height=t+"px"}),!0),l.addEventListener("loadeddata",(function(){l.currentTime=1}),!0),l.addEventListener("seeked",(function(){f.getContext("2d").drawImage(l,0,0);try{var e=f.toDataURL(i,a);r(e)}catch(e){n(e)}}),!0),l.addEventListener("error",(function(e){n(e)}),!0),l.appendChild(s),l.setAttribute("src",e)}))},c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,c=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,i=null===(e=t.match(c))||void 0===e?void 0:e[1];return i?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(i,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return n(e,r)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},3651:(e,t,r)=>{var n=r(42118),o=r(40554),c=Math.max;e.exports=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var u=null==r?0:o(r);return u<0&&(u=c(i+u,0)),n(e,t,u)}},51584:(e,t,r)=>{var n=r(44239),o=r(37005);e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==n(e)}}}]);