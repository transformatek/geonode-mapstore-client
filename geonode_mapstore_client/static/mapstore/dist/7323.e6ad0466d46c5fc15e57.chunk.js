(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7323],{26077:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var o=r(87486),i=r(28199),s=r(47532),n=r(24242),a=function(t){function e(e){var r=e||{},i=(0,n.f0)({},r);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==r.preload?r.preload:0),this.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),this.type=o.Z.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(s.Z.PRELOAD)},e.prototype.setPreload=function(t){this.set(s.Z.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s.Z.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s.Z.USE_INTERIM_TILES_ON_ERROR,t)},e}(i.Z);a.prototype.getSource;const p=a},47532:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});const o={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},97323:(t,e,r)=>{"use strict";r.r(e);var o=r(8010),i=r(26077),s=r(87982),n=r(39265),a=r(24242),p=r(53542),c=r(62550),l=r(48226),u=r(11854);function h(t,e,r){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(r)),!(o.getResolutions().length<=t[0])){var i=o.getTileCoordExtent(t,this.tmpExtent_),s=(0,p.Pq)(o.getTileSize(t[0]),this.tmpSize);1!=e&&(s=(0,p.bA)(s,e,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return(0,a.f0)(n,this.params_),this.getRequestUrl_(t,s,i,e,r,n)}}const _=function(t){function e(e){var r=e||{};t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,tileUrlFunction:h,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition}),this.params_=r.params||{},this.tmpExtent_=(0,s.lJ)(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,o,i,s){var a=this.urls;if(a){var p=i.getCode().split(":").pop();s.SIZE=e[0]+","+e[1],s.BBOX=r.join(","),s.BBOXSR=p,s.IMAGESR=p,s.DPI=Math.round(s.DPI?s.DPI*o:90*o);var c=(1==a.length?a[0]:a[(0,n.$W)((0,l.vp)(t),a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,u.B)(c,s)}},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.updateParams=function(t){(0,a.f0)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(c.Z);(0,o.registerType)("arcgis",{create:function(t){return new i.Z({opacity:void 0!==t.opacity?t.opacity:1,visible:!1!==t.visibility,zIndex:t.zIndex,source:new _({params:{LAYERS:"show:".concat(parseInt(t.name||0,10))},url:t.url})})}})}}]);