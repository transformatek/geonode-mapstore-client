(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[8231],{34990:(t,n,e)=>{"use strict";e.d(n,{D7:()=>O,mN:()=>a,vb:()=>f,KT:()=>E,QK:()=>s,cc:()=>l,Gx:()=>d,XH:()=>p,lX:()=>y,tP:()=>S,Dq:()=>R,LE:()=>T,SW:()=>G,si:()=>g,i2:()=>v,IY:()=>_,Zf:()=>m,ij:()=>Y,Hb:()=>I,Mk:()=>A,c:()=>h,NZ:()=>D,Cx:()=>b,wb:()=>C,km:()=>P,un:()=>L,Ro:()=>w,jr:()=>N,ZY:()=>j,EQ:()=>U,IH:()=>M,rp:()=>V,D_:()=>k,zJ:()=>F,wJ:()=>W,OS:()=>K,YP:()=>H,Ct:()=>q,Od:()=>B,y6:()=>x,g5:()=>X,_e:()=>Z,DF:()=>J,GD:()=>Q,K0:()=>$,kB:()=>z,Xn:()=>tt,G5:()=>nt,Vx:()=>et,RZ:()=>rt,pB:()=>ot,$A:()=>ut,m7:()=>it,YM:()=>ct,o2:()=>Ot,ql:()=>at,c0:()=>ft,nL:()=>Et,Fu:()=>st,WE:()=>lt});var r=e(37153),o=e.n(r),u=e(55877),i=e.n(u),c=e(92579),O="GEOSTORY:ADD",a="GEOSTORY:ADD_RESOURCE",f="GEOSTORY:CHANGE_MODE",E="GEOSTORY:CLEAR_SAVE_ERROR",s="GEOSTORY:EDIT_RESOURCE",l="GEOSTORY:EDIT_WEBPAGE",d="GEOSTORY:SCROLLING",p="GEOSTORY:LOAD_GEOSTORY",y="GEOSTORY:LOADING_GEOSTORY",S="GEOSTORY:MOVE",R="GEOSTORY:REMOVE",T="GEOSTORY:SAVE_STORY",G="GEOSTORY:SAVE_ERROR",g="GEOSTORY:STORY_SAVED",v="GEOSTORY:SELECT_CARD",_="GEOSTORY:SET_CONTROL",m="GEOSTORY:SET_RESOURCE",Y="GEOSTORY:SET_CURRENT_STORY",I="GEOSTORY:SET_WEBPAGE_URL",A="GEOSTORY:TOGGLE_CARD_PREVIEW",h="GEOSTORY:TOGGLE_SETTINGS_PANEL",D="GEOSTORY:TOGGLE_SETTING",b="GEOSTORY:TOGGLE_CONTENT_FOCUS",C="GEOSTORY:UPDATE",P="GEOSTORY:UPDATE_SETTING",L="GEOSTORY:UPDATE_CURRENT_PAGE",w="GEOSTORY:REMOVE_RESOURCE",N="GEOSTORY:SET_PENDING_CHANGES",j="GEOSTORY:SET_UPDATE_URL_SCROLL",U="GEOSTORY:UPDATE_MEDIA_EDITOR_SETTINGS",M=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t};return{type:O,id:e&&e.id||i()(),path:t,position:n,element:o()(e)&&(0,c.nq)(e,r)||e}},V=function(t,n,e){return{type:a,id:t,mediaType:n,data:e}},k=function(t){return{type:f,mode:t?c.nl.EDIT:c.nl.VIEW}},F=function(t,n,e){return{type:s,id:t,mediaType:n,data:e}},W=function(t,n){return{type:p,id:t,options:n}},K=function(t){return{type:"GEOSTORY:GEOSTORY_LOADED",id:t}},H=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:y,value:t,name:n}},q=function(t){return{type:"GEOSTORY:LOAD_GEOSTORY_ERROR",error:t}},B=function(t){return{type:R,path:t}},x=function(t){return{type:G,error:t}},X=function(t,n){return{type:_,control:t,value:n}},Z=function(t){return{type:v,card:t}},J=function(t){return{type:m,resource:t}},Q=function(t){return{type:g,id:t}},$=function(t){return{type:Y,story:t}},z=function(){return{type:A}},tt=function(t){return{type:D,option:t}},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:h,withSave:t}},et=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"replace";return{type:C,path:t,element:n,mode:e}},rt=function(t){var n=t.sectionId,e=t.columnId;return{type:L,sectionId:n,columnId:e}},ot=function(t,n,e){return{type:S,source:t,target:n,position:e}},ut=function(t,n,e,r,o){return{type:b,status:t,target:n,selector:e,hideContent:r,path:o}},it=function(t,n){return{type:P,prop:t,value:n}},ct=function(t){return{type:I,src:t}},Ot=function(t){var n=t.path,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GEOSTORY";return{type:l,path:n,owner:e}},at=function(t,n){return{type:w,id:t,mediaType:n}},ft=function(t){return{type:N,value:t}},Et=function(t){return{type:j,value:t}},st=function(t){return{type:U,mediaEditorSettings:t}},lt=function(t){return{type:d,status:t}}},66113:(t,n,e)=>{"use strict";e.d(n,{$F:()=>g,eg:()=>v,Kg:()=>_,PR:()=>m,eK:()=>Y,pu:()=>I,Lu:()=>h,W5:()=>D,TQ:()=>b,KR:()=>P,sY:()=>L,vv:()=>w,jq:()=>N,Tr:()=>j,w:()=>U,CK:()=>M,u5:()=>V,z7:()=>k,FW:()=>F,GC:()=>W,yL:()=>K,_O:()=>q,JM:()=>B,bU:()=>x,mm:()=>X,X6:()=>Z});var r=e(57546),o=e.n(r),u=e(50542),i=e.n(u),c=e(46713),O=e.n(c),a=e(31476),f=e.n(a),E=e(83403),s=e.n(E),l=e(92579),d=e(74621),p=e(24684);function y(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return S(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?S(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function R(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function T(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?R(Object(e),!0).forEach((function(n){G(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):R(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function G(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var g=function(t){return function(n){return o()(n,(0,l.Ll)("geostory.currentStory.".concat(t),n),"")}},v=function(t){return o()(t,"geostory.isCollapsed",!1)},_=function(t){return o()(t,"geostory.currentStory")},m=function(t){return o()(t,"geostory.currentPage",{})},Y=function(t){return o()(t,"geostory.mode")},I=function(t){return function(t){return o()(function(t){return o()(t,"geostory.resource")}(t),"canEdit",!1)}(t)||(0,d.qg)(t)},A=function(t){return o()(_(t),"sections",[])},h=function(t){return A(t).length>0},D=function(t){return o()(t,"geostory.isSettingsEnabled",!1)},b=function(t){var n=o()(_(t),"settings",{}),e=A(t).filter((function(t){return t.type===l.ID.IMMERSIVE})),r=n.checked||[],u=s()(r.map((function(t){return(0,l.Un)(e,t)})).filter((function(t){return t})));return T(T({},n),{},{expanded:u})},C=function(t){return o()(b(t),"checked",[]).reduce((function(t,n){return T(T({},t),{},G({},n,!0))}),{})},P=function(t){return!f()(o()(_(t),"settings",{}),function(t){return o()(t,"geostory.oldSettings",{})}(t))},L=function(t){return o()(t,"geostory.selectedCard","")},w=function(t){return function(n){return g("".concat(t,".resourceId"))(n)}},N=function(t){return o()(_(t),"resources",[])},j=function(t){return function(n){return i()(N(n),{id:t})}},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.withImmersiveSection,e=void 0!==n&&n,r=t.includeAlways,o=void 0===r||r;return function(t){var n=A(t),r=C(t);return n.reduce((function(t,n){if(n.type===l.ID.TITLE&&(o||r[n.id]))return[].concat(y(t),[n]);if(n.type===l.ID.PARAGRAPH&&(o||r[n.id]))return[].concat(y(t),[n]);if(n.type===l.ID.BANNER&&(o||r[n.id]))return[].concat(y(t),[n]);if(n.type===l.ID.IMMERSIVE){var u=n.contents&&n.contents.reduce((function(t,n){return o||r[n.id]?[].concat(y(t),[T(T({},n),{},{sectionId:t.id})]):t}),[])||[];return e?[].concat(y(t),[n],y(u)):[].concat(y(t),y(u))}return t}),[])}},M=function(t){return U({includeAlways:!0})(t).length},V=function(t){return O()(U({includeAlways:!0})(t),{id:m(t).columns&&m(t).columns[m(t).sectionId]?m(t).columns[m(t).sectionId]:m(t).sectionId||""})},k=function(t){return void 0!==o()(t,"geostory.focusedContent.target")},F=function(t){return o()(t,"geostory.focusedContent")},W=function(t){return g(o()(t,"geostory.focusedContent.path",""))(t)},K=function(t){return A(t).reduce((function(t,n){if(n.type===l.ID.IMMERSIVE){var e=n.contents&&n.contents.map((function(t){return{label:t.title||"",value:t.id}}))||[];return[].concat(y(t),[{label:n.title||"",value:n.id,children:e}])}return[].concat(y(t),[{label:n.title||"",value:n.id}])}),[])},H=function t(n,e){var r=e.contents,o=e.background;return e.resourceId===n||!(!o||o.resourceId!==n)||!!r&&!!i()(r,(function(e){return t(n,e)}))},q=function(t,n){return!!i()(A(t),(function(t){return H(n,t)}))},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.F)(t).includes("geostory/shared")},x=function(t){return o()(t,"geostory.updateUrlOnScroll",!1)},X=function(t){return o()(t,"geostory.currentStory.settings.theme.fontFamilies",[])},Z=function(t){return o()(t,"geostory.mediaEditorSettings")}},24684:(t,n,e)=>{"use strict";e.d(n,{F:()=>u,y:()=>i});var r=e(57546),o=e.n(r),u=function(t){return o()(t,"router.location.pathname")||"/"},i=function(t){return o()(t,"router.location.search")||""}}}]);